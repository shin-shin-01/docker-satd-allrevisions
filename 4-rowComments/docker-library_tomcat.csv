,CommitID,Dockerfiles,Comments
0,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/Dockerfile-alpine.template,"# let ""Tomcat Native"" live somewhere isolated
"
1,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/Dockerfile-alpine.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/Dockerfile-alpine.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/Dockerfile-alpine.template,"# if the version is outdated, we might have to pull from the dist/archive :/
"
4,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/Dockerfile-alpine.template,"# not all the mirrors actually carry the .asc files :'(
"
5,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/Dockerfile-alpine.template,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
6,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/Dockerfile-alpine.template,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/Dockerfile-alpine.template,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/Dockerfile-alpine.template,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/Dockerfile-alpine.template,"# verify Tomcat Native is working properly
"
10,06a7e79e30595058df3c2fec9c769e47e2bca56d,/6/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11,06a7e79e30595058df3c2fec9c769e47e2bca56d,/6/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
12,06a7e79e30595058df3c2fec9c769e47e2bca56d,/6/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
13,06a7e79e30595058df3c2fec9c769e47e2bca56d,/6/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
14,06a7e79e30595058df3c2fec9c769e47e2bca56d,/6/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15,06a7e79e30595058df3c2fec9c769e47e2bca56d,/6/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16,06a7e79e30595058df3c2fec9c769e47e2bca56d,/6/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17,06a7e79e30595058df3c2fec9c769e47e2bca56d,/6/jre7/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
18,6f1c628fa92feea8b28e98e56a990500f2326936,/6-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
19,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre11/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre11/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
21,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre11/Dockerfile,"# only add stretch if we're not already building from within stretch
"
22,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre11/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
23,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre11/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
24,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre11/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
25,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre11/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
26,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre11/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
27,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre11/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
28,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre11/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
29,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre11/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
30,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre11/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
31,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre11/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
32,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre11/Dockerfile,"# verify Tomcat Native is working properly
"
33,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
34,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
35,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
36,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
37,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
38,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
39,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
40,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
41,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
42,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
43,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
44,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
45,bd0e24fdb2c21cccb32d9ee821e0c96cf8b2f393,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
46,bd0e24fdb2c21cccb32d9ee821e0c96cf8b2f393,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
47,bd0e24fdb2c21cccb32d9ee821e0c96cf8b2f393,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
48,bd0e24fdb2c21cccb32d9ee821e0c96cf8b2f393,/8.5/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
49,bd0e24fdb2c21cccb32d9ee821e0c96cf8b2f393,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
50,bd0e24fdb2c21cccb32d9ee821e0c96cf8b2f393,/8.5/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
51,bd0e24fdb2c21cccb32d9ee821e0c96cf8b2f393,/8.5/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
52,bd0e24fdb2c21cccb32d9ee821e0c96cf8b2f393,/8.5/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
53,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
54,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
55,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
56,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
57,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
58,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
59,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
60,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
61,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
62,aceabe036433c68b278767811bac728c6db4f8b3,/Dockerfile.template,"# let ""Tomcat Native"" live somewhere isolated
"
63,aceabe036433c68b278767811bac728c6db4f8b3,/Dockerfile.template,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
64,aceabe036433c68b278767811bac728c6db4f8b3,/Dockerfile.template,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
65,aceabe036433c68b278767811bac728c6db4f8b3,/Dockerfile.template,"# except OpenSSL, which is the reason we're here
"
66,aceabe036433c68b278767811bac728c6db4f8b3,/Dockerfile.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
67,aceabe036433c68b278767811bac728c6db4f8b3,/Dockerfile.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
68,aceabe036433c68b278767811bac728c6db4f8b3,/Dockerfile.template,"# not all the mirrors actually carry the .asc files :'(
"
69,aceabe036433c68b278767811bac728c6db4f8b3,/Dockerfile.template,"# verify Tomcat Native is working properly
"
70,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
71,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
72,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
73,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
74,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
75,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
76,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
77,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
78,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
79,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre7/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
80,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
81,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
82,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk13/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
83,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk13/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
84,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk13/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
85,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk13/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
86,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk13/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
87,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk13/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
88,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk13/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
89,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk13/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
90,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk13/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
91,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk13/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
92,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk13/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
93,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk13/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
94,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk13/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
95,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
96,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
97,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/8.0/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
98,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/8.0/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
99,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/8.0/jre7-alpine/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
100,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/8.0/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
101,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/8.0/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
102,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/8.0/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
103,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
104,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
105,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
106,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
107,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
108,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
109,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
110,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
111,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
112,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
113,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
114,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
115,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre9/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
116,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre9/Dockerfile,"# only add stretch if we're not already building from within stretch
"
117,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre9/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
118,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre9/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
119,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
120,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
121,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre9/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
122,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre9/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
123,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
124,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
125,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
126,a227157792e94c669148c3c2a09072fb317070e0,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
127,a227157792e94c669148c3c2a09072fb317070e0,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
128,a227157792e94c669148c3c2a09072fb317070e0,/8.0/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
129,a227157792e94c669148c3c2a09072fb317070e0,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
130,a227157792e94c669148c3c2a09072fb317070e0,/8.0/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
131,a227157792e94c669148c3c2a09072fb317070e0,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
132,a227157792e94c669148c3c2a09072fb317070e0,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
133,a227157792e94c669148c3c2a09072fb317070e0,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
134,a227157792e94c669148c3c2a09072fb317070e0,/8.0/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
135,a227157792e94c669148c3c2a09072fb317070e0,/8.0/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
136,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
137,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
138,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
139,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
140,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
141,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
142,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
143,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
144,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
145,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
146,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre9/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
147,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre9/Dockerfile,"# only add stretch if we're not already building from within stretch
"
148,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre9/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
149,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre9/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
150,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
151,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
152,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre9/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
153,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre9/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
154,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
155,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
156,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
157,980cfce753b4b185feda907b35648089386607af,/8-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
158,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
159,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
160,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
161,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
162,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
163,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
164,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
165,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
166,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
167,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
168,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
169,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
170,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
171,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
172,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
173,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
174,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
175,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
176,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
177,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
178,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
179,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
180,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
181,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
182,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
183,8c174e038fe911fecc1a920a56afc10fd343bce2,/7-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
184,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
185,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
186,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
187,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
188,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
189,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
190,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
191,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
192,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
193,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
194,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
195,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
196,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
197,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
198,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
199,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
200,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
201,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
202,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
203,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
204,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
205,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
206,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
207,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
208,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
209,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
210,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
211,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
212,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
213,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
214,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
215,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
216,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
217,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
218,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
219,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
220,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre9-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
221,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre9-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
222,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre9-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
223,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre9-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
224,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre9-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
225,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre9-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
226,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre9-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
227,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre9-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
228,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre9-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
229,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre9-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
230,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre9-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
231,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre9-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
232,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
233,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
234,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
235,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/9.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
236,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
237,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
238,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
239,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
240,1ce7bd2eed038fb722527f41f0f185322d53e979,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
241,1ce7bd2eed038fb722527f41f0f185322d53e979,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
242,1ce7bd2eed038fb722527f41f0f185322d53e979,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
243,1ce7bd2eed038fb722527f41f0f185322d53e979,/8.5/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
244,1ce7bd2eed038fb722527f41f0f185322d53e979,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
245,1ce7bd2eed038fb722527f41f0f185322d53e979,/8.5/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
246,1ce7bd2eed038fb722527f41f0f185322d53e979,/8.5/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
247,1ce7bd2eed038fb722527f41f0f185322d53e979,/8.5/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
248,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
249,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
250,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
251,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
252,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
253,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
254,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
255,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
256,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
257,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
258,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
259,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
260,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
261,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
262,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
263,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
264,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
265,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
266,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
267,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
268,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
269,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
270,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
271,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
272,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
273,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
274,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
275,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
276,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
277,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
278,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
279,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
280,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
281,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
282,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
283,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
284,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
285,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
286,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
287,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
288,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
289,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
290,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
291,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
292,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
293,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
294,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/8.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
295,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
296,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
297,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
298,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
299,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/7/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
300,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/Dockerfile-yum.template,"# let ""Tomcat Native"" live somewhere isolated
"
301,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/Dockerfile-yum.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
302,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/Dockerfile-yum.template,"# http://yum.baseurl.org/wiki/YumDB.html
"
303,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/Dockerfile-yum.template,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
304,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/Dockerfile-yum.template,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
305,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/Dockerfile-yum.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
306,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/Dockerfile-yum.template,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
307,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/Dockerfile-yum.template,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
308,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/Dockerfile-yum.template,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
309,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/Dockerfile-yum.template,"# mark any explicit dependencies as manually installed
"
310,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/Dockerfile-yum.template,"# clean up anything added temporarily and not later marked as necessary
"
311,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/Dockerfile-yum.template,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
312,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/Dockerfile-yum.template,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
313,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/Dockerfile-yum.template,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
314,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/Dockerfile-yum.template,"# verify Tomcat Native is working properly
"
315,f26c14147f9affae8f32100430130271fc82bd3e,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
316,f26c14147f9affae8f32100430130271fc82bd3e,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
317,f26c14147f9affae8f32100430130271fc82bd3e,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
318,f26c14147f9affae8f32100430130271fc82bd3e,/7/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
319,f26c14147f9affae8f32100430130271fc82bd3e,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
320,f26c14147f9affae8f32100430130271fc82bd3e,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
321,f26c14147f9affae8f32100430130271fc82bd3e,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
322,f26c14147f9affae8f32100430130271fc82bd3e,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
323,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre9-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
324,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre9-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
325,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre9-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
326,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre9-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
327,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre9-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
328,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre9-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
329,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre9-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
330,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre9-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
331,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre9-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
332,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre9-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
333,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre9-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
334,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre9-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
335,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/Dockerfile-yum.template,"# let ""Tomcat Native"" live somewhere isolated
"
336,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/Dockerfile-yum.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
337,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/Dockerfile-yum.template,"# http://yum.baseurl.org/wiki/YumDB.html
"
338,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/Dockerfile-yum.template,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
339,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/Dockerfile-yum.template,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
340,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/Dockerfile-yum.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
341,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/Dockerfile-yum.template,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
342,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/Dockerfile-yum.template,"# mark any explicit dependencies as manually installed
"
343,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/Dockerfile-yum.template,"# clean up anything added temporarily and not later marked as necessary
"
344,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/Dockerfile-yum.template,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
345,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/Dockerfile-yum.template,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
346,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/Dockerfile-yum.template,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
347,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/Dockerfile-yum.template,"# verify Tomcat Native is working properly
"
348,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
349,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
350,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
351,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
352,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
353,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
354,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
355,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
356,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
357,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
358,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
359,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
360,7a16673434d629938f064b5aed86df44ee49b53a,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
361,7a16673434d629938f064b5aed86df44ee49b53a,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
362,7a16673434d629938f064b5aed86df44ee49b53a,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
363,7a16673434d629938f064b5aed86df44ee49b53a,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
364,7a16673434d629938f064b5aed86df44ee49b53a,/7/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
365,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
366,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
367,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
368,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
369,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
370,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
371,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
372,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
373,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
374,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
375,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
376,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
377,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
378,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
379,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
380,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
381,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
382,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
383,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
384,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
385,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
386,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
387,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
388,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
389,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
390,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
391,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
392,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
393,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
394,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
395,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
396,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
397,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
398,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
399,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
400,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
401,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
402,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
403,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
404,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
405,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
406,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
407,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
408,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
409,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
410,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
411,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
412,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
413,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
414,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
415,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
416,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
417,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
418,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
419,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
420,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
421,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
422,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
423,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
424,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
425,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
426,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
427,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
428,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
429,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
430,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
431,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
432,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
433,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
434,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
435,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
436,aff42b3c40f2dff08b421fce66b81983706bfc50,/8-jre7/Dockerfile,"# add our user and group first to make sure their IDs get assigned consistently, regardless of whatever dependencies get added
"
437,aff42b3c40f2dff08b421fce66b81983706bfc50,/8-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
438,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre11-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
439,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre11-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
440,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre11-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
441,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre11-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
442,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre11-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
443,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre11-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
444,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre11-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
445,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre11-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
446,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre11-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
447,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre11-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
448,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre11-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
449,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre11-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
450,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre11-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
451,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre11-slim/Dockerfile,"# verify Tomcat Native is working properly
"
452,50f4c2ff10406eec6d4a01b5490274c6024399d6,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
453,50f4c2ff10406eec6d4a01b5490274c6024399d6,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
454,50f4c2ff10406eec6d4a01b5490274c6024399d6,/7/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
455,50f4c2ff10406eec6d4a01b5490274c6024399d6,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
456,50f4c2ff10406eec6d4a01b5490274c6024399d6,/7/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
457,50f4c2ff10406eec6d4a01b5490274c6024399d6,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
458,50f4c2ff10406eec6d4a01b5490274c6024399d6,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
459,50f4c2ff10406eec6d4a01b5490274c6024399d6,/7/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
460,50f4c2ff10406eec6d4a01b5490274c6024399d6,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
461,50f4c2ff10406eec6d4a01b5490274c6024399d6,/7/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
462,50f4c2ff10406eec6d4a01b5490274c6024399d6,/7/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
463,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
464,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
465,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
466,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
467,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
468,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
469,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
470,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
471,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
472,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
473,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
474,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
475,ec75141e3cb6276b07d66c16042152e2d4de119c,/8.5/jre8/Dockerfile,"# runtime dependency for Tomcat Native Libraries
"
476,ec75141e3cb6276b07d66c16042152e2d4de119c,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
477,ec75141e3cb6276b07d66c16042152e2d4de119c,/8.5/jre8/Dockerfile,"# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)

"
478,ec75141e3cb6276b07d66c16042152e2d4de119c,/8.5/jre8/Dockerfile,"# http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5048274.html (ie, HACK HACK HACK)
"
479,ec75141e3cb6276b07d66c16042152e2d4de119c,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
480,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
481,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
482,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
483,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
484,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
485,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
486,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
487,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
488,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
489,6f4b7544afb91088a666ef620e8ad5e989ed9abb,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
490,6f4b7544afb91088a666ef620e8ad5e989ed9abb,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
491,6f4b7544afb91088a666ef620e8ad5e989ed9abb,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
492,6f4b7544afb91088a666ef620e8ad5e989ed9abb,/7/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
493,6f4b7544afb91088a666ef620e8ad5e989ed9abb,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
494,6f4b7544afb91088a666ef620e8ad5e989ed9abb,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
495,6f4b7544afb91088a666ef620e8ad5e989ed9abb,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
496,6f4b7544afb91088a666ef620e8ad5e989ed9abb,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
497,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/7/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
498,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/7/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
499,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/7/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
500,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/7/jdk8/corretto/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
501,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/7/jdk8/corretto/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
502,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/7/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
503,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/7/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
504,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/7/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
505,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/7/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
506,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/7/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
507,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/7/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
508,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/7/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
509,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/7/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
510,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/7/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
511,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
512,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
513,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
514,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.5/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
515,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
516,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.5/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
517,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.5/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
518,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.5/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
519,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
520,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
521,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
522,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
523,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
524,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
525,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
526,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
527,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
528,b81ffe88c0bb6d760b6ee7d9c056469d59e68311,/7-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
529,62f0d3f0ded1df407b771c127fccc6d60990da8a,/7/Dockerfile,"# add our user and group first to make sure their IDs get assigned consistently, regardless of whatever dependencies get added
"
530,62f0d3f0ded1df407b771c127fccc6d60990da8a,/7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
531,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
532,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
533,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
534,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
535,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
536,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
537,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
538,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
539,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
540,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
541,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
542,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
543,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
544,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
545,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
546,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
547,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
548,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/9.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
549,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
550,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
551,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
552,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
553,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
554,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
555,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
556,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
557,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
558,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
559,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
560,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
561,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
562,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
563,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
564,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
565,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
566,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
567,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
568,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
569,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
570,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
571,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
572,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
573,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
574,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
575,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
576,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
577,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
578,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
579,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
580,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
581,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
582,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
583,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
584,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
585,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
586,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
587,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
588,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
589,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
590,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
591,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
592,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
593,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
594,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
595,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
596,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
597,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
598,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
599,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
600,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
601,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
602,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
603,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
604,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
605,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
606,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
607,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
608,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
609,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
610,b0b0edc4828653f4ad671b9d73a23dd3f2a6eda1,/Dockerfile.template,"# let ""Tomcat Native"" live somewhere isolated
"
611,b0b0edc4828653f4ad671b9d73a23dd3f2a6eda1,/Dockerfile.template,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
612,b0b0edc4828653f4ad671b9d73a23dd3f2a6eda1,/Dockerfile.template,"# only add stretch if we're not already building from within stretch
"
613,b0b0edc4828653f4ad671b9d73a23dd3f2a6eda1,/Dockerfile.template,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
614,b0b0edc4828653f4ad671b9d73a23dd3f2a6eda1,/Dockerfile.template,"# ... except OpenSSL, which is the reason we're here
"
615,b0b0edc4828653f4ad671b9d73a23dd3f2a6eda1,/Dockerfile.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
616,b0b0edc4828653f4ad671b9d73a23dd3f2a6eda1,/Dockerfile.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
617,b0b0edc4828653f4ad671b9d73a23dd3f2a6eda1,/Dockerfile.template,"# not all the mirrors actually carry the .asc files :'(
"
618,b0b0edc4828653f4ad671b9d73a23dd3f2a6eda1,/Dockerfile.template,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
619,b0b0edc4828653f4ad671b9d73a23dd3f2a6eda1,/Dockerfile.template,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
620,d3d5932c4c852fa2861c68d6d1adaf0ce1b1a870,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
621,d3d5932c4c852fa2861c68d6d1adaf0ce1b1a870,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
622,d3d5932c4c852fa2861c68d6d1adaf0ce1b1a870,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
623,d3d5932c4c852fa2861c68d6d1adaf0ce1b1a870,/8.5/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
624,d3d5932c4c852fa2861c68d6d1adaf0ce1b1a870,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
625,d3d5932c4c852fa2861c68d6d1adaf0ce1b1a870,/8.5/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
626,d3d5932c4c852fa2861c68d6d1adaf0ce1b1a870,/8.5/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
627,d3d5932c4c852fa2861c68d6d1adaf0ce1b1a870,/8.5/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
628,d3d5932c4c852fa2861c68d6d1adaf0ce1b1a870,/8.5/jre8-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
629,d3d5932c4c852fa2861c68d6d1adaf0ce1b1a870,/8.5/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
630,747c33edc8015de543775ceee497c5926d05795f,/8/Dockerfile,"# add our user and group first to make sure their IDs get assigned consistently, regardless of whatever dependencies get added
"
631,747c33edc8015de543775ceee497c5926d05795f,/8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
632,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
633,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
634,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
635,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/9.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
636,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
637,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
638,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk13/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
639,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk13/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
640,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk13/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
641,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk13/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
642,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk13/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
643,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk13/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
644,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk13/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
645,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk13/openjdk-oracle/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
646,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk13/openjdk-oracle/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
647,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk13/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
648,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk13/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
649,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk13/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
650,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk13/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
651,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk13/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
652,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk13/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
653,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
654,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
655,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
656,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
657,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
658,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
659,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
660,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
661,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
662,3e2747c34ded033f4c7adf108f51f3634d025adf,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
663,3e2747c34ded033f4c7adf108f51f3634d025adf,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
664,3e2747c34ded033f4c7adf108f51f3634d025adf,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
665,3e2747c34ded033f4c7adf108f51f3634d025adf,/8.5/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
666,3e2747c34ded033f4c7adf108f51f3634d025adf,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
667,3e2747c34ded033f4c7adf108f51f3634d025adf,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
668,3e2747c34ded033f4c7adf108f51f3634d025adf,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
669,3e2747c34ded033f4c7adf108f51f3634d025adf,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
670,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
671,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
672,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
673,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
674,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
675,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
676,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
677,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
678,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
679,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
680,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
681,a227157792e94c669148c3c2a09072fb317070e0,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
682,a227157792e94c669148c3c2a09072fb317070e0,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
683,a227157792e94c669148c3c2a09072fb317070e0,/7/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
684,a227157792e94c669148c3c2a09072fb317070e0,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
685,a227157792e94c669148c3c2a09072fb317070e0,/7/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
686,a227157792e94c669148c3c2a09072fb317070e0,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
687,a227157792e94c669148c3c2a09072fb317070e0,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
688,a227157792e94c669148c3c2a09072fb317070e0,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
689,a227157792e94c669148c3c2a09072fb317070e0,/7/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
690,a227157792e94c669148c3c2a09072fb317070e0,/7/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
691,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
692,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
693,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
694,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
695,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
696,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
697,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
698,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
699,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
700,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
701,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
702,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
703,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
704,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
705,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
706,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
707,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
708,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
709,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
710,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
711,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
712,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
713,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
714,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
715,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
716,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
717,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
718,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
719,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
720,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
721,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
722,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
723,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
724,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
725,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk13/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
726,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk13/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
727,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk13/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
728,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk13/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
729,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk13/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
730,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk13/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
731,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk13/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
732,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk13/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
733,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk13/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
734,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk13/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
735,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk13/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
736,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk13/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
737,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk13/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
738,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
739,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
740,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
741,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
742,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.5/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
743,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
744,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
745,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
746,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
747,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
748,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
749,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
750,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
751,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
752,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/Dockerfile-alpine.template,"# let ""Tomcat Native"" live somewhere isolated
"
753,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/Dockerfile-alpine.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
754,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/Dockerfile-alpine.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
755,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/Dockerfile-alpine.template,"# if the version is outdated, we might have to pull from the dist/archive :/
"
756,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/Dockerfile-alpine.template,"# not all the mirrors actually carry the .asc files :'(
"
757,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/Dockerfile-alpine.template,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
758,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/Dockerfile-alpine.template,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
759,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/Dockerfile-alpine.template,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
760,e7a7901e48c2f4d4fd7e150623b9a9f44e14866e,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
761,e7a7901e48c2f4d4fd7e150623b9a9f44e14866e,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
762,e7a7901e48c2f4d4fd7e150623b9a9f44e14866e,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
763,e7a7901e48c2f4d4fd7e150623b9a9f44e14866e,/8.5/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
764,e7a7901e48c2f4d4fd7e150623b9a9f44e14866e,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
765,e7a7901e48c2f4d4fd7e150623b9a9f44e14866e,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
766,e7a7901e48c2f4d4fd7e150623b9a9f44e14866e,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
767,e7a7901e48c2f4d4fd7e150623b9a9f44e14866e,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
768,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
769,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
770,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
771,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
772,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
773,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
774,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
775,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
776,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
777,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
778,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
779,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
780,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
781,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
782,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
783,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
784,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
785,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
786,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
787,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
788,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
789,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
790,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
791,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
792,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
793,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
794,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
795,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
796,7a16673434d629938f064b5aed86df44ee49b53a,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
797,7a16673434d629938f064b5aed86df44ee49b53a,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
798,7a16673434d629938f064b5aed86df44ee49b53a,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
799,7a16673434d629938f064b5aed86df44ee49b53a,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
800,7a16673434d629938f064b5aed86df44ee49b53a,/7/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
801,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
802,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
803,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
804,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
805,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
806,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
807,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
808,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
809,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
810,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
811,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
812,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
813,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
814,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
815,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
816,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
817,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
818,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
819,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
820,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
821,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
822,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/7/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
823,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
824,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
825,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
826,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
827,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
828,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
829,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
830,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
831,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
832,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
833,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
834,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
835,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
836,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
837,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
838,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
839,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre10-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
840,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre10-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
841,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre10-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
842,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre10-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
843,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre10-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
844,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre10-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
845,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre10-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
846,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre10-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
847,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre10-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
848,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre10-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
849,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre10-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
850,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre10-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
851,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre11-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
852,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre11-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
853,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre11-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
854,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre11-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
855,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre11-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
856,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre11-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
857,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre11-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
858,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre11-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
859,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre11-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
860,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre11-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
861,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre11-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
862,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre11-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
863,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre11-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
864,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre11-slim/Dockerfile,"# verify Tomcat Native is working properly
"
865,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
866,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
867,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
868,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
869,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
870,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
871,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
872,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
873,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
874,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
875,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
876,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
877,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
878,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
879,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
880,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
881,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
882,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
883,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
884,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
885,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
886,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
887,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
888,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
889,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
890,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
891,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/9.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
892,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
893,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
894,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
895,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
896,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
897,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
898,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
899,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
900,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
901,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
902,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
903,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
904,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
905,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
906,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
907,81c66e2e695ad5548b726841c00512a9acf18eb5,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
908,81c66e2e695ad5548b726841c00512a9acf18eb5,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
909,81c66e2e695ad5548b726841c00512a9acf18eb5,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
910,81c66e2e695ad5548b726841c00512a9acf18eb5,/9.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
911,81c66e2e695ad5548b726841c00512a9acf18eb5,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
912,81c66e2e695ad5548b726841c00512a9acf18eb5,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
913,81c66e2e695ad5548b726841c00512a9acf18eb5,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
914,81c66e2e695ad5548b726841c00512a9acf18eb5,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
915,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
916,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
917,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/8.0/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
918,42acf24d6056b82d396da6658943f5c26e7b5cc1,/7-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
919,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
920,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre9/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
921,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre9/Dockerfile,"# only add stretch if we're not already building from within stretch
"
922,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre9/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
923,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre9/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
924,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
925,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
926,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre9/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
927,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre9/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
928,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
929,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
930,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
931,a55c4f55b74edcf25c7a7cb8feb2b934d4724e8d,/7-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
932,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
933,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
934,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/8.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
935,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/8.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
936,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/8.0/jre8-alpine/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
937,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/8.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
938,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/8.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
939,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/8.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
940,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
941,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
942,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
943,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
944,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/9.0/jre8-alpine/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
945,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/9.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
946,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/9.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
947,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
948,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
949,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
950,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
951,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
952,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
953,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
954,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
955,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
956,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
957,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
958,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
959,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
960,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
961,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
962,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
963,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
964,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
965,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
966,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
967,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
968,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
969,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
970,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
971,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
972,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
973,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
974,8323df4824d3661f094a1a6c30ed7e13c0536b9e,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
975,8323df4824d3661f094a1a6c30ed7e13c0536b9e,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
976,8323df4824d3661f094a1a6c30ed7e13c0536b9e,/9.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
977,8323df4824d3661f094a1a6c30ed7e13c0536b9e,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
978,8323df4824d3661f094a1a6c30ed7e13c0536b9e,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
979,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
980,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
981,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
982,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
983,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
984,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
985,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
986,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
987,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
988,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
989,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
990,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
991,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
992,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
993,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
994,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
995,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
996,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
997,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
998,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
999,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1000,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
1001,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1002,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1003,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1004,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
1005,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre10/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1006,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre10/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
1007,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre10/Dockerfile,"# only add stretch if we're not already building from within stretch
"
1008,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre10/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
1009,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre10/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
1010,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre10/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1011,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre10/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1012,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre10/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
1013,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre10/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1014,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre10/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1015,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre10/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1016,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre10/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
1017,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1018,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1019,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
1020,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
1021,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
1022,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1023,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1024,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
1025,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
1026,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
1027,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
1028,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1029,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1030,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1031,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
1032,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1033,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1034,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1035,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1036,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1037,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1038,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1039,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1040,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
1041,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1042,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1043,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1044,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1045,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
1046,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
1047,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
1048,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1049,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1050,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1051,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1052,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
1053,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1054,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1055,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1056,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1057,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
1058,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
1059,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1060,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1061,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1062,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1063,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
1064,35e89070548111261cf6a9e9398556d5b2c4f7f7,/Dockerfile.template,"# let ""Tomcat Native"" live somewhere isolated
"
1065,35e89070548111261cf6a9e9398556d5b2c4f7f7,/Dockerfile.template,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
1066,35e89070548111261cf6a9e9398556d5b2c4f7f7,/Dockerfile.template,"# only add stretch if we're not already building from within stretch
"
1067,35e89070548111261cf6a9e9398556d5b2c4f7f7,/Dockerfile.template,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
1068,35e89070548111261cf6a9e9398556d5b2c4f7f7,/Dockerfile.template,"# ... except OpenSSL, which is the reason we're here
"
1069,35e89070548111261cf6a9e9398556d5b2c4f7f7,/Dockerfile.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1070,35e89070548111261cf6a9e9398556d5b2c4f7f7,/Dockerfile.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1071,35e89070548111261cf6a9e9398556d5b2c4f7f7,/Dockerfile.template,"# if the version is outdated, we might have to pull from the dist/archive :/
"
1072,35e89070548111261cf6a9e9398556d5b2c4f7f7,/Dockerfile.template,"# not all the mirrors actually carry the .asc files :'(
"
1073,35e89070548111261cf6a9e9398556d5b2c4f7f7,/Dockerfile.template,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1074,35e89070548111261cf6a9e9398556d5b2c4f7f7,/Dockerfile.template,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
1075,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1076,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1077,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1078,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1079,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
1080,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
1081,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1082,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1083,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1084,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1085,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
1086,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1087,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
1088,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
1089,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
1090,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
1091,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1092,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1093,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
1094,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1095,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1096,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1097,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
1098,989f50ed5db788921a4954109b90362e2209295e,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1099,989f50ed5db788921a4954109b90362e2209295e,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
1100,989f50ed5db788921a4954109b90362e2209295e,/7/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
1101,0e18eab4234afbff617aee84e7156ac1b4fd67d5,/6/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1102,0e18eab4234afbff617aee84e7156ac1b4fd67d5,/6/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
1103,0e18eab4234afbff617aee84e7156ac1b4fd67d5,/6/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
1104,0e18eab4234afbff617aee84e7156ac1b4fd67d5,/6/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
1105,0e18eab4234afbff617aee84e7156ac1b4fd67d5,/6/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
1106,0e18eab4234afbff617aee84e7156ac1b4fd67d5,/6/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1107,0e18eab4234afbff617aee84e7156ac1b4fd67d5,/6/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1108,0e18eab4234afbff617aee84e7156ac1b4fd67d5,/6/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1109,0e18eab4234afbff617aee84e7156ac1b4fd67d5,/6/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1110,0e18eab4234afbff617aee84e7156ac1b4fd67d5,/6/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
1111,1ac581da0dbef3f191cbb2d5fbfc4292e32bb0dd,/6-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
1112,35e89070548111261cf6a9e9398556d5b2c4f7f7,/9.0/jre9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1113,35e89070548111261cf6a9e9398556d5b2c4f7f7,/9.0/jre9/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
1114,35e89070548111261cf6a9e9398556d5b2c4f7f7,/9.0/jre9/Dockerfile,"# only add stretch if we're not already building from within stretch
"
1115,35e89070548111261cf6a9e9398556d5b2c4f7f7,/9.0/jre9/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
1116,35e89070548111261cf6a9e9398556d5b2c4f7f7,/9.0/jre9/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
1117,35e89070548111261cf6a9e9398556d5b2c4f7f7,/9.0/jre9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1118,35e89070548111261cf6a9e9398556d5b2c4f7f7,/9.0/jre9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1119,35e89070548111261cf6a9e9398556d5b2c4f7f7,/9.0/jre9/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
1120,35e89070548111261cf6a9e9398556d5b2c4f7f7,/9.0/jre9/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1121,35e89070548111261cf6a9e9398556d5b2c4f7f7,/9.0/jre9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1122,35e89070548111261cf6a9e9398556d5b2c4f7f7,/9.0/jre9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
1123,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1124,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1125,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1126,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1127,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
1128,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
1129,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
1130,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1131,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1132,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1133,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1134,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
1135,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1136,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
1137,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
1138,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
1139,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
1140,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1141,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1142,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
1143,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1144,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre7/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1145,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1146,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
1147,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1148,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1149,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1150,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1151,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
1152,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
1153,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1154,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1155,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1156,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1157,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
1158,e4ffae4e6e76e979ad524970f80984ee4cff88d7,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1159,e4ffae4e6e76e979ad524970f80984ee4cff88d7,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
1160,e4ffae4e6e76e979ad524970f80984ee4cff88d7,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
1161,e4ffae4e6e76e979ad524970f80984ee4cff88d7,/8.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
1162,e4ffae4e6e76e979ad524970f80984ee4cff88d7,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1163,e4ffae4e6e76e979ad524970f80984ee4cff88d7,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1164,e4ffae4e6e76e979ad524970f80984ee4cff88d7,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1165,e4ffae4e6e76e979ad524970f80984ee4cff88d7,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
1166,81c66e2e695ad5548b726841c00512a9acf18eb5,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1167,81c66e2e695ad5548b726841c00512a9acf18eb5,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
1168,81c66e2e695ad5548b726841c00512a9acf18eb5,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1169,81c66e2e695ad5548b726841c00512a9acf18eb5,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1170,81c66e2e695ad5548b726841c00512a9acf18eb5,/7/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
1171,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1172,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1173,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
1174,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
1175,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
1176,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1177,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1178,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
1179,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
1180,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
1181,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
1182,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
1183,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1184,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1185,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1186,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
1187,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1188,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1189,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
1190,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
1191,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
1192,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1193,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1194,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
1195,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
1196,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
1197,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
1198,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
1199,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1200,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1201,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1202,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
1203,8b361a27d3ea746682b8dd93327d6b5e376b8dee,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1204,8b361a27d3ea746682b8dd93327d6b5e376b8dee,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
1205,8b361a27d3ea746682b8dd93327d6b5e376b8dee,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
1206,8b361a27d3ea746682b8dd93327d6b5e376b8dee,/9.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
1207,8b361a27d3ea746682b8dd93327d6b5e376b8dee,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1208,8b361a27d3ea746682b8dd93327d6b5e376b8dee,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1209,8b361a27d3ea746682b8dd93327d6b5e376b8dee,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1210,8b361a27d3ea746682b8dd93327d6b5e376b8dee,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
1211,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1212,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1213,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1214,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
1215,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1216,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
1217,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1218,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1219,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1220,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
1221,5c8b74e495a1b63116b524407941b15eef58a7fe,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1222,5c8b74e495a1b63116b524407941b15eef58a7fe,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
1223,5c8b74e495a1b63116b524407941b15eef58a7fe,/8.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
1224,5c8b74e495a1b63116b524407941b15eef58a7fe,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
1225,5c8b74e495a1b63116b524407941b15eef58a7fe,/8.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
1226,5c8b74e495a1b63116b524407941b15eef58a7fe,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1227,5c8b74e495a1b63116b524407941b15eef58a7fe,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1228,5c8b74e495a1b63116b524407941b15eef58a7fe,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1229,5c8b74e495a1b63116b524407941b15eef58a7fe,/8.0/jre8/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
1230,5c8b74e495a1b63116b524407941b15eef58a7fe,/8.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1231,5c8b74e495a1b63116b524407941b15eef58a7fe,/8.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
1232,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1233,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1234,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1235,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1236,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
1237,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
1238,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1239,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1240,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1241,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1242,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
1243,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1244,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1245,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1246,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1247,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
1248,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
1249,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
1250,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1251,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1252,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1253,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1254,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
1255,1ff9d0feae228557a87285620126df53c44868ca,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1256,1ff9d0feae228557a87285620126df53c44868ca,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1257,1ff9d0feae228557a87285620126df53c44868ca,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1258,1ff9d0feae228557a87285620126df53c44868ca,/9.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
1259,1ff9d0feae228557a87285620126df53c44868ca,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1260,1ff9d0feae228557a87285620126df53c44868ca,/9.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
1261,1ff9d0feae228557a87285620126df53c44868ca,/9.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1262,1ff9d0feae228557a87285620126df53c44868ca,/9.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1263,1ff9d0feae228557a87285620126df53c44868ca,/9.0/jre8-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1264,1ff9d0feae228557a87285620126df53c44868ca,/9.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
1265,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1266,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1267,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1268,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1269,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/7/jre7-alpine/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
1270,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/7/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
1271,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/7/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1272,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/7/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
1273,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre9-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1274,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre9-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
1275,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre9-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
1276,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre9-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
1277,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre9-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
1278,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre9-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1279,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre9-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1280,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre9-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
1281,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre9-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1282,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre9-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1283,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre9-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1284,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre9-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
1285,aceabe036433c68b278767811bac728c6db4f8b3,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1286,aceabe036433c68b278767811bac728c6db4f8b3,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
1287,aceabe036433c68b278767811bac728c6db4f8b3,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
1288,aceabe036433c68b278767811bac728c6db4f8b3,/7/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
1289,aceabe036433c68b278767811bac728c6db4f8b3,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1290,aceabe036433c68b278767811bac728c6db4f8b3,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1291,aceabe036433c68b278767811bac728c6db4f8b3,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1292,aceabe036433c68b278767811bac728c6db4f8b3,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
1293,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1294,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1295,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1296,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1297,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
1298,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
1299,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
1300,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1301,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1302,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1303,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1304,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
1305,e4ffae4e6e76e979ad524970f80984ee4cff88d7,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1306,e4ffae4e6e76e979ad524970f80984ee4cff88d7,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1307,e4ffae4e6e76e979ad524970f80984ee4cff88d7,/8.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1308,e4ffae4e6e76e979ad524970f80984ee4cff88d7,/8.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1309,e4ffae4e6e76e979ad524970f80984ee4cff88d7,/8.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
1310,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1311,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1312,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1313,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1314,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
1315,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
1316,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
1317,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1318,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1319,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1320,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1321,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
1322,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre10-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1323,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre10-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
1324,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre10-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
1325,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre10-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
1326,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre10-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
1327,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre10-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1328,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre10-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1329,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre10-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
1330,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre10-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1331,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre10-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1332,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre10-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1333,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre10-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
1334,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1335,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
1336,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
1337,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
1338,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
1339,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1340,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1341,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.5/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
1342,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1343,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1344,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
1345,dcffe2c06edc7a797e20161225eb59e97877ccb0,/6/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1346,dcffe2c06edc7a797e20161225eb59e97877ccb0,/6/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
1347,dcffe2c06edc7a797e20161225eb59e97877ccb0,/6/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
1348,dcffe2c06edc7a797e20161225eb59e97877ccb0,/6/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
1349,dcffe2c06edc7a797e20161225eb59e97877ccb0,/6/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1350,dcffe2c06edc7a797e20161225eb59e97877ccb0,/6/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1351,dcffe2c06edc7a797e20161225eb59e97877ccb0,/6/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1352,dcffe2c06edc7a797e20161225eb59e97877ccb0,/6/jre7/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
1353,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1354,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1355,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1356,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1357,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
1358,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
1359,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
1360,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1361,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1362,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1363,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1364,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
1365,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1366,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
1367,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
1368,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
1369,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
1370,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1371,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1372,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
1373,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1374,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1375,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1376,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
1377,df283818c14e8f24c294e2d3cd23099ef92e6643,/8-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
1378,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1379,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1380,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
1381,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
1382,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
1383,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1384,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1385,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-oracle/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
1386,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-oracle/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
1387,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
1388,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
1389,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1390,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1391,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1392,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
1393,b6a8794a995e0f482a3832b7c7041eec9a804f2a,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1394,b6a8794a995e0f482a3832b7c7041eec9a804f2a,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1395,b6a8794a995e0f482a3832b7c7041eec9a804f2a,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1396,b6a8794a995e0f482a3832b7c7041eec9a804f2a,/9.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
1397,b6a8794a995e0f482a3832b7c7041eec9a804f2a,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1398,b6a8794a995e0f482a3832b7c7041eec9a804f2a,/9.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
1399,b6a8794a995e0f482a3832b7c7041eec9a804f2a,/9.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1400,b6a8794a995e0f482a3832b7c7041eec9a804f2a,/9.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
1401,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1402,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
1403,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
1404,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
1405,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
1406,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1407,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1408,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
1409,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1410,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1411,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1412,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
1413,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/Dockerfile.template,"# let ""Tomcat Native"" live somewhere isolated
"
1414,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/Dockerfile.template,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
1415,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/Dockerfile.template,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
1416,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/Dockerfile.template,"# except OpenSSL, which is the reason we're here
"
1417,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/Dockerfile.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1418,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/Dockerfile.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1419,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/Dockerfile.template,"# not all the mirrors actually carry the .asc files :'(
"
1420,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/Dockerfile.template,"# verify Tomcat Native is working properly
"
1421,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre10-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1422,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre10-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
1423,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre10-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
1424,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre10-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
1425,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre10-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
1426,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre10-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1427,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre10-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1428,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre10-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
1429,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre10-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1430,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre10-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1431,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre10-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1432,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre10-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1433,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre10-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1434,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre10-slim/Dockerfile,"# verify Tomcat Native is working properly
"
1435,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1436,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1437,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1438,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1439,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/openjdk-slim-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
1440,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
1441,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
1442,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1443,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1444,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1445,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1446,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
1447,41b2a08dbf016a551c859559a4e27c4f4fce2964,/8-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
1448,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1449,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
1450,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
1451,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/7/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
1452,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1453,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1454,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1455,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
1456,de50f0009a7a3ca6929890241d0a0f5d5a071f23,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1457,de50f0009a7a3ca6929890241d0a0f5d5a071f23,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1458,de50f0009a7a3ca6929890241d0a0f5d5a071f23,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1459,de50f0009a7a3ca6929890241d0a0f5d5a071f23,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1460,de50f0009a7a3ca6929890241d0a0f5d5a071f23,/8.5/jre8-alpine/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
1461,de50f0009a7a3ca6929890241d0a0f5d5a071f23,/8.5/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1462,de50f0009a7a3ca6929890241d0a0f5d5a071f23,/8.5/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
1463,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1464,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1465,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1466,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1467,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
1468,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
1469,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1470,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1471,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1472,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1473,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
1474,aceabe036433c68b278767811bac728c6db4f8b3,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1475,aceabe036433c68b278767811bac728c6db4f8b3,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
1476,aceabe036433c68b278767811bac728c6db4f8b3,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
1477,aceabe036433c68b278767811bac728c6db4f8b3,/8.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
1478,aceabe036433c68b278767811bac728c6db4f8b3,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1479,aceabe036433c68b278767811bac728c6db4f8b3,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1480,aceabe036433c68b278767811bac728c6db4f8b3,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1481,aceabe036433c68b278767811bac728c6db4f8b3,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
1482,124c504d29896db286570ad835d7746e0d3ebca9,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1483,124c504d29896db286570ad835d7746e0d3ebca9,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
1484,124c504d29896db286570ad835d7746e0d3ebca9,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
1485,124c504d29896db286570ad835d7746e0d3ebca9,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
1486,124c504d29896db286570ad835d7746e0d3ebca9,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
1487,124c504d29896db286570ad835d7746e0d3ebca9,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1488,124c504d29896db286570ad835d7746e0d3ebca9,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1489,124c504d29896db286570ad835d7746e0d3ebca9,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1490,124c504d29896db286570ad835d7746e0d3ebca9,/9.0/jre8/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
1491,124c504d29896db286570ad835d7746e0d3ebca9,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1492,124c504d29896db286570ad835d7746e0d3ebca9,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
1493,278a10ace50c5e7addd879fae5c5332e57b2fe37,/7-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
1494,6be7d97a528019fd7cedb0f3ef0dca674713512b,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1495,6be7d97a528019fd7cedb0f3ef0dca674713512b,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
1496,6be7d97a528019fd7cedb0f3ef0dca674713512b,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
1497,6be7d97a528019fd7cedb0f3ef0dca674713512b,/8.0/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
1498,6be7d97a528019fd7cedb0f3ef0dca674713512b,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1499,6be7d97a528019fd7cedb0f3ef0dca674713512b,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1500,6be7d97a528019fd7cedb0f3ef0dca674713512b,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1501,6be7d97a528019fd7cedb0f3ef0dca674713512b,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
1502,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1503,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1504,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1505,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1506,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
1507,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
1508,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
1509,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1510,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1511,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1512,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1513,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
1514,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1515,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1516,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1517,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1518,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
1519,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
1520,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
1521,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1522,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1523,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1524,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1525,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
1526,5802aa060091bb2b18aee4f98a83a155540b978a,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1527,5802aa060091bb2b18aee4f98a83a155540b978a,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
1528,5802aa060091bb2b18aee4f98a83a155540b978a,/7/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
1529,5802aa060091bb2b18aee4f98a83a155540b978a,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
1530,5802aa060091bb2b18aee4f98a83a155540b978a,/7/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
1531,5802aa060091bb2b18aee4f98a83a155540b978a,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1532,5802aa060091bb2b18aee4f98a83a155540b978a,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1533,5802aa060091bb2b18aee4f98a83a155540b978a,/7/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
1534,5802aa060091bb2b18aee4f98a83a155540b978a,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1535,5802aa060091bb2b18aee4f98a83a155540b978a,/7/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1536,5802aa060091bb2b18aee4f98a83a155540b978a,/7/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
1537,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk13/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1538,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk13/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1539,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk13/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
1540,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk13/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
1541,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk13/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
1542,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk13/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1543,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk13/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1544,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk13/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
1545,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk13/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
1546,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk13/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1547,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk13/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1548,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk13/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1549,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk13/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
1550,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1551,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
1552,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
1553,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
1554,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
1555,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1556,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1557,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
1558,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1559,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1560,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1561,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
1562,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1563,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
1564,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
1565,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
1566,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
1567,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1568,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1569,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
1570,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1571,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1572,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1573,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1574,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1575,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
1576,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk13/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1577,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk13/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1578,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk13/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
1579,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk13/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
1580,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk13/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
1581,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk13/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1582,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk13/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1583,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk13/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
1584,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk13/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
1585,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk13/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1586,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk13/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1587,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk13/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1588,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk13/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
1589,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1590,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1591,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
1592,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
1593,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
1594,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1595,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1596,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-oracle/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
1597,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-oracle/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
1598,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
1599,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
1600,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1601,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1602,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1603,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
1604,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1605,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1606,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1607,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1608,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1609,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1610,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1611,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1612,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
1613,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1614,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1615,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1616,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1617,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
1618,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
1619,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
1620,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1621,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1622,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1623,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1624,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
1625,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1626,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
1627,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
1628,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
1629,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
1630,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1631,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1632,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
1633,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1634,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1635,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1636,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1637,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1638,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
1639,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1640,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1641,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1642,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
1643,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1644,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
1645,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1646,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
1647,637e4b66a8b8b077f6aca548d369c9fbcbbfe522,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1648,637e4b66a8b8b077f6aca548d369c9fbcbbfe522,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1649,637e4b66a8b8b077f6aca548d369c9fbcbbfe522,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1650,637e4b66a8b8b077f6aca548d369c9fbcbbfe522,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1651,637e4b66a8b8b077f6aca548d369c9fbcbbfe522,/8.5/jre8-alpine/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
1652,637e4b66a8b8b077f6aca548d369c9fbcbbfe522,/8.5/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
1653,637e4b66a8b8b077f6aca548d369c9fbcbbfe522,/8.5/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1654,637e4b66a8b8b077f6aca548d369c9fbcbbfe522,/8.5/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
1655,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1656,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1657,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1658,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1659,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/7/jre8-alpine/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
1660,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/7/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
1661,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/7/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1662,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/7/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
1663,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1664,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1665,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
1666,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
1667,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
1668,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1669,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1670,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
1671,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
1672,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1673,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1674,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1675,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
1676,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1677,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1678,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1679,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk11/corretto/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
1680,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk11/corretto/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1681,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
1682,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
1683,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
1684,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
1685,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
1686,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1687,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1688,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1689,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
1690,9c280294942795515740cb6d78b1d51d95b31928,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1691,9c280294942795515740cb6d78b1d51d95b31928,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1692,9c280294942795515740cb6d78b1d51d95b31928,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1693,9c280294942795515740cb6d78b1d51d95b31928,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1694,9c280294942795515740cb6d78b1d51d95b31928,/8.5/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
1695,0338217187e764d8dfee6a35dce9e4e130fbb85b,/6/jre8/Dockerfile,"# runtime dependency for Tomcat Native Libraries
"
1696,0338217187e764d8dfee6a35dce9e4e130fbb85b,/6/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1697,0338217187e764d8dfee6a35dce9e4e130fbb85b,/6/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1698,0338217187e764d8dfee6a35dce9e4e130fbb85b,/6/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1699,0338217187e764d8dfee6a35dce9e4e130fbb85b,/6/jre8/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
1700,e4ffae4e6e76e979ad524970f80984ee4cff88d7,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1701,e4ffae4e6e76e979ad524970f80984ee4cff88d7,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1702,e4ffae4e6e76e979ad524970f80984ee4cff88d7,/8.0/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1703,e4ffae4e6e76e979ad524970f80984ee4cff88d7,/8.0/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1704,e4ffae4e6e76e979ad524970f80984ee4cff88d7,/8.0/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
1705,a227157792e94c669148c3c2a09072fb317070e0,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1706,a227157792e94c669148c3c2a09072fb317070e0,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1707,a227157792e94c669148c3c2a09072fb317070e0,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1708,a227157792e94c669148c3c2a09072fb317070e0,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1709,a227157792e94c669148c3c2a09072fb317070e0,/8.5/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1710,a227157792e94c669148c3c2a09072fb317070e0,/8.5/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
1711,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre11/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1712,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre11/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
1713,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre11/Dockerfile,"# only add stretch if we're not already building from within stretch
"
1714,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre11/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
1715,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre11/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
1716,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre11/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1717,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre11/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1718,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre11/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
1719,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre11/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1720,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre11/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1721,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre11/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1722,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre11/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1723,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre11/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1724,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre11/Dockerfile,"# verify Tomcat Native is working properly
"
1725,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1726,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1727,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1728,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
1729,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1730,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
1731,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1732,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1733,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1734,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
1735,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1736,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1737,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1738,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1739,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1740,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1741,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1742,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1743,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
1744,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1745,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1746,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1747,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1748,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1749,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1750,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1751,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1752,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
1753,844072d81f9970fa1229fb971340ef49978a3533,/8/Dockerfile,"# add our user and group first to make sure their IDs get assigned consistently, regardless of whatever dependencies get added
"
1754,844072d81f9970fa1229fb971340ef49978a3533,/8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
1755,1b5b0791e065d9bfdfe84235faf7f77c157ff70d,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1756,1b5b0791e065d9bfdfe84235faf7f77c157ff70d,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
1757,1b5b0791e065d9bfdfe84235faf7f77c157ff70d,/8.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
1758,1b5b0791e065d9bfdfe84235faf7f77c157ff70d,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
1759,1b5b0791e065d9bfdfe84235faf7f77c157ff70d,/8.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
1760,1b5b0791e065d9bfdfe84235faf7f77c157ff70d,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1761,1b5b0791e065d9bfdfe84235faf7f77c157ff70d,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1762,1b5b0791e065d9bfdfe84235faf7f77c157ff70d,/8.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
1763,1b5b0791e065d9bfdfe84235faf7f77c157ff70d,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1764,1b5b0791e065d9bfdfe84235faf7f77c157ff70d,/8.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1765,1b5b0791e065d9bfdfe84235faf7f77c157ff70d,/8.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
1766,af1646c18d6398e6cf27a29d32ff58b994d2566e,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1767,af1646c18d6398e6cf27a29d32ff58b994d2566e,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1768,af1646c18d6398e6cf27a29d32ff58b994d2566e,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1769,af1646c18d6398e6cf27a29d32ff58b994d2566e,/8.5/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
1770,af1646c18d6398e6cf27a29d32ff58b994d2566e,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1771,af1646c18d6398e6cf27a29d32ff58b994d2566e,/8.5/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
1772,af1646c18d6398e6cf27a29d32ff58b994d2566e,/8.5/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1773,af1646c18d6398e6cf27a29d32ff58b994d2566e,/8.5/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1774,af1646c18d6398e6cf27a29d32ff58b994d2566e,/8.5/jre8-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1775,af1646c18d6398e6cf27a29d32ff58b994d2566e,/8.5/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
1776,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1777,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1778,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1779,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1780,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
1781,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
1782,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1783,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1784,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1785,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1786,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
1787,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1788,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1789,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1790,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1791,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
1792,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
1793,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
1794,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1795,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1796,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1797,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1798,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
1799,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1800,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1801,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1802,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1803,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
1804,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
1805,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
1806,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1807,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1808,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1809,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1810,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
1811,ef856d48e431a9b83730b5c14c0d9a84d70156a5,/8-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
1812,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1813,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1814,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1815,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1816,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1817,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1818,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1819,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1820,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
1821,81c66e2e695ad5548b726841c00512a9acf18eb5,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1822,81c66e2e695ad5548b726841c00512a9acf18eb5,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
1823,81c66e2e695ad5548b726841c00512a9acf18eb5,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1824,81c66e2e695ad5548b726841c00512a9acf18eb5,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1825,81c66e2e695ad5548b726841c00512a9acf18eb5,/7/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
1826,989f50ed5db788921a4954109b90362e2209295e,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1827,989f50ed5db788921a4954109b90362e2209295e,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
1828,989f50ed5db788921a4954109b90362e2209295e,/7/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
1829,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1830,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1831,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1832,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1833,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
1834,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
1835,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
1836,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1837,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1838,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1839,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1840,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
1841,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1842,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1843,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
1844,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
1845,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
1846,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1847,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1848,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
1849,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
1850,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
1851,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# mark any explicit dependencies as manually installed
"
1852,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
1853,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1854,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1855,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1856,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# verify Tomcat Native is working properly
"
1857,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1858,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1859,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1860,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1861,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
1862,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
1863,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
1864,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1865,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1866,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1867,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1868,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
1869,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1870,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1871,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1872,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1873,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
1874,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
1875,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
1876,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1877,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1878,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1879,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1880,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
1881,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1882,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1883,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1884,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1885,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
1886,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
1887,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
1888,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1889,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1890,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1891,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1892,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
1893,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1894,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
1895,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
1896,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
1897,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
1898,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1899,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1900,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
1901,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1902,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1903,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1904,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
1905,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1906,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1907,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1908,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
1909,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1910,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1911,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1912,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1913,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1914,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
1915,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1916,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1917,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1918,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1919,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
1920,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
1921,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1922,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1923,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1924,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1925,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
1926,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre11/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1927,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre11/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
1928,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre11/Dockerfile,"# only add stretch if we're not already building from within stretch
"
1929,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre11/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
1930,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre11/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
1931,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre11/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1932,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre11/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1933,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre11/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
1934,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre11/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1935,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre11/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1936,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre11/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1937,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre11/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1938,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre11/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1939,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre11/Dockerfile,"# verify Tomcat Native is working properly
"
1940,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1941,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1942,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1943,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1944,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1945,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1946,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1947,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1948,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
1949,0e8cf7367b4e3f3d77e8bc98fcec509bb7a8d7be,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1950,0e8cf7367b4e3f3d77e8bc98fcec509bb7a8d7be,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1951,0e8cf7367b4e3f3d77e8bc98fcec509bb7a8d7be,/8.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1952,0e8cf7367b4e3f3d77e8bc98fcec509bb7a8d7be,/8.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
1953,0e8cf7367b4e3f3d77e8bc98fcec509bb7a8d7be,/8.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1954,0e8cf7367b4e3f3d77e8bc98fcec509bb7a8d7be,/8.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
1955,0e8cf7367b4e3f3d77e8bc98fcec509bb7a8d7be,/8.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1956,0e8cf7367b4e3f3d77e8bc98fcec509bb7a8d7be,/8.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
1957,6a91f7af8b2449372ad234ed5303160e9be54c18,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1958,6a91f7af8b2449372ad234ed5303160e9be54c18,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1959,6a91f7af8b2449372ad234ed5303160e9be54c18,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1960,6a91f7af8b2449372ad234ed5303160e9be54c18,/7/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
1961,6a91f7af8b2449372ad234ed5303160e9be54c18,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1962,6a91f7af8b2449372ad234ed5303160e9be54c18,/7/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
1963,6a91f7af8b2449372ad234ed5303160e9be54c18,/7/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1964,6a91f7af8b2449372ad234ed5303160e9be54c18,/7/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1965,6a91f7af8b2449372ad234ed5303160e9be54c18,/7/jre7-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1966,6a91f7af8b2449372ad234ed5303160e9be54c18,/7/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
1967,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1968,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
1969,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
1970,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/8.5/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
1971,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1972,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1973,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1974,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
1975,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1976,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1977,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1978,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1979,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1980,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1981,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1982,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1983,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
1984,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1985,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
1986,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
1987,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
1988,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
1989,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1990,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1991,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
1992,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1993,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1994,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1995,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1996,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1997,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
1998,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/Dockerfile-yum.template,"# let ""Tomcat Native"" live somewhere isolated
"
1999,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/Dockerfile-yum.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2000,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/Dockerfile-yum.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2001,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/Dockerfile-yum.template,"# if the version is outdated, we might have to pull from the dist/archive :/
"
2002,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/Dockerfile-yum.template,"# not all the mirrors actually carry the .asc files :'(
"
2003,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/Dockerfile-yum.template,"# http://yum.baseurl.org/wiki/YumDB.html
"
2004,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/Dockerfile-yum.template,"#?}}""; \
"
2005,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/Dockerfile-yum.template,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
2006,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/Dockerfile-yum.template,"# mark any explicit dependencies as manually installed
"
2007,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/Dockerfile-yum.template,"# clean up anything added temporarily and not later marked as necessary
"
2008,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/Dockerfile-yum.template,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2009,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/Dockerfile-yum.template,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2010,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/Dockerfile-yum.template,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2011,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/Dockerfile-yum.template,"# verify Tomcat Native is working properly
"
2012,a55c4f55b74edcf25c7a7cb8feb2b934d4724e8d,/7-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
2013,b0cb4ee4d375ade382d77c450903b7c3a0c2b39f,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2014,b0cb4ee4d375ade382d77c450903b7c3a0c2b39f,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
2015,b0cb4ee4d375ade382d77c450903b7c3a0c2b39f,/9.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
2016,e7a7901e48c2f4d4fd7e150623b9a9f44e14866e,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2017,e7a7901e48c2f4d4fd7e150623b9a9f44e14866e,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
2018,e7a7901e48c2f4d4fd7e150623b9a9f44e14866e,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2019,e7a7901e48c2f4d4fd7e150623b9a9f44e14866e,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2020,e7a7901e48c2f4d4fd7e150623b9a9f44e14866e,/8.5/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
2021,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2022,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2023,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2024,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
2025,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2026,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
2027,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2028,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
2029,42acf24d6056b82d396da6658943f5c26e7b5cc1,/7-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
2030,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/Dockerfile.template,"# let ""Tomcat Native"" live somewhere isolated
"
2031,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/Dockerfile.template,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
2032,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/Dockerfile.template,"# only add stretch if we're not already building from within stretch
"
2033,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/Dockerfile.template,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
2034,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/Dockerfile.template,"# ... except OpenSSL, which is the reason we're here
"
2035,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/Dockerfile.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2036,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/Dockerfile.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2037,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/Dockerfile.template,"# if the version is outdated, we might have to pull from the dist/archive :/
"
2038,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/Dockerfile.template,"# not all the mirrors actually carry the .asc files :'(
"
2039,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/Dockerfile.template,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2040,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/Dockerfile.template,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2041,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/Dockerfile.template,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
2042,8fffa7246aacceb0e7390aafe978efeea9c104e3,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2043,8fffa7246aacceb0e7390aafe978efeea9c104e3,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2044,8fffa7246aacceb0e7390aafe978efeea9c104e3,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2045,8fffa7246aacceb0e7390aafe978efeea9c104e3,/9.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
2046,8fffa7246aacceb0e7390aafe978efeea9c104e3,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2047,8fffa7246aacceb0e7390aafe978efeea9c104e3,/9.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
2048,8fffa7246aacceb0e7390aafe978efeea9c104e3,/9.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2049,8fffa7246aacceb0e7390aafe978efeea9c104e3,/9.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
2050,85d2a6e22292644d22d4dda933c56c7821e61b7c,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2051,85d2a6e22292644d22d4dda933c56c7821e61b7c,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2052,85d2a6e22292644d22d4dda933c56c7821e61b7c,/8.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2053,85d2a6e22292644d22d4dda933c56c7821e61b7c,/8.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2054,85d2a6e22292644d22d4dda933c56c7821e61b7c,/8.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
2055,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2056,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
2057,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
2058,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
2059,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
2060,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2061,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2062,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
2063,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2064,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2065,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2066,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2067,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2068,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
2069,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2070,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2071,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
2072,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
2073,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
2074,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2075,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2076,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
2077,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
2078,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
2079,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
2080,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2081,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2082,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2083,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
2084,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2085,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2086,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2087,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2088,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
2089,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
2090,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
2091,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2092,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2093,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2094,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2095,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
2096,1c81097952f3ba0f4c84f7b7160ccdac34c3b4cf,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2097,1c81097952f3ba0f4c84f7b7160ccdac34c3b4cf,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
2098,1c81097952f3ba0f4c84f7b7160ccdac34c3b4cf,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
2099,1c81097952f3ba0f4c84f7b7160ccdac34c3b4cf,/8.5/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
2100,1c81097952f3ba0f4c84f7b7160ccdac34c3b4cf,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2101,1c81097952f3ba0f4c84f7b7160ccdac34c3b4cf,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2102,1c81097952f3ba0f4c84f7b7160ccdac34c3b4cf,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2103,1c81097952f3ba0f4c84f7b7160ccdac34c3b4cf,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
2104,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2105,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre9/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
2106,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre9/Dockerfile,"# only add stretch if we're not already building from within stretch
"
2107,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre9/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
2108,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre9/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
2109,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2110,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2111,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre9/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
2112,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre9/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2113,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2114,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2115,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
2116,497d7d04e11f45fd27bdb678b79d048280854a6d,/Dockerfile-alpine.template,"# let ""Tomcat Native"" live somewhere isolated
"
2117,497d7d04e11f45fd27bdb678b79d048280854a6d,/Dockerfile-alpine.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2118,497d7d04e11f45fd27bdb678b79d048280854a6d,/Dockerfile-alpine.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2119,497d7d04e11f45fd27bdb678b79d048280854a6d,/Dockerfile-alpine.template,"# not all the mirrors actually carry the .asc files :'(
"
2120,497d7d04e11f45fd27bdb678b79d048280854a6d,/Dockerfile-alpine.template,"# verify Tomcat Native is working properly
"
2121,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2122,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2123,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2124,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2125,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2126,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2127,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2128,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2129,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
2130,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk13/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2131,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk13/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2132,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk13/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
2133,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk13/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
2134,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk13/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
2135,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk13/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2136,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk13/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2137,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk13/openjdk-oracle/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
2138,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk13/openjdk-oracle/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
2139,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk13/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
2140,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk13/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
2141,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk13/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2142,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk13/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2143,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk13/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2144,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk13/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
2145,f5fc6e54e0ce5cd54254074a0fe152a541ef29c5,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2146,f5fc6e54e0ce5cd54254074a0fe152a541ef29c5,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2147,f5fc6e54e0ce5cd54254074a0fe152a541ef29c5,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2148,f5fc6e54e0ce5cd54254074a0fe152a541ef29c5,/9.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
2149,f5fc6e54e0ce5cd54254074a0fe152a541ef29c5,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2150,f5fc6e54e0ce5cd54254074a0fe152a541ef29c5,/9.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
2151,f5fc6e54e0ce5cd54254074a0fe152a541ef29c5,/9.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2152,f5fc6e54e0ce5cd54254074a0fe152a541ef29c5,/9.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2153,f5fc6e54e0ce5cd54254074a0fe152a541ef29c5,/9.0/jre8-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2154,f5fc6e54e0ce5cd54254074a0fe152a541ef29c5,/9.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
2155,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2156,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2157,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2158,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2159,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
2160,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
2161,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
2162,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2163,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2164,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2165,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2166,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
2167,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/Dockerfile.template,"# let ""Tomcat Native"" live somewhere isolated
"
2168,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/Dockerfile.template,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
2169,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/Dockerfile.template,"# only add stretch if we're not already building from within stretch
"
2170,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/Dockerfile.template,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
2171,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/Dockerfile.template,"# ... except OpenSSL, which is the reason we're here
"
2172,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/Dockerfile.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2173,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/Dockerfile.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2174,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/Dockerfile.template,"# if the version is outdated, we might have to pull from the dist/archive :/
"
2175,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/Dockerfile.template,"# not all the mirrors actually carry the .asc files :'(
"
2176,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/Dockerfile.template,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2177,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/Dockerfile.template,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
2178,888959b490387f1f7fcb8c117b23b4423f9f1bef,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2179,888959b490387f1f7fcb8c117b23b4423f9f1bef,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
2180,888959b490387f1f7fcb8c117b23b4423f9f1bef,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
2181,888959b490387f1f7fcb8c117b23b4423f9f1bef,/9.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
2182,888959b490387f1f7fcb8c117b23b4423f9f1bef,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2183,888959b490387f1f7fcb8c117b23b4423f9f1bef,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2184,888959b490387f1f7fcb8c117b23b4423f9f1bef,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2185,888959b490387f1f7fcb8c117b23b4423f9f1bef,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
2186,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2187,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2188,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2189,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
2190,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2191,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
2192,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2193,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
2194,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2195,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2196,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2197,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2198,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
2199,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
2200,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
2201,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2202,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2203,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2204,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2205,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
2206,47c20041e3021753525bce2c127f183eac7082f0,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2207,47c20041e3021753525bce2c127f183eac7082f0,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2208,47c20041e3021753525bce2c127f183eac7082f0,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2209,47c20041e3021753525bce2c127f183eac7082f0,/7/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
2210,47c20041e3021753525bce2c127f183eac7082f0,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2211,47c20041e3021753525bce2c127f183eac7082f0,/7/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
2212,47c20041e3021753525bce2c127f183eac7082f0,/7/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2213,47c20041e3021753525bce2c127f183eac7082f0,/7/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2214,47c20041e3021753525bce2c127f183eac7082f0,/7/jre7-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2215,47c20041e3021753525bce2c127f183eac7082f0,/7/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
2216,a227157792e94c669148c3c2a09072fb317070e0,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2217,a227157792e94c669148c3c2a09072fb317070e0,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
2218,a227157792e94c669148c3c2a09072fb317070e0,/7/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
2219,a227157792e94c669148c3c2a09072fb317070e0,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
2220,a227157792e94c669148c3c2a09072fb317070e0,/7/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
2221,a227157792e94c669148c3c2a09072fb317070e0,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2222,a227157792e94c669148c3c2a09072fb317070e0,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2223,a227157792e94c669148c3c2a09072fb317070e0,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2224,a227157792e94c669148c3c2a09072fb317070e0,/7/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2225,a227157792e94c669148c3c2a09072fb317070e0,/7/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
2226,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2227,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2228,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2229,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2230,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
2231,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
2232,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2233,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2234,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2235,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2236,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
2237,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2238,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2239,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2240,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2241,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
2242,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
2243,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
2244,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2245,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2246,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2247,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2248,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
2249,075a394e34f7329415e87ad5f0d77d46aac24876,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2250,075a394e34f7329415e87ad5f0d77d46aac24876,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
2251,075a394e34f7329415e87ad5f0d77d46aac24876,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
2252,075a394e34f7329415e87ad5f0d77d46aac24876,/9.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
2253,075a394e34f7329415e87ad5f0d77d46aac24876,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2254,075a394e34f7329415e87ad5f0d77d46aac24876,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2255,075a394e34f7329415e87ad5f0d77d46aac24876,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2256,075a394e34f7329415e87ad5f0d77d46aac24876,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
2257,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2258,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2259,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2260,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2261,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
2262,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
2263,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
2264,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2265,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2266,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2267,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2268,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
2269,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2270,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2271,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
2272,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
2273,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
2274,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2275,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2276,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-oracle/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
2277,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-oracle/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
2278,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-oracle/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
2279,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
2280,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
2281,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2282,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2283,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2284,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
2285,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2286,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2287,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2288,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2289,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2290,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2291,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2292,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2293,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
2294,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2295,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2296,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2297,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
2298,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2299,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2300,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2301,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2302,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2303,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
2304,747c33edc8015de543775ceee497c5926d05795f,/7/Dockerfile,"# add our user and group first to make sure their IDs get assigned consistently, regardless of whatever dependencies get added
"
2305,747c33edc8015de543775ceee497c5926d05795f,/7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
2306,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/Dockerfile-alpine.template,"# let ""Tomcat Native"" live somewhere isolated
"
2307,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/Dockerfile-alpine.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2308,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/Dockerfile-alpine.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2309,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/Dockerfile-alpine.template,"# if the version is outdated, we might have to pull from the dist/archive :/
"
2310,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/Dockerfile-alpine.template,"# not all the mirrors actually carry the .asc files :'(
"
2311,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/Dockerfile-alpine.template,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
2312,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/Dockerfile-alpine.template,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2313,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/Dockerfile-alpine.template,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
2314,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2315,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2316,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2317,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2318,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
2319,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
2320,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
2321,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2322,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2323,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2324,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2325,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
2326,5b0cd615bf08392873a4802dfee2efabf1d71456,/Dockerfile-alpine.template,"# let ""Tomcat Native"" live somewhere isolated
"
2327,5b0cd615bf08392873a4802dfee2efabf1d71456,/Dockerfile-alpine.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2328,5b0cd615bf08392873a4802dfee2efabf1d71456,/Dockerfile-alpine.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2329,5b0cd615bf08392873a4802dfee2efabf1d71456,/Dockerfile-alpine.template,"# if the version is outdated, we might have to pull from the dist/archive :/
"
2330,5b0cd615bf08392873a4802dfee2efabf1d71456,/Dockerfile-alpine.template,"# not all the mirrors actually carry the .asc files :'(
"
2331,5b0cd615bf08392873a4802dfee2efabf1d71456,/Dockerfile-alpine.template,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
2332,5b0cd615bf08392873a4802dfee2efabf1d71456,/Dockerfile-alpine.template,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2333,5b0cd615bf08392873a4802dfee2efabf1d71456,/Dockerfile-alpine.template,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
2334,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2335,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
2336,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
2337,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
2338,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
2339,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2340,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2341,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
2342,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2343,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2344,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2345,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2346,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2347,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
2348,6d19b06d7ddb8964823867867b55cac2d2cd57a1,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2349,6d19b06d7ddb8964823867867b55cac2d2cd57a1,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2350,6d19b06d7ddb8964823867867b55cac2d2cd57a1,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2351,6d19b06d7ddb8964823867867b55cac2d2cd57a1,/7/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
2352,6d19b06d7ddb8964823867867b55cac2d2cd57a1,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2353,6d19b06d7ddb8964823867867b55cac2d2cd57a1,/7/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
2354,6d19b06d7ddb8964823867867b55cac2d2cd57a1,/7/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2355,6d19b06d7ddb8964823867867b55cac2d2cd57a1,/7/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
2356,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2357,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2358,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2359,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2360,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/7/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
2361,989f50ed5db788921a4954109b90362e2209295e,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2362,989f50ed5db788921a4954109b90362e2209295e,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
2363,989f50ed5db788921a4954109b90362e2209295e,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
2364,989f50ed5db788921a4954109b90362e2209295e,/9.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
2365,989f50ed5db788921a4954109b90362e2209295e,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
2366,989f50ed5db788921a4954109b90362e2209295e,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
2367,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2368,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2369,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
2370,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
2371,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
2372,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2373,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2374,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
2375,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
2376,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
2377,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
2378,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
2379,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2380,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2381,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2382,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
2383,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2384,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
2385,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
2386,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
2387,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
2388,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2389,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2390,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
2391,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2392,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre7/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2393,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2394,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2395,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre7/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2396,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
2397,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2398,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
2399,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
2400,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
2401,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
2402,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2403,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2404,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
2405,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2406,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2407,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2408,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2409,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2410,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
2411,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2412,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2413,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2414,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2415,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/7/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
2416,62f0d3f0ded1df407b771c127fccc6d60990da8a,/8/Dockerfile,"# add our user and group first to make sure their IDs get assigned consistently, regardless of whatever dependencies get added
"
2417,62f0d3f0ded1df407b771c127fccc6d60990da8a,/8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
2418,6d19b06d7ddb8964823867867b55cac2d2cd57a1,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2419,6d19b06d7ddb8964823867867b55cac2d2cd57a1,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2420,6d19b06d7ddb8964823867867b55cac2d2cd57a1,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2421,6d19b06d7ddb8964823867867b55cac2d2cd57a1,/7/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
2422,6d19b06d7ddb8964823867867b55cac2d2cd57a1,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2423,6d19b06d7ddb8964823867867b55cac2d2cd57a1,/7/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
2424,6d19b06d7ddb8964823867867b55cac2d2cd57a1,/7/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2425,6d19b06d7ddb8964823867867b55cac2d2cd57a1,/7/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
2426,b81ffe88c0bb6d760b6ee7d9c056469d59e68311,/7-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
2427,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/Dockerfile-yum.template,"# let ""Tomcat Native"" live somewhere isolated
"
2428,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/Dockerfile-yum.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2429,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/Dockerfile-yum.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2430,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/Dockerfile-yum.template,"# if the version is outdated, we might have to pull from the dist/archive :/
"
2431,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/Dockerfile-yum.template,"# not all the mirrors actually carry the .asc files :'(
"
2432,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/Dockerfile-yum.template,"# http://yum.baseurl.org/wiki/YumDB.html
"
2433,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/Dockerfile-yum.template,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
2434,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/Dockerfile-yum.template,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
2435,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/Dockerfile-yum.template,"# mark any explicit dependencies as manually installed
"
2436,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/Dockerfile-yum.template,"# clean up anything added temporarily and not later marked as necessary
"
2437,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/Dockerfile-yum.template,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2438,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/Dockerfile-yum.template,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2439,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/Dockerfile-yum.template,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2440,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/Dockerfile-yum.template,"# verify Tomcat Native is working properly
"
2441,6f4b7544afb91088a666ef620e8ad5e989ed9abb,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2442,6f4b7544afb91088a666ef620e8ad5e989ed9abb,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
2443,6f4b7544afb91088a666ef620e8ad5e989ed9abb,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
2444,6f4b7544afb91088a666ef620e8ad5e989ed9abb,/7/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
2445,6f4b7544afb91088a666ef620e8ad5e989ed9abb,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2446,6f4b7544afb91088a666ef620e8ad5e989ed9abb,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2447,6f4b7544afb91088a666ef620e8ad5e989ed9abb,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2448,6f4b7544afb91088a666ef620e8ad5e989ed9abb,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
2449,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2450,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2451,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2452,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2453,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2454,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2455,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2456,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2457,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
2458,47c20041e3021753525bce2c127f183eac7082f0,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2459,47c20041e3021753525bce2c127f183eac7082f0,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2460,47c20041e3021753525bce2c127f183eac7082f0,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2461,47c20041e3021753525bce2c127f183eac7082f0,/7/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
2462,47c20041e3021753525bce2c127f183eac7082f0,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2463,47c20041e3021753525bce2c127f183eac7082f0,/7/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
2464,47c20041e3021753525bce2c127f183eac7082f0,/7/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2465,47c20041e3021753525bce2c127f183eac7082f0,/7/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2466,47c20041e3021753525bce2c127f183eac7082f0,/7/jre8-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2467,47c20041e3021753525bce2c127f183eac7082f0,/7/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
2468,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2469,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2470,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
2471,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
2472,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
2473,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2474,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2475,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
2476,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
2477,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
2478,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
2479,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
2480,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2481,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2482,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2483,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
2484,62e08b2f650bc7c097740bef4f1cda0e138a8827,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2485,62e08b2f650bc7c097740bef4f1cda0e138a8827,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
2486,62e08b2f650bc7c097740bef4f1cda0e138a8827,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
2487,62e08b2f650bc7c097740bef4f1cda0e138a8827,/9.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
2488,62e08b2f650bc7c097740bef4f1cda0e138a8827,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2489,62e08b2f650bc7c097740bef4f1cda0e138a8827,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2490,62e08b2f650bc7c097740bef4f1cda0e138a8827,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2491,62e08b2f650bc7c097740bef4f1cda0e138a8827,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
2492,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2493,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2494,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2495,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2496,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2497,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2498,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2499,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2500,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
2501,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2502,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2503,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2504,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2505,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
2506,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
2507,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
2508,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2509,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2510,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2511,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2512,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
2513,50f4c2ff10406eec6d4a01b5490274c6024399d6,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2514,50f4c2ff10406eec6d4a01b5490274c6024399d6,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
2515,50f4c2ff10406eec6d4a01b5490274c6024399d6,/7/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
2516,50f4c2ff10406eec6d4a01b5490274c6024399d6,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
2517,50f4c2ff10406eec6d4a01b5490274c6024399d6,/7/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
2518,50f4c2ff10406eec6d4a01b5490274c6024399d6,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2519,50f4c2ff10406eec6d4a01b5490274c6024399d6,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2520,50f4c2ff10406eec6d4a01b5490274c6024399d6,/7/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
2521,50f4c2ff10406eec6d4a01b5490274c6024399d6,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2522,50f4c2ff10406eec6d4a01b5490274c6024399d6,/7/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2523,50f4c2ff10406eec6d4a01b5490274c6024399d6,/7/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
2524,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk12/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2525,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk12/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2526,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk12/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
2527,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk12/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
2528,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk12/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
2529,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk12/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2530,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk12/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2531,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk12/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
2532,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk12/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
2533,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk12/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2534,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk12/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2535,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk12/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2536,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk12/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
2537,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2538,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2539,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2540,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2541,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2542,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2543,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2544,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2545,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
2546,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2547,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
2548,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
2549,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
2550,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
2551,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2552,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2553,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.5/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
2554,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2555,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2556,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
2557,f34b65f30d1f1dd1c85390ea095eef4dad8fc819,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2558,f34b65f30d1f1dd1c85390ea095eef4dad8fc819,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
2559,f34b65f30d1f1dd1c85390ea095eef4dad8fc819,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
2560,f34b65f30d1f1dd1c85390ea095eef4dad8fc819,/9.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
2561,f34b65f30d1f1dd1c85390ea095eef4dad8fc819,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2562,f34b65f30d1f1dd1c85390ea095eef4dad8fc819,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2563,f34b65f30d1f1dd1c85390ea095eef4dad8fc819,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2564,f34b65f30d1f1dd1c85390ea095eef4dad8fc819,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
2565,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2566,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2567,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
2568,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
2569,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
2570,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2571,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2572,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
2573,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
2574,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
2575,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
2576,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2577,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2578,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2579,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
2580,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2581,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
2582,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
2583,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
2584,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
2585,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2586,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2587,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
2588,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2589,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2590,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2591,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
2592,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk12/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2593,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk12/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2594,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk12/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2595,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk12/openjdk-oracle/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
2596,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk12/openjdk-oracle/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2597,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk12/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
2598,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk12/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
2599,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk12/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
2600,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk12/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
2601,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk12/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
2602,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk12/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2603,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk12/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2604,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk12/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2605,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk12/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
2606,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2607,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2608,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2609,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2610,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2611,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2612,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2613,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2614,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
2615,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2616,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2617,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
2618,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
2619,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
2620,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2621,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2622,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
2623,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
2624,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
2625,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
2626,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2627,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2628,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2629,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
2630,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2631,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2632,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2633,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2634,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2635,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2636,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2637,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2638,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
2639,f26c14147f9affae8f32100430130271fc82bd3e,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2640,f26c14147f9affae8f32100430130271fc82bd3e,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
2641,f26c14147f9affae8f32100430130271fc82bd3e,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
2642,f26c14147f9affae8f32100430130271fc82bd3e,/7/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
2643,f26c14147f9affae8f32100430130271fc82bd3e,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2644,f26c14147f9affae8f32100430130271fc82bd3e,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2645,f26c14147f9affae8f32100430130271fc82bd3e,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2646,f26c14147f9affae8f32100430130271fc82bd3e,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
2647,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre11-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2648,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre11-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
2649,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre11-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
2650,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre11-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
2651,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre11-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
2652,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre11-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2653,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre11-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2654,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre11-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
2655,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre11-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2656,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre11-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2657,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre11-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2658,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre11-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2659,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre11-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2660,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre11-slim/Dockerfile,"# verify Tomcat Native is working properly
"
2661,85d2a6e22292644d22d4dda933c56c7821e61b7c,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2662,85d2a6e22292644d22d4dda933c56c7821e61b7c,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2663,85d2a6e22292644d22d4dda933c56c7821e61b7c,/8.0/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2664,85d2a6e22292644d22d4dda933c56c7821e61b7c,/8.0/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2665,85d2a6e22292644d22d4dda933c56c7821e61b7c,/8.0/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
2666,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2667,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2668,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2669,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2670,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2671,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2672,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2673,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2674,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
2675,6579c4d21893ec4043387a906ac6d22394a06d22,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2676,6579c4d21893ec4043387a906ac6d22394a06d22,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
2677,6579c4d21893ec4043387a906ac6d22394a06d22,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
2678,6579c4d21893ec4043387a906ac6d22394a06d22,/9.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
2679,6579c4d21893ec4043387a906ac6d22394a06d22,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
2680,6579c4d21893ec4043387a906ac6d22394a06d22,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2681,6579c4d21893ec4043387a906ac6d22394a06d22,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2682,6579c4d21893ec4043387a906ac6d22394a06d22,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
2683,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre11/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2684,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre11/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
2685,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre11/Dockerfile,"# only add stretch if we're not already building from within stretch
"
2686,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre11/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
2687,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre11/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
2688,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre11/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2689,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre11/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2690,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre11/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
2691,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre11/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2692,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre11/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2693,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre11/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2694,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre11/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2695,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre11/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2696,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre11/Dockerfile,"# verify Tomcat Native is working properly
"
2697,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2698,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2699,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2700,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2701,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
2702,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
2703,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
2704,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2705,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2706,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2707,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2708,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
2709,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk13/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2710,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk13/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2711,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk13/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
2712,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk13/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
2713,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk13/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
2714,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk13/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2715,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk13/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2716,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk13/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
2717,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk13/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
2718,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk13/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2719,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk13/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2720,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk13/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2721,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk13/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
2722,b0b0edc4828653f4ad671b9d73a23dd3f2a6eda1,/Dockerfile-alpine.template,"# let ""Tomcat Native"" live somewhere isolated
"
2723,b0b0edc4828653f4ad671b9d73a23dd3f2a6eda1,/Dockerfile-alpine.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2724,b0b0edc4828653f4ad671b9d73a23dd3f2a6eda1,/Dockerfile-alpine.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2725,b0b0edc4828653f4ad671b9d73a23dd3f2a6eda1,/Dockerfile-alpine.template,"# not all the mirrors actually carry the .asc files :'(
"
2726,b0b0edc4828653f4ad671b9d73a23dd3f2a6eda1,/Dockerfile-alpine.template,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2727,b0b0edc4828653f4ad671b9d73a23dd3f2a6eda1,/Dockerfile-alpine.template,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
2728,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2729,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
2730,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
2731,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
2732,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
2733,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2734,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2735,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
2736,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2737,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2738,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2739,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2740,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2741,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
2742,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2743,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
2744,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
2745,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
2746,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
2747,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2748,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2749,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
2750,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2751,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2752,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2753,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2754,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2755,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
2756,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2757,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2758,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2759,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2760,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
2761,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
2762,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
2763,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2764,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2765,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2766,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2767,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
2768,8c174e038fe911fecc1a920a56afc10fd343bce2,/7-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
2769,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2770,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2771,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
2772,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
2773,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
2774,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2775,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2776,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
2777,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
2778,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
2779,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
2780,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
2781,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2782,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2783,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2784,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
2785,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2786,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
2787,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
2788,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
2789,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
2790,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2791,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2792,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
2793,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2794,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2795,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2796,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2797,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2798,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
2799,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre11/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2800,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre11/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
2801,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre11/Dockerfile,"# only add stretch if we're not already building from within stretch
"
2802,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre11/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
2803,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre11/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
2804,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre11/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2805,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre11/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2806,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre11/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
2807,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre11/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2808,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre11/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2809,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre11/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2810,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre11/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2811,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre11/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2812,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre11/Dockerfile,"# verify Tomcat Native is working properly
"
2813,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2814,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
2815,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
2816,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
2817,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
2818,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2819,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2820,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
2821,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2822,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2823,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2824,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2825,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2826,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
2827,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2828,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2829,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
2830,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
2831,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
2832,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2833,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2834,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
2835,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
2836,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
2837,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
2838,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2839,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2840,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2841,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
2842,980cfce753b4b185feda907b35648089386607af,/8-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
2843,a227157792e94c669148c3c2a09072fb317070e0,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2844,a227157792e94c669148c3c2a09072fb317070e0,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
2845,a227157792e94c669148c3c2a09072fb317070e0,/8.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
2846,a227157792e94c669148c3c2a09072fb317070e0,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
2847,a227157792e94c669148c3c2a09072fb317070e0,/8.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
2848,a227157792e94c669148c3c2a09072fb317070e0,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2849,a227157792e94c669148c3c2a09072fb317070e0,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2850,a227157792e94c669148c3c2a09072fb317070e0,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2851,a227157792e94c669148c3c2a09072fb317070e0,/8.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2852,a227157792e94c669148c3c2a09072fb317070e0,/8.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
2853,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2854,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2855,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2856,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2857,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
2858,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
2859,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
2860,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2861,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2862,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2863,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2864,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
2865,6a91f7af8b2449372ad234ed5303160e9be54c18,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2866,6a91f7af8b2449372ad234ed5303160e9be54c18,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2867,6a91f7af8b2449372ad234ed5303160e9be54c18,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2868,6a91f7af8b2449372ad234ed5303160e9be54c18,/7/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
2869,6a91f7af8b2449372ad234ed5303160e9be54c18,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2870,6a91f7af8b2449372ad234ed5303160e9be54c18,/7/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
2871,6a91f7af8b2449372ad234ed5303160e9be54c18,/7/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2872,6a91f7af8b2449372ad234ed5303160e9be54c18,/7/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2873,6a91f7af8b2449372ad234ed5303160e9be54c18,/7/jre8-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2874,6a91f7af8b2449372ad234ed5303160e9be54c18,/7/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
2875,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2876,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
2877,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
2878,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
2879,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
2880,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2881,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2882,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
2883,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2884,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2885,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2886,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
2887,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2888,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2889,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
2890,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
2891,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
2892,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2893,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2894,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
2895,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
2896,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
2897,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
2898,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
2899,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2900,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2901,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2902,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
2903,0e8cf7367b4e3f3d77e8bc98fcec509bb7a8d7be,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2904,0e8cf7367b4e3f3d77e8bc98fcec509bb7a8d7be,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2905,0e8cf7367b4e3f3d77e8bc98fcec509bb7a8d7be,/8.0/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2906,0e8cf7367b4e3f3d77e8bc98fcec509bb7a8d7be,/8.0/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
2907,0e8cf7367b4e3f3d77e8bc98fcec509bb7a8d7be,/8.0/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2908,0e8cf7367b4e3f3d77e8bc98fcec509bb7a8d7be,/8.0/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
2909,0e8cf7367b4e3f3d77e8bc98fcec509bb7a8d7be,/8.0/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2910,0e8cf7367b4e3f3d77e8bc98fcec509bb7a8d7be,/8.0/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
2911,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2912,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
2913,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
2914,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
2915,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
2916,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2917,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2918,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
2919,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2920,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2921,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2922,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
2923,6f1c628fa92feea8b28e98e56a990500f2326936,/6-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
2924,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2925,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2926,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2927,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2928,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
2929,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
2930,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2931,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2932,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2933,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2934,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
2935,06a7e79e30595058df3c2fec9c769e47e2bca56d,/6/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2936,06a7e79e30595058df3c2fec9c769e47e2bca56d,/6/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
2937,06a7e79e30595058df3c2fec9c769e47e2bca56d,/6/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
2938,06a7e79e30595058df3c2fec9c769e47e2bca56d,/6/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
2939,06a7e79e30595058df3c2fec9c769e47e2bca56d,/6/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2940,06a7e79e30595058df3c2fec9c769e47e2bca56d,/6/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2941,06a7e79e30595058df3c2fec9c769e47e2bca56d,/6/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2942,06a7e79e30595058df3c2fec9c769e47e2bca56d,/6/jre8/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
2943,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2944,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2945,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2946,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2947,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
2948,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
2949,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
2950,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2951,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2952,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2953,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2954,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
2955,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre9-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2956,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre9-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
2957,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre9-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
2958,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre9-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
2959,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre9-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
2960,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre9-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2961,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre9-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2962,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre9-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
2963,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre9-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2964,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre9-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2965,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre9-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2966,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre9-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
2967,d543d4f0d7d7dffee5ad625e08bcc517e72489bb,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2968,d543d4f0d7d7dffee5ad625e08bcc517e72489bb,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2969,d543d4f0d7d7dffee5ad625e08bcc517e72489bb,/8.0/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2970,d543d4f0d7d7dffee5ad625e08bcc517e72489bb,/8.0/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
2971,d543d4f0d7d7dffee5ad625e08bcc517e72489bb,/8.0/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2972,d543d4f0d7d7dffee5ad625e08bcc517e72489bb,/8.0/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
2973,d543d4f0d7d7dffee5ad625e08bcc517e72489bb,/8.0/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2974,d543d4f0d7d7dffee5ad625e08bcc517e72489bb,/8.0/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
2975,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2976,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
2977,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
2978,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
2979,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
2980,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2981,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2982,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
2983,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2984,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2985,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2986,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2987,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2988,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
2989,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2990,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2991,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2992,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2993,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
2994,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
2995,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2996,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2997,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2998,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2999,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
3000,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3001,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3002,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3003,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3004,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3005,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3006,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3007,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3008,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
3009,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre9-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3010,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre9-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
3011,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre9-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
3012,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre9-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
3013,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre9-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
3014,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre9-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3015,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre9-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3016,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre9-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
3017,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre9-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3018,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre9-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3019,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre9-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3020,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre9-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
3021,ef856d48e431a9b83730b5c14c0d9a84d70156a5,/8-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
3022,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3023,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3024,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3025,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3026,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3027,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3028,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3029,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3030,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
3031,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3032,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3033,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
3034,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
3035,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
3036,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3037,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3038,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
3039,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
3040,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3041,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3042,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3043,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
3044,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3045,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3046,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3047,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3048,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
3049,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
3050,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
3051,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3052,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3053,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3054,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3055,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
3056,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3057,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3058,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3059,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
3060,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3061,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3062,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3063,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3064,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3065,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
3066,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3067,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3068,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3069,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3070,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3071,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3072,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3073,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3074,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
3075,85113c9c4b08f19200b286b858703410d1c7bb76,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3076,85113c9c4b08f19200b286b858703410d1c7bb76,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
3077,85113c9c4b08f19200b286b858703410d1c7bb76,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
3078,85113c9c4b08f19200b286b858703410d1c7bb76,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
3079,85113c9c4b08f19200b286b858703410d1c7bb76,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
3080,85113c9c4b08f19200b286b858703410d1c7bb76,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3081,85113c9c4b08f19200b286b858703410d1c7bb76,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3082,85113c9c4b08f19200b286b858703410d1c7bb76,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3083,85113c9c4b08f19200b286b858703410d1c7bb76,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3084,85113c9c4b08f19200b286b858703410d1c7bb76,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
3085,1b5b0791e065d9bfdfe84235faf7f77c157ff70d,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3086,1b5b0791e065d9bfdfe84235faf7f77c157ff70d,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
3087,1b5b0791e065d9bfdfe84235faf7f77c157ff70d,/8.0/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
3088,1b5b0791e065d9bfdfe84235faf7f77c157ff70d,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
3089,1b5b0791e065d9bfdfe84235faf7f77c157ff70d,/8.0/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
3090,1b5b0791e065d9bfdfe84235faf7f77c157ff70d,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3091,1b5b0791e065d9bfdfe84235faf7f77c157ff70d,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3092,1b5b0791e065d9bfdfe84235faf7f77c157ff70d,/8.0/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
3093,1b5b0791e065d9bfdfe84235faf7f77c157ff70d,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3094,1b5b0791e065d9bfdfe84235faf7f77c157ff70d,/8.0/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3095,1b5b0791e065d9bfdfe84235faf7f77c157ff70d,/8.0/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
3096,844072d81f9970fa1229fb971340ef49978a3533,/7/Dockerfile,"# add our user and group first to make sure their IDs get assigned consistently, regardless of whatever dependencies get added
"
3097,844072d81f9970fa1229fb971340ef49978a3533,/7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
3098,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3099,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3100,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3101,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3102,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
3103,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
3104,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
3105,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3106,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3107,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3108,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3109,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
3110,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3111,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3112,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3113,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3114,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3115,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3116,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3117,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3118,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
3119,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3120,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3121,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3122,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3123,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3124,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3125,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3126,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3127,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
3128,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3129,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
3130,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
3131,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
3132,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
3133,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3134,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3135,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
3136,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3137,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3138,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3139,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3140,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3141,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
3142,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3143,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
3144,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
3145,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
3146,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
3147,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3148,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3149,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
3150,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3151,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3152,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3153,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3154,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3155,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
3156,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk12/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3157,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk12/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3158,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk12/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3159,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk12/openjdk-oracle/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
3160,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk12/openjdk-oracle/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3161,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk12/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
3162,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk12/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
3163,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk12/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
3164,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk12/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
3165,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk12/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
3166,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk12/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3167,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk12/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3168,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk12/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3169,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk12/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
3170,0338217187e764d8dfee6a35dce9e4e130fbb85b,/6/jre7/Dockerfile,"# runtime dependency for Tomcat Native Libraries
"
3171,0338217187e764d8dfee6a35dce9e4e130fbb85b,/6/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3172,0338217187e764d8dfee6a35dce9e4e130fbb85b,/6/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3173,0338217187e764d8dfee6a35dce9e4e130fbb85b,/6/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3174,0338217187e764d8dfee6a35dce9e4e130fbb85b,/6/jre7/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
3175,749503f817a760ff76549305dc68c0abf42f4453,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3176,749503f817a760ff76549305dc68c0abf42f4453,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3177,749503f817a760ff76549305dc68c0abf42f4453,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3178,749503f817a760ff76549305dc68c0abf42f4453,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3179,749503f817a760ff76549305dc68c0abf42f4453,/9.0/jre8-alpine/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
3180,749503f817a760ff76549305dc68c0abf42f4453,/9.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3181,749503f817a760ff76549305dc68c0abf42f4453,/9.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
3182,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre7-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3183,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre7-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
3184,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre7-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
3185,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre7-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
3186,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre7-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
3187,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre7-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3188,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre7-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3189,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre7-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
3190,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre7-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3191,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre7-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3192,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre7-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3193,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre7-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
3194,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3195,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3196,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3197,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3198,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
3199,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
3200,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
3201,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3202,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3203,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3204,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3205,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
3206,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3207,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
3208,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
3209,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
3210,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
3211,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3212,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3213,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.5/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
3214,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3215,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3216,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
3217,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3218,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3219,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
3220,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
3221,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
3222,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3223,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3224,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
3225,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
3226,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
3227,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
3228,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
3229,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3230,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3231,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3232,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
3233,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3234,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3235,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3236,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3237,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
3238,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
3239,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3240,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3241,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3242,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3243,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
3244,b0cb4ee4d375ade382d77c450903b7c3a0c2b39f,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3245,b0cb4ee4d375ade382d77c450903b7c3a0c2b39f,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
3246,b0cb4ee4d375ade382d77c450903b7c3a0c2b39f,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
3247,b0cb4ee4d375ade382d77c450903b7c3a0c2b39f,/8.5/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
3248,b0cb4ee4d375ade382d77c450903b7c3a0c2b39f,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
3249,b0cb4ee4d375ade382d77c450903b7c3a0c2b39f,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
3250,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3251,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3252,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3253,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3254,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3255,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3256,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3257,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3258,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
3259,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3260,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3261,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.0/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3262,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.0/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3263,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.0/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
3264,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre11-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3265,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre11-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
3266,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre11-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
3267,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre11-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
3268,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre11-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
3269,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre11-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3270,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre11-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3271,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre11-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
3272,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre11-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3273,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre11-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3274,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre11-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3275,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre11-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3276,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre11-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3277,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre11-slim/Dockerfile,"# verify Tomcat Native is working properly
"
3278,437ad1d98f2ca7667df856d13922b23a22b719d0,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3279,437ad1d98f2ca7667df856d13922b23a22b719d0,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3280,437ad1d98f2ca7667df856d13922b23a22b719d0,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3281,437ad1d98f2ca7667df856d13922b23a22b719d0,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3282,437ad1d98f2ca7667df856d13922b23a22b719d0,/7/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
3283,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3284,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
3285,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
3286,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/9.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
3287,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
3288,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
3289,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre7-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3290,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre7-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
3291,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre7-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
3292,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre7-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
3293,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre7-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
3294,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre7-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3295,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre7-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3296,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre7-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
3297,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre7-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3298,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre7-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3299,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre7-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3300,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre7-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
3301,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3302,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3303,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3304,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3305,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
3306,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
3307,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
3308,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3309,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3310,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3311,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3312,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
3313,3c72bd6721ab6645badc72c164cbe6f3a8970bdb,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3314,3c72bd6721ab6645badc72c164cbe6f3a8970bdb,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3315,3c72bd6721ab6645badc72c164cbe6f3a8970bdb,/8.0/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3316,3c72bd6721ab6645badc72c164cbe6f3a8970bdb,/8.0/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3317,3c72bd6721ab6645badc72c164cbe6f3a8970bdb,/8.0/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
3318,d08341e2ed934abd7ff1baa0c26d6eac4f45f73a,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
3319,d08341e2ed934abd7ff1baa0c26d6eac4f45f73a,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
3320,d08341e2ed934abd7ff1baa0c26d6eac4f45f73a,/8.5/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
3321,d08341e2ed934abd7ff1baa0c26d6eac4f45f73a,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
3322,d08341e2ed934abd7ff1baa0c26d6eac4f45f73a,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
3323,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3324,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3325,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3326,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3327,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3328,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3329,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3330,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3331,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
3332,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3333,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3334,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3335,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3336,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
3337,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
3338,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
3339,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3340,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3341,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3342,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3343,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
3344,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3345,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3346,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3347,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3348,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3349,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3350,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3351,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3352,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
3353,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3354,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3355,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3356,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
3357,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3358,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3359,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3360,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3361,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3362,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
3363,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3364,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3365,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3366,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3367,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
3368,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
3369,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3370,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3371,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3372,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3373,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
3374,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3375,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
3376,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
3377,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
3378,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
3379,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3380,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3381,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
3382,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3383,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3384,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3385,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3386,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3387,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
3388,452e2d4dcb58e3d044a6288befab6d717f94590e,/6-jre7/Dockerfile,"# add our user and group first to make sure their IDs get assigned consistently, regardless of whatever dependencies get added
"
3389,452e2d4dcb58e3d044a6288befab6d717f94590e,/6-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
3390,5802aa060091bb2b18aee4f98a83a155540b978a,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3391,5802aa060091bb2b18aee4f98a83a155540b978a,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
3392,5802aa060091bb2b18aee4f98a83a155540b978a,/7/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
3393,5802aa060091bb2b18aee4f98a83a155540b978a,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
3394,5802aa060091bb2b18aee4f98a83a155540b978a,/7/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
3395,5802aa060091bb2b18aee4f98a83a155540b978a,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3396,5802aa060091bb2b18aee4f98a83a155540b978a,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3397,5802aa060091bb2b18aee4f98a83a155540b978a,/7/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
3398,5802aa060091bb2b18aee4f98a83a155540b978a,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3399,5802aa060091bb2b18aee4f98a83a155540b978a,/7/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3400,5802aa060091bb2b18aee4f98a83a155540b978a,/7/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
3401,6be7d97a528019fd7cedb0f3ef0dca674713512b,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3402,6be7d97a528019fd7cedb0f3ef0dca674713512b,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
3403,6be7d97a528019fd7cedb0f3ef0dca674713512b,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
3404,6be7d97a528019fd7cedb0f3ef0dca674713512b,/8.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
3405,6be7d97a528019fd7cedb0f3ef0dca674713512b,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3406,6be7d97a528019fd7cedb0f3ef0dca674713512b,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3407,6be7d97a528019fd7cedb0f3ef0dca674713512b,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3408,6be7d97a528019fd7cedb0f3ef0dca674713512b,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
3409,278a10ace50c5e7addd879fae5c5332e57b2fe37,/7-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
3410,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3411,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
3412,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
3413,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
3414,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
3415,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3416,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3417,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
3418,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3419,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3420,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3421,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
3422,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3423,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3424,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3425,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3426,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
3427,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
3428,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3429,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3430,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3431,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3432,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
3433,aceabe036433c68b278767811bac728c6db4f8b3,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3434,aceabe036433c68b278767811bac728c6db4f8b3,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
3435,aceabe036433c68b278767811bac728c6db4f8b3,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
3436,aceabe036433c68b278767811bac728c6db4f8b3,/8.0/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
3437,aceabe036433c68b278767811bac728c6db4f8b3,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3438,aceabe036433c68b278767811bac728c6db4f8b3,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3439,aceabe036433c68b278767811bac728c6db4f8b3,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3440,aceabe036433c68b278767811bac728c6db4f8b3,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
3441,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3442,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
3443,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
3444,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
3445,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
3446,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3447,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3448,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
3449,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3450,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3451,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3452,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
3453,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3454,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3455,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3456,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3457,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
3458,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
3459,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
3460,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3461,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3462,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3463,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3464,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
3465,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3466,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
3467,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
3468,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/7/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
3469,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3470,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3471,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3472,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
3473,aceabe036433c68b278767811bac728c6db4f8b3,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3474,aceabe036433c68b278767811bac728c6db4f8b3,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3475,aceabe036433c68b278767811bac728c6db4f8b3,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3476,aceabe036433c68b278767811bac728c6db4f8b3,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3477,aceabe036433c68b278767811bac728c6db4f8b3,/8.5/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
3478,3c72bd6721ab6645badc72c164cbe6f3a8970bdb,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3479,3c72bd6721ab6645badc72c164cbe6f3a8970bdb,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3480,3c72bd6721ab6645badc72c164cbe6f3a8970bdb,/8.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3481,3c72bd6721ab6645badc72c164cbe6f3a8970bdb,/8.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3482,3c72bd6721ab6645badc72c164cbe6f3a8970bdb,/8.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
3483,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3484,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
3485,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
3486,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
3487,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
3488,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3489,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3490,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
3491,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3492,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3493,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3494,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
3495,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3496,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3497,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3498,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3499,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3500,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3501,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3502,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3503,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
3504,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre10-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3505,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre10-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
3506,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre10-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
3507,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre10-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
3508,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre10-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
3509,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre10-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3510,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre10-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3511,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre10-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
3512,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre10-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3513,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre10-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3514,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre10-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3515,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre10-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3516,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre10-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3517,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre10-slim/Dockerfile,"# verify Tomcat Native is working properly
"
3518,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/8.5/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3519,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/8.5/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3520,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/8.5/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3521,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/8.5/jdk11/corretto/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
3522,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/8.5/jdk11/corretto/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3523,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/8.5/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
3524,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/8.5/jdk11/corretto/Dockerfile,"#?}}""; \
"
3525,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/8.5/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
3526,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/8.5/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
3527,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/8.5/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
3528,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/8.5/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3529,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/8.5/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3530,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/8.5/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3531,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/8.5/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
3532,41b2a08dbf016a551c859559a4e27c4f4fce2964,/8-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
3533,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3534,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3535,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3536,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3537,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3538,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3539,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3540,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3541,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
3542,19bdd962a61b69e3a35ddc0a8936854cc2e405f6,/9.0/jre8/Dockerfile,"# runtime dependency for Tomcat Native Libraries
"
3543,19bdd962a61b69e3a35ddc0a8936854cc2e405f6,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
3544,19bdd962a61b69e3a35ddc0a8936854cc2e405f6,/9.0/jre8/Dockerfile,"# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)

"
3545,19bdd962a61b69e3a35ddc0a8936854cc2e405f6,/9.0/jre8/Dockerfile,"# http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5048274.html (ie, HACK HACK HACK)
"
3546,19bdd962a61b69e3a35ddc0a8936854cc2e405f6,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
3547,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3548,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
3549,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
3550,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
3551,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
3552,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3553,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3554,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
3555,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3556,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3557,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3558,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
3559,437ad1d98f2ca7667df856d13922b23a22b719d0,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3560,437ad1d98f2ca7667df856d13922b23a22b719d0,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3561,437ad1d98f2ca7667df856d13922b23a22b719d0,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3562,437ad1d98f2ca7667df856d13922b23a22b719d0,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3563,437ad1d98f2ca7667df856d13922b23a22b719d0,/7/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
3564,1cf5b22547122751cc7e1149483dfa662639a450,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3565,1cf5b22547122751cc7e1149483dfa662639a450,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3566,1cf5b22547122751cc7e1149483dfa662639a450,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3567,1cf5b22547122751cc7e1149483dfa662639a450,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3568,1cf5b22547122751cc7e1149483dfa662639a450,/8.5/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
3569,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3570,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3571,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
3572,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
3573,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
3574,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3575,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3576,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
3577,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
3578,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
3579,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
3580,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3581,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3582,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3583,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
3584,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3585,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
3586,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
3587,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
3588,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
3589,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3590,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3591,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
3592,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3593,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3594,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3595,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
3596,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3597,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3598,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3599,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3600,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
3601,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
3602,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
3603,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3604,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3605,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3606,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3607,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
3608,df283818c14e8f24c294e2d3cd23099ef92e6643,/8-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
3609,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3610,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
3611,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
3612,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
3613,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
3614,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3615,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3616,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
3617,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3618,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3619,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3620,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3621,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3622,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
3623,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk13/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3624,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk13/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3625,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk13/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
3626,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk13/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
3627,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk13/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
3628,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk13/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3629,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk13/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3630,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk13/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
3631,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk13/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
3632,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk13/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3633,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk13/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3634,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk13/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3635,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk13/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
3636,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3637,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3638,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3639,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3640,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3641,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3642,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3643,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3644,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
3645,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3646,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3647,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3648,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3649,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
3650,dcffe2c06edc7a797e20161225eb59e97877ccb0,/6/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3651,dcffe2c06edc7a797e20161225eb59e97877ccb0,/6/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
3652,dcffe2c06edc7a797e20161225eb59e97877ccb0,/6/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
3653,dcffe2c06edc7a797e20161225eb59e97877ccb0,/6/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
3654,dcffe2c06edc7a797e20161225eb59e97877ccb0,/6/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3655,dcffe2c06edc7a797e20161225eb59e97877ccb0,/6/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3656,dcffe2c06edc7a797e20161225eb59e97877ccb0,/6/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3657,dcffe2c06edc7a797e20161225eb59e97877ccb0,/6/jre8/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
3658,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3659,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3660,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3661,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3662,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3663,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3664,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3665,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3666,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
3667,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3668,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3669,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3670,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3671,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
3672,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
3673,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
3674,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3675,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3676,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3677,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3678,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
3679,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3680,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3681,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3682,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3683,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3684,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3685,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3686,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3687,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
3688,aceabe036433c68b278767811bac728c6db4f8b3,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3689,aceabe036433c68b278767811bac728c6db4f8b3,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
3690,aceabe036433c68b278767811bac728c6db4f8b3,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
3691,aceabe036433c68b278767811bac728c6db4f8b3,/7/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
3692,aceabe036433c68b278767811bac728c6db4f8b3,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3693,aceabe036433c68b278767811bac728c6db4f8b3,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3694,aceabe036433c68b278767811bac728c6db4f8b3,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3695,aceabe036433c68b278767811bac728c6db4f8b3,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
3696,9c2fb18446d9e6841997362e575804da73f23eee,/6-jre8/Dockerfile,"# add our user and group first to make sure their IDs get assigned consistently, regardless of whatever dependencies get added
"
3697,9c2fb18446d9e6841997362e575804da73f23eee,/6-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
3698,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre10-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3699,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre10-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
3700,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre10-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
3701,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre10-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
3702,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre10-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
3703,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre10-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3704,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre10-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3705,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre10-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
3706,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre10-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3707,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre10-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3708,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre10-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3709,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre10-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3710,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre10-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3711,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre10-slim/Dockerfile,"# verify Tomcat Native is working properly
"
3712,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3713,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
3714,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
3715,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
3716,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
3717,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3718,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3719,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3720,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.5/jre8/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
3721,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3722,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
3723,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk13/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3724,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk13/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3725,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk13/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
3726,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk13/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
3727,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk13/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
3728,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk13/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3729,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk13/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3730,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk13/openjdk-oracle/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
3731,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk13/openjdk-oracle/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
3732,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk13/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
3733,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk13/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
3734,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk13/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3735,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk13/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3736,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk13/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3737,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk13/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
3738,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3739,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
3740,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
3741,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
3742,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
3743,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3744,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3745,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
3746,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3747,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3748,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3749,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
3750,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3751,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
3752,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
3753,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
3754,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
3755,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3756,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3757,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
3758,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3759,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3760,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3761,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
3762,5c8b74e495a1b63116b524407941b15eef58a7fe,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3763,5c8b74e495a1b63116b524407941b15eef58a7fe,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
3764,5c8b74e495a1b63116b524407941b15eef58a7fe,/8.0/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
3765,5c8b74e495a1b63116b524407941b15eef58a7fe,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
3766,5c8b74e495a1b63116b524407941b15eef58a7fe,/8.0/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
3767,5c8b74e495a1b63116b524407941b15eef58a7fe,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3768,5c8b74e495a1b63116b524407941b15eef58a7fe,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3769,5c8b74e495a1b63116b524407941b15eef58a7fe,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3770,5c8b74e495a1b63116b524407941b15eef58a7fe,/8.0/jre7/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
3771,5c8b74e495a1b63116b524407941b15eef58a7fe,/8.0/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3772,5c8b74e495a1b63116b524407941b15eef58a7fe,/8.0/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
3773,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3774,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3775,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3776,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3777,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
3778,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
3779,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
3780,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3781,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3782,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3783,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3784,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
3785,ae0ff8626dbb002258c3fabdcba1682fa12d6f99,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3786,ae0ff8626dbb002258c3fabdcba1682fa12d6f99,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3787,ae0ff8626dbb002258c3fabdcba1682fa12d6f99,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3788,ae0ff8626dbb002258c3fabdcba1682fa12d6f99,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3789,ae0ff8626dbb002258c3fabdcba1682fa12d6f99,/8.5/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
3790,e4ffae4e6e76e979ad524970f80984ee4cff88d7,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3791,e4ffae4e6e76e979ad524970f80984ee4cff88d7,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
3792,e4ffae4e6e76e979ad524970f80984ee4cff88d7,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
3793,e4ffae4e6e76e979ad524970f80984ee4cff88d7,/8.0/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
3794,e4ffae4e6e76e979ad524970f80984ee4cff88d7,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3795,e4ffae4e6e76e979ad524970f80984ee4cff88d7,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3796,e4ffae4e6e76e979ad524970f80984ee4cff88d7,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3797,e4ffae4e6e76e979ad524970f80984ee4cff88d7,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
3798,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3799,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3800,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3801,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3802,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3803,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3804,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3805,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3806,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
3807,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3808,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
3809,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
3810,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
3811,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
3812,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3813,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3814,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
3815,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3816,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3817,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3818,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
3819,1ac581da0dbef3f191cbb2d5fbfc4292e32bb0dd,/6-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
3820,d543d4f0d7d7dffee5ad625e08bcc517e72489bb,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3821,d543d4f0d7d7dffee5ad625e08bcc517e72489bb,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3822,d543d4f0d7d7dffee5ad625e08bcc517e72489bb,/8.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3823,d543d4f0d7d7dffee5ad625e08bcc517e72489bb,/8.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
3824,d543d4f0d7d7dffee5ad625e08bcc517e72489bb,/8.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3825,d543d4f0d7d7dffee5ad625e08bcc517e72489bb,/8.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
3826,d543d4f0d7d7dffee5ad625e08bcc517e72489bb,/8.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3827,d543d4f0d7d7dffee5ad625e08bcc517e72489bb,/8.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
3828,0e18eab4234afbff617aee84e7156ac1b4fd67d5,/6/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3829,0e18eab4234afbff617aee84e7156ac1b4fd67d5,/6/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
3830,0e18eab4234afbff617aee84e7156ac1b4fd67d5,/6/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
3831,0e18eab4234afbff617aee84e7156ac1b4fd67d5,/6/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
3832,0e18eab4234afbff617aee84e7156ac1b4fd67d5,/6/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
3833,0e18eab4234afbff617aee84e7156ac1b4fd67d5,/6/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3834,0e18eab4234afbff617aee84e7156ac1b4fd67d5,/6/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3835,0e18eab4234afbff617aee84e7156ac1b4fd67d5,/6/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3836,0e18eab4234afbff617aee84e7156ac1b4fd67d5,/6/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3837,0e18eab4234afbff617aee84e7156ac1b4fd67d5,/6/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
3838,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3839,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
3840,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
3841,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
3842,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
3843,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3844,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3845,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
3846,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3847,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre7/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3848,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3849,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
3850,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3851,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3852,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3853,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3854,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
3855,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
3856,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
3857,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3858,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3859,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3860,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3861,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
3862,f26c14147f9affae8f32100430130271fc82bd3e,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3863,f26c14147f9affae8f32100430130271fc82bd3e,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
3864,f26c14147f9affae8f32100430130271fc82bd3e,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
3865,f26c14147f9affae8f32100430130271fc82bd3e,/8.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
3866,f26c14147f9affae8f32100430130271fc82bd3e,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3867,f26c14147f9affae8f32100430130271fc82bd3e,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3868,f26c14147f9affae8f32100430130271fc82bd3e,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3869,f26c14147f9affae8f32100430130271fc82bd3e,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
3870,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3871,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3872,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
3873,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
3874,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
3875,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3876,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3877,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
3878,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
3879,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
3880,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
3881,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
3882,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3883,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3884,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3885,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
3886,efab5942d355f9bac6f6e2a99d82a40a564bef3c,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3887,efab5942d355f9bac6f6e2a99d82a40a564bef3c,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3888,efab5942d355f9bac6f6e2a99d82a40a564bef3c,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3889,efab5942d355f9bac6f6e2a99d82a40a564bef3c,/8.5/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
3890,efab5942d355f9bac6f6e2a99d82a40a564bef3c,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3891,efab5942d355f9bac6f6e2a99d82a40a564bef3c,/8.5/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
3892,efab5942d355f9bac6f6e2a99d82a40a564bef3c,/8.5/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3893,efab5942d355f9bac6f6e2a99d82a40a564bef3c,/8.5/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
3894,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3895,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3896,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3897,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
3898,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3899,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
3900,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3901,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
3902,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3903,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3904,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
3905,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
3906,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
3907,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3908,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3909,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
3910,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
3911,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3912,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3913,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3914,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
3915,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3916,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3917,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
3918,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
3919,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
3920,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3921,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3922,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
3923,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
3924,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
3925,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
3926,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3927,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3928,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3929,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
3930,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3931,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
3932,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
3933,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
3934,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
3935,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3936,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3937,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
3938,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3939,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3940,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3941,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
3942,5b0cd615bf08392873a4802dfee2efabf1d71456,/Dockerfile.template,"# let ""Tomcat Native"" live somewhere isolated
"
3943,5b0cd615bf08392873a4802dfee2efabf1d71456,/Dockerfile.template,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
3944,5b0cd615bf08392873a4802dfee2efabf1d71456,/Dockerfile.template,"# only add stretch if we're not already building from within stretch
"
3945,5b0cd615bf08392873a4802dfee2efabf1d71456,/Dockerfile.template,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
3946,5b0cd615bf08392873a4802dfee2efabf1d71456,/Dockerfile.template,"# ... except OpenSSL, which is the reason we're here
"
3947,5b0cd615bf08392873a4802dfee2efabf1d71456,/Dockerfile.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3948,5b0cd615bf08392873a4802dfee2efabf1d71456,/Dockerfile.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3949,5b0cd615bf08392873a4802dfee2efabf1d71456,/Dockerfile.template,"# if the version is outdated, we might have to pull from the dist/archive :/
"
3950,5b0cd615bf08392873a4802dfee2efabf1d71456,/Dockerfile.template,"# not all the mirrors actually carry the .asc files :'(
"
3951,5b0cd615bf08392873a4802dfee2efabf1d71456,/Dockerfile.template,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3952,5b0cd615bf08392873a4802dfee2efabf1d71456,/Dockerfile.template,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
3953,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3954,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3955,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3956,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3957,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3958,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3959,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3960,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3961,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
3962,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk11-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3963,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk11-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
3964,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk11-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
3965,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk11-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
3966,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk11-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
3967,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk11-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3968,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk11-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3969,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk11-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
3970,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk11-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3971,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk11-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3972,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk11-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3973,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk11-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3974,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk11-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3975,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk11-slim/Dockerfile,"# verify Tomcat Native is working properly
"
3976,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3977,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3978,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3979,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3980,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3981,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3982,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3983,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3984,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
3985,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3986,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3987,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3988,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3989,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
3990,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
3991,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
3992,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3993,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3994,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3995,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3996,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
3997,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3998,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
3999,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
4000,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/7/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
4001,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4002,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4003,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4004,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
4005,3b05667011a600a2f46422dd533467eff8e7fecf,/7-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
4006,6f1c628fa92feea8b28e98e56a990500f2326936,/8-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
4007,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4008,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4009,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4010,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4011,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
4012,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
4013,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4014,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4015,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4016,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4017,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
4018,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre7-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4019,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre7-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
4020,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre7-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
4021,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre7-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
4022,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre7-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
4023,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre7-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4024,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre7-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4025,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre7-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
4026,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre7-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4027,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre7-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4028,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre7-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4029,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre7-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4030,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre7-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4031,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre7-slim/Dockerfile,"# verify Tomcat Native is working properly
"
4032,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4033,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
4034,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
4035,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
4036,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
4037,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4038,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4039,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
4040,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4041,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4042,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4043,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
4044,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4045,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4046,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
4047,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
4048,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
4049,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4050,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4051,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-oracle/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
4052,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-oracle/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
4053,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-oracle/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
4054,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
4055,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
4056,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4057,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4058,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4059,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
4060,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4061,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4062,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4063,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4064,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4065,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4066,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4067,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4068,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
4069,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4070,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4071,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4072,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4073,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4074,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4075,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4076,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4077,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
4078,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4079,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
4080,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
4081,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
4082,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
4083,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4084,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4085,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
4086,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4087,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4088,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4089,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4090,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4091,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
4092,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4093,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4094,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4095,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4096,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4097,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4098,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4099,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4100,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
4101,af71a3020ae05a63741db44c69d722f00e1d382a,/8-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
4102,989f50ed5db788921a4954109b90362e2209295e,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4103,989f50ed5db788921a4954109b90362e2209295e,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
4104,989f50ed5db788921a4954109b90362e2209295e,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
4105,989f50ed5db788921a4954109b90362e2209295e,/8.5/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
4106,989f50ed5db788921a4954109b90362e2209295e,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
4107,989f50ed5db788921a4954109b90362e2209295e,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
4108,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4109,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4110,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4111,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4112,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4113,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4114,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4115,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4116,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
4117,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4118,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4119,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4120,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
4121,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4122,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
4123,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4124,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
4125,b0cb4ee4d375ade382d77c450903b7c3a0c2b39f,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4126,b0cb4ee4d375ade382d77c450903b7c3a0c2b39f,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
4127,b0cb4ee4d375ade382d77c450903b7c3a0c2b39f,/8.5/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
4128,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4129,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
4130,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
4131,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
4132,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
4133,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4134,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4135,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
4136,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4137,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4138,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4139,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
4140,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4141,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4142,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4143,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4144,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4145,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4146,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4147,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4148,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
4149,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4150,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4151,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4152,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4153,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4154,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4155,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4156,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4157,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
4158,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4159,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4160,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4161,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4162,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
4163,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
4164,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4165,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4166,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4167,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4168,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
4169,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4170,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
4171,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
4172,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
4173,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
4174,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4175,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4176,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
4177,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4178,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4179,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4180,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4181,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4182,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7-slim/Dockerfile,"# verify Tomcat Native is working properly
"
4183,e0cfc71038fca93f3e1b54ef4a4db58fb506d5be,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4184,e0cfc71038fca93f3e1b54ef4a4db58fb506d5be,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4185,e0cfc71038fca93f3e1b54ef4a4db58fb506d5be,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4186,e0cfc71038fca93f3e1b54ef4a4db58fb506d5be,/7/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
4187,e0cfc71038fca93f3e1b54ef4a4db58fb506d5be,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4188,e0cfc71038fca93f3e1b54ef4a4db58fb506d5be,/7/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
4189,e0cfc71038fca93f3e1b54ef4a4db58fb506d5be,/7/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4190,e0cfc71038fca93f3e1b54ef4a4db58fb506d5be,/7/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4191,e0cfc71038fca93f3e1b54ef4a4db58fb506d5be,/7/jre7-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4192,e0cfc71038fca93f3e1b54ef4a4db58fb506d5be,/7/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
4193,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4194,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
4195,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
4196,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
4197,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
4198,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4199,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4200,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
4201,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4202,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4203,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4204,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4205,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4206,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
4207,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4208,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4209,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4210,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4211,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
4212,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
4213,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
4214,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4215,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4216,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4217,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4218,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
4219,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/6/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4220,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/6/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
4221,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/6/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
4222,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/6/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
4223,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/6/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
4224,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/6/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4225,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/6/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4226,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/6/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4227,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/6/jre8/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
4228,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4229,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4230,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4231,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4232,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/openjdk-slim-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
4233,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
4234,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
4235,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4236,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4237,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4238,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4239,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
4240,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4241,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4242,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4243,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4244,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
4245,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
4246,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
4247,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4248,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4249,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4250,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4251,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
4252,bd58c7237bff0357e76c9c9ee22deac77a2860cb,/8-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
4253,a46495d93b02266f616208b1599c26a2df0ae7f8,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4254,a46495d93b02266f616208b1599c26a2df0ae7f8,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4255,a46495d93b02266f616208b1599c26a2df0ae7f8,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4256,a46495d93b02266f616208b1599c26a2df0ae7f8,/7/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
4257,a46495d93b02266f616208b1599c26a2df0ae7f8,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4258,a46495d93b02266f616208b1599c26a2df0ae7f8,/7/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
4259,a46495d93b02266f616208b1599c26a2df0ae7f8,/7/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4260,a46495d93b02266f616208b1599c26a2df0ae7f8,/7/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
4261,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4262,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4263,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4264,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4265,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
4266,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
4267,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4268,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4269,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4270,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4271,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
4272,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4273,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
4274,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
4275,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
4276,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
4277,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4278,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4279,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
4280,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4281,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4282,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4283,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
4284,27c1f03b80a8d98c7355e57dbd2c35ae0ff73b27,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4285,27c1f03b80a8d98c7355e57dbd2c35ae0ff73b27,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4286,27c1f03b80a8d98c7355e57dbd2c35ae0ff73b27,/8.0/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4287,27c1f03b80a8d98c7355e57dbd2c35ae0ff73b27,/8.0/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4288,27c1f03b80a8d98c7355e57dbd2c35ae0ff73b27,/8.0/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
4289,4b5335ec27aee302823bea2e30dcf7b3118e61f2,/6/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4290,4b5335ec27aee302823bea2e30dcf7b3118e61f2,/6/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
4291,4b5335ec27aee302823bea2e30dcf7b3118e61f2,/6/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
4292,4b5335ec27aee302823bea2e30dcf7b3118e61f2,/6/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
4293,4b5335ec27aee302823bea2e30dcf7b3118e61f2,/6/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4294,4b5335ec27aee302823bea2e30dcf7b3118e61f2,/6/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4295,4b5335ec27aee302823bea2e30dcf7b3118e61f2,/6/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4296,4b5335ec27aee302823bea2e30dcf7b3118e61f2,/6/jre7/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
4297,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4298,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4299,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4300,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4301,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
4302,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
4303,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
4304,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4305,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4306,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4307,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4308,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
4309,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4310,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4311,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4312,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4313,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
4314,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
4315,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4316,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4317,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4318,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4319,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
4320,ed98c30c1cd42c53831f64dffa78a0abf7db8e9a,/7-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
4321,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4322,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4323,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4324,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4325,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4326,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4327,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4328,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4329,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
4330,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4331,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4332,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4333,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4334,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4335,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4336,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4337,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4338,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
4339,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4340,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4341,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4342,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4343,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
4344,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
4345,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4346,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4347,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4348,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4349,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
4350,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk12/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4351,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk12/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4352,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk12/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
4353,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk12/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
4354,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk12/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
4355,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk12/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4356,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk12/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4357,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk12/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
4358,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk12/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
4359,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk12/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4360,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk12/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4361,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk12/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4362,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk12/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
4363,5b0cd615bf08392873a4802dfee2efabf1d71456,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4364,5b0cd615bf08392873a4802dfee2efabf1d71456,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
4365,5b0cd615bf08392873a4802dfee2efabf1d71456,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
4366,5b0cd615bf08392873a4802dfee2efabf1d71456,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
4367,5b0cd615bf08392873a4802dfee2efabf1d71456,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
4368,5b0cd615bf08392873a4802dfee2efabf1d71456,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4369,5b0cd615bf08392873a4802dfee2efabf1d71456,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4370,5b0cd615bf08392873a4802dfee2efabf1d71456,/9.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
4371,5b0cd615bf08392873a4802dfee2efabf1d71456,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4372,5b0cd615bf08392873a4802dfee2efabf1d71456,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4373,5b0cd615bf08392873a4802dfee2efabf1d71456,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
4374,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4375,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
4376,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
4377,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
4378,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
4379,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4380,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4381,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
4382,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4383,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4384,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4385,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4386,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4387,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
4388,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4389,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4390,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4391,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4392,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
4393,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
4394,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4395,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4396,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4397,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4398,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
4399,ba45c4da39f4705edefbf685d410eb6064f5f151,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4400,ba45c4da39f4705edefbf685d410eb6064f5f151,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4401,ba45c4da39f4705edefbf685d410eb6064f5f151,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4402,ba45c4da39f4705edefbf685d410eb6064f5f151,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4403,ba45c4da39f4705edefbf685d410eb6064f5f151,/9.0/jre8-alpine/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
4404,ba45c4da39f4705edefbf685d410eb6064f5f151,/9.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
4405,ba45c4da39f4705edefbf685d410eb6064f5f151,/9.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4406,ba45c4da39f4705edefbf685d410eb6064f5f151,/9.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
4407,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4408,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4409,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4410,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4411,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4412,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4413,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4414,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4415,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
4416,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4417,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
4418,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
4419,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
4420,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
4421,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4422,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4423,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
4424,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4425,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4426,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4427,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4428,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4429,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7-slim/Dockerfile,"# verify Tomcat Native is working properly
"
4430,ac48cbb92d2664675929d013fd163fbc153697d9,/9.0/jdk13/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4431,ac48cbb92d2664675929d013fd163fbc153697d9,/9.0/jdk13/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4432,ac48cbb92d2664675929d013fd163fbc153697d9,/9.0/jdk13/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4433,ac48cbb92d2664675929d013fd163fbc153697d9,/9.0/jdk13/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4434,ac48cbb92d2664675929d013fd163fbc153697d9,/9.0/jdk13/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
4435,ac48cbb92d2664675929d013fd163fbc153697d9,/9.0/jdk13/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
4436,ac48cbb92d2664675929d013fd163fbc153697d9,/9.0/jdk13/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4437,ac48cbb92d2664675929d013fd163fbc153697d9,/9.0/jdk13/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4438,ac48cbb92d2664675929d013fd163fbc153697d9,/9.0/jdk13/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4439,ac48cbb92d2664675929d013fd163fbc153697d9,/9.0/jdk13/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4440,ac48cbb92d2664675929d013fd163fbc153697d9,/9.0/jdk13/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
4441,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre11-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4442,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre11-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
4443,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre11-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
4444,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre11-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
4445,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre11-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
4446,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre11-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4447,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre11-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4448,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre11-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
4449,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre11-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4450,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre11-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4451,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre11-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4452,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre11-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4453,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre11-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4454,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre11-slim/Dockerfile,"# verify Tomcat Native is working properly
"
4455,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/Dockerfile-alpine.template,"# let ""Tomcat Native"" live somewhere isolated
"
4456,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/Dockerfile-alpine.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4457,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/Dockerfile-alpine.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4458,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/Dockerfile-alpine.template,"# not all the mirrors actually carry the .asc files :'(
"
4459,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/Dockerfile-alpine.template,"# verify Tomcat Native is working properly
"
4460,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4461,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
4462,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
4463,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
4464,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
4465,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4466,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4467,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
4468,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4469,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4470,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4471,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
4472,7d7d6256214d54613930ab2200be159aff49cac5,/7-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
4473,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4474,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
4475,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
4476,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/7/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
4477,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4478,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4479,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4480,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
4481,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/Dockerfile.template,"# let ""Tomcat Native"" live somewhere isolated
"
4482,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/Dockerfile.template,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
4483,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/Dockerfile.template,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
4484,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/Dockerfile.template,"# except OpenSSL, which is the reason we're here
"
4485,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/Dockerfile.template,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
4486,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/Dockerfile.template,"# verify Tomcat Native is working properly
"
4487,ab435d680d56084ebe0419adfb31cc58df3624dd,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4488,ab435d680d56084ebe0419adfb31cc58df3624dd,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
4489,ab435d680d56084ebe0419adfb31cc58df3624dd,/7/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
4490,ab435d680d56084ebe0419adfb31cc58df3624dd,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
4491,ab435d680d56084ebe0419adfb31cc58df3624dd,/7/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
4492,ab435d680d56084ebe0419adfb31cc58df3624dd,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4493,ab435d680d56084ebe0419adfb31cc58df3624dd,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4494,ab435d680d56084ebe0419adfb31cc58df3624dd,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4495,ab435d680d56084ebe0419adfb31cc58df3624dd,/7/jre7/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
4496,ab435d680d56084ebe0419adfb31cc58df3624dd,/7/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4497,ab435d680d56084ebe0419adfb31cc58df3624dd,/7/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
4498,62f0d3f0ded1df407b771c127fccc6d60990da8a,/6/Dockerfile,"# add our user and group first to make sure their IDs get assigned consistently, regardless of whatever dependencies get added
"
4499,62f0d3f0ded1df407b771c127fccc6d60990da8a,/6/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
4500,f4f5d57a2574e4d4c646041822ab72e6fff461e4,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4501,f4f5d57a2574e4d4c646041822ab72e6fff461e4,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4502,f4f5d57a2574e4d4c646041822ab72e6fff461e4,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4503,f4f5d57a2574e4d4c646041822ab72e6fff461e4,/9.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
4504,f4f5d57a2574e4d4c646041822ab72e6fff461e4,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4505,f4f5d57a2574e4d4c646041822ab72e6fff461e4,/9.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
4506,f4f5d57a2574e4d4c646041822ab72e6fff461e4,/9.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4507,f4f5d57a2574e4d4c646041822ab72e6fff461e4,/9.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
4508,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4509,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
4510,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
4511,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
4512,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
4513,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4514,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4515,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
4516,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4517,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre7/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4518,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4519,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4520,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre7/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4521,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
4522,27c1f03b80a8d98c7355e57dbd2c35ae0ff73b27,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4523,27c1f03b80a8d98c7355e57dbd2c35ae0ff73b27,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4524,27c1f03b80a8d98c7355e57dbd2c35ae0ff73b27,/8.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4525,27c1f03b80a8d98c7355e57dbd2c35ae0ff73b27,/8.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4526,27c1f03b80a8d98c7355e57dbd2c35ae0ff73b27,/8.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
4527,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4528,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
4529,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
4530,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
4531,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
4532,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4533,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4534,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
4535,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4536,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4537,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4538,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
4539,a46495d93b02266f616208b1599c26a2df0ae7f8,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4540,a46495d93b02266f616208b1599c26a2df0ae7f8,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4541,a46495d93b02266f616208b1599c26a2df0ae7f8,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4542,a46495d93b02266f616208b1599c26a2df0ae7f8,/7/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
4543,a46495d93b02266f616208b1599c26a2df0ae7f8,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4544,a46495d93b02266f616208b1599c26a2df0ae7f8,/7/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
4545,a46495d93b02266f616208b1599c26a2df0ae7f8,/7/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4546,a46495d93b02266f616208b1599c26a2df0ae7f8,/7/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
4547,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4548,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4549,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4550,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4551,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
4552,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
4553,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
4554,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4555,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4556,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4557,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4558,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
4559,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre11-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4560,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre11-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
4561,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre11-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
4562,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre11-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
4563,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre11-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
4564,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre11-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4565,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre11-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4566,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre11-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
4567,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre11-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4568,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre11-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4569,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre11-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4570,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre11-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4571,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre11-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4572,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre11-slim/Dockerfile,"# verify Tomcat Native is working properly
"
4573,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4574,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4575,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4576,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4577,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4578,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4579,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4580,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4581,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
4582,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4583,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4584,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
4585,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
4586,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
4587,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4588,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4589,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
4590,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
4591,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4592,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4593,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4594,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
4595,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4596,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
4597,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
4598,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
4599,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
4600,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4601,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4602,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
4603,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4604,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4605,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4606,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
4607,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4608,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
4609,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
4610,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
4611,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
4612,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4613,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4614,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
4615,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4616,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4617,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4618,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4619,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4620,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
4621,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4622,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4623,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4624,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4625,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
4626,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
4627,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
4628,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4629,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4630,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4631,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4632,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
4633,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4634,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
4635,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
4636,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
4637,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
4638,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4639,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4640,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
4641,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4642,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4643,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4644,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
4645,e0cfc71038fca93f3e1b54ef4a4db58fb506d5be,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4646,e0cfc71038fca93f3e1b54ef4a4db58fb506d5be,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4647,e0cfc71038fca93f3e1b54ef4a4db58fb506d5be,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4648,e0cfc71038fca93f3e1b54ef4a4db58fb506d5be,/7/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
4649,e0cfc71038fca93f3e1b54ef4a4db58fb506d5be,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4650,e0cfc71038fca93f3e1b54ef4a4db58fb506d5be,/7/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
4651,e0cfc71038fca93f3e1b54ef4a4db58fb506d5be,/7/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4652,e0cfc71038fca93f3e1b54ef4a4db58fb506d5be,/7/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4653,e0cfc71038fca93f3e1b54ef4a4db58fb506d5be,/7/jre8-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4654,e0cfc71038fca93f3e1b54ef4a4db58fb506d5be,/7/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
4655,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk12/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4656,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk12/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4657,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk12/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
4658,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk12/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
4659,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk12/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
4660,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk12/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4661,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk12/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4662,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk12/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
4663,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk12/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
4664,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk12/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4665,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk12/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4666,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk12/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4667,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk12/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
4668,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4669,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4670,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4671,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4672,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
4673,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
4674,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4675,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4676,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4677,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4678,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
4679,c280358006777004381dde9c64ad54d4876a7cf3,/6/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4680,c280358006777004381dde9c64ad54d4876a7cf3,/6/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
4681,c280358006777004381dde9c64ad54d4876a7cf3,/6/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
4682,c280358006777004381dde9c64ad54d4876a7cf3,/6/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
4683,c280358006777004381dde9c64ad54d4876a7cf3,/6/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4684,c280358006777004381dde9c64ad54d4876a7cf3,/6/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4685,c280358006777004381dde9c64ad54d4876a7cf3,/6/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4686,c280358006777004381dde9c64ad54d4876a7cf3,/6/jre7/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
4687,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4688,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4689,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4690,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4691,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4692,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4693,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4694,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4695,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
4696,ec75141e3cb6276b07d66c16042152e2d4de119c,/7/jre7/Dockerfile,"# runtime dependency for Tomcat Native Libraries
"
4697,ec75141e3cb6276b07d66c16042152e2d4de119c,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
4698,ec75141e3cb6276b07d66c16042152e2d4de119c,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
4699,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4700,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
4701,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
4702,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/9.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
4703,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4704,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4705,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4706,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
4707,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4708,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4709,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4710,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4711,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4712,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4713,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4714,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4715,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
4716,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4717,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4718,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
4719,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
4720,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
4721,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4722,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4723,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
4724,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
4725,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4726,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4727,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4728,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
4729,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4730,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4731,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4732,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4733,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
4734,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
4735,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
4736,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4737,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4738,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4739,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4740,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
4741,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4742,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
4743,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
4744,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
4745,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
4746,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4747,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4748,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
4749,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4750,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4751,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4752,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
4753,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4754,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
4755,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
4756,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
4757,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
4758,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4759,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4760,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
4761,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4762,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4763,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4764,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
4765,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4766,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4767,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4768,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4769,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
4770,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
4771,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
4772,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4773,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4774,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4775,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4776,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
4777,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4778,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
4779,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
4780,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
4781,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
4782,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4783,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4784,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
4785,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4786,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4787,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4788,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
4789,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4790,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4791,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4792,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
4793,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4794,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4795,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4796,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4797,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4798,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
4799,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4800,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4801,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4802,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4803,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
4804,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
4805,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
4806,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4807,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4808,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4809,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4810,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
4811,c0df3d5463944671fefe200bdadd95c69a616ab4,/Dockerfile.template,"# let ""Tomcat Native"" live somewhere isolated
"
4812,c0df3d5463944671fefe200bdadd95c69a616ab4,/Dockerfile.template,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
4813,c0df3d5463944671fefe200bdadd95c69a616ab4,/Dockerfile.template,"# only add stretch if we're not already building from within stretch
"
4814,c0df3d5463944671fefe200bdadd95c69a616ab4,/Dockerfile.template,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
4815,c0df3d5463944671fefe200bdadd95c69a616ab4,/Dockerfile.template,"# ... except OpenSSL, which is the reason we're here
"
4816,c0df3d5463944671fefe200bdadd95c69a616ab4,/Dockerfile.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4817,c0df3d5463944671fefe200bdadd95c69a616ab4,/Dockerfile.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4818,c0df3d5463944671fefe200bdadd95c69a616ab4,/Dockerfile.template,"# if the version is outdated, we might have to pull from the dist/archive :/
"
4819,c0df3d5463944671fefe200bdadd95c69a616ab4,/Dockerfile.template,"# not all the mirrors actually carry the .asc files :'(
"
4820,c0df3d5463944671fefe200bdadd95c69a616ab4,/Dockerfile.template,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4821,c0df3d5463944671fefe200bdadd95c69a616ab4,/Dockerfile.template,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4822,c0df3d5463944671fefe200bdadd95c69a616ab4,/Dockerfile.template,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4823,c0df3d5463944671fefe200bdadd95c69a616ab4,/Dockerfile.template,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4824,c0df3d5463944671fefe200bdadd95c69a616ab4,/Dockerfile.template,"# verify Tomcat Native is working properly
"
4825,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4826,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4827,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4828,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4829,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
4830,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
4831,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
4832,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4833,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4834,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4835,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4836,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
4837,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre7-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4838,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre7-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
4839,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre7-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
4840,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre7-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
4841,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre7-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
4842,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre7-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4843,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre7-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4844,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre7-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
4845,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre7-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4846,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre7-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4847,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre7-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4848,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre7-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
4849,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4850,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4851,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4852,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4853,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4854,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4855,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4856,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4857,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
4858,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4859,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4860,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4861,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4862,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
4863,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
4864,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
4865,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4866,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4867,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4868,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4869,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
4870,80778cf9ec89fcd828f2f7f8268f9154eca35e19,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4871,80778cf9ec89fcd828f2f7f8268f9154eca35e19,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
4872,80778cf9ec89fcd828f2f7f8268f9154eca35e19,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
4873,80778cf9ec89fcd828f2f7f8268f9154eca35e19,/7/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
4874,80778cf9ec89fcd828f2f7f8268f9154eca35e19,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4875,80778cf9ec89fcd828f2f7f8268f9154eca35e19,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4876,80778cf9ec89fcd828f2f7f8268f9154eca35e19,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4877,80778cf9ec89fcd828f2f7f8268f9154eca35e19,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
4878,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4879,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4880,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
4881,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
4882,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
4883,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4884,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4885,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-oracle/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
4886,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-oracle/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
4887,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-oracle/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
4888,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
4889,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
4890,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4891,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4892,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4893,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
4894,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4895,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
4896,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
4897,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
4898,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
4899,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4900,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4901,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
4902,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4903,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4904,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4905,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
4906,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4907,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4908,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
4909,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
4910,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
4911,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4912,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4913,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-oracle/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
4914,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-oracle/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
4915,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
4916,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
4917,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4918,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4919,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4920,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
4921,6579c4d21893ec4043387a906ac6d22394a06d22,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4922,6579c4d21893ec4043387a906ac6d22394a06d22,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
4923,6579c4d21893ec4043387a906ac6d22394a06d22,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4924,6579c4d21893ec4043387a906ac6d22394a06d22,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4925,6579c4d21893ec4043387a906ac6d22394a06d22,/9.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
4926,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4927,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4928,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4929,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4930,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
4931,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
4932,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4933,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4934,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4935,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4936,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
4937,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4938,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4939,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4940,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4941,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
4942,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
4943,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
4944,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4945,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4946,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4947,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4948,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
4949,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4950,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
4951,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
4952,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
4953,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
4954,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4955,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4956,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
4957,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4958,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4959,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4960,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
4961,1651e929e7d4c9785b602cb93cdd2503573c3834,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4962,1651e929e7d4c9785b602cb93cdd2503573c3834,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
4963,1651e929e7d4c9785b602cb93cdd2503573c3834,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
4964,1651e929e7d4c9785b602cb93cdd2503573c3834,/7/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
4965,1651e929e7d4c9785b602cb93cdd2503573c3834,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4966,1651e929e7d4c9785b602cb93cdd2503573c3834,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4967,1651e929e7d4c9785b602cb93cdd2503573c3834,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4968,1651e929e7d4c9785b602cb93cdd2503573c3834,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
4969,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4970,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4971,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4972,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4973,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4974,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4975,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4976,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4977,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
4978,81c66e2e695ad5548b726841c00512a9acf18eb5,/Dockerfile.template,"# let ""Tomcat Native"" live somewhere isolated
"
4979,81c66e2e695ad5548b726841c00512a9acf18eb5,/Dockerfile.template,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
4980,81c66e2e695ad5548b726841c00512a9acf18eb5,/Dockerfile.template,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
4981,81c66e2e695ad5548b726841c00512a9acf18eb5,/Dockerfile.template,"# except OpenSSL, which is the reason we're here
"
4982,81c66e2e695ad5548b726841c00512a9acf18eb5,/Dockerfile.template,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
4983,81c66e2e695ad5548b726841c00512a9acf18eb5,/Dockerfile.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4984,81c66e2e695ad5548b726841c00512a9acf18eb5,/Dockerfile.template,"# not all the mirrors actually carry the .asc files :'(
"
4985,81c66e2e695ad5548b726841c00512a9acf18eb5,/Dockerfile.template,"# verify Tomcat Native is working properly
"
4986,984d958106aebab3f124f616277a2512da4d4a9f,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
4987,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4988,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4989,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
4990,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
4991,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
4992,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4993,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4994,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
4995,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
4996,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4997,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4998,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4999,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
5000,98708820f99e6c58da0eddb3243a01282a64b3be,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5001,98708820f99e6c58da0eddb3243a01282a64b3be,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
5002,98708820f99e6c58da0eddb3243a01282a64b3be,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
5003,98708820f99e6c58da0eddb3243a01282a64b3be,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
5004,98708820f99e6c58da0eddb3243a01282a64b3be,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
5005,98708820f99e6c58da0eddb3243a01282a64b3be,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5006,98708820f99e6c58da0eddb3243a01282a64b3be,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5007,98708820f99e6c58da0eddb3243a01282a64b3be,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5008,98708820f99e6c58da0eddb3243a01282a64b3be,/8.5/jre8/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
5009,98708820f99e6c58da0eddb3243a01282a64b3be,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5010,98708820f99e6c58da0eddb3243a01282a64b3be,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
5011,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5012,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5013,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5014,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5015,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
5016,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
5017,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
5018,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5019,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5020,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5021,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5022,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
5023,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5024,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
5025,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
5026,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
5027,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
5028,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5029,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5030,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5031,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/9.0/jre8/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
5032,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5033,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
5034,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5035,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5036,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5037,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5038,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
5039,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
5040,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
5041,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5042,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5043,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5044,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5045,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
5046,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5047,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
5048,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
5049,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
5050,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
5051,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5052,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5053,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
5054,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5055,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre7/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5056,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5057,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5058,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre7/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5059,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
5060,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5061,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5062,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5063,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5064,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5065,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5066,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5067,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5068,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
5069,9c2fb18446d9e6841997362e575804da73f23eee,/8-jre8/Dockerfile,"# add our user and group first to make sure their IDs get assigned consistently, regardless of whatever dependencies get added
"
5070,9c2fb18446d9e6841997362e575804da73f23eee,/8-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
5071,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5072,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5073,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5074,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5075,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
5076,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
5077,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5078,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5079,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5080,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5081,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
5082,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre10-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5083,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre10-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
5084,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre10-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
5085,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre10-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
5086,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre10-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
5087,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre10-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5088,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre10-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5089,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre10-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
5090,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre10-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5091,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre10-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5092,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre10-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5093,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre10-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
5094,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5095,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5096,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5097,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5098,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
5099,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
5100,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
5101,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5102,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5103,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5104,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5105,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
5106,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre11-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5107,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre11-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
5108,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre11-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
5109,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre11-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
5110,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre11-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
5111,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre11-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5112,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre11-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5113,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre11-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
5114,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre11-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5115,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre11-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5116,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre11-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5117,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre11-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5118,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre11-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5119,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre11-slim/Dockerfile,"# verify Tomcat Native is working properly
"
5120,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre10-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5121,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre10-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
5122,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre10-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
5123,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre10-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
5124,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre10-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
5125,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre10-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5126,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre10-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5127,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre10-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
5128,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre10-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5129,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre10-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5130,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre10-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5131,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre10-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5132,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre10-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5133,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre10-slim/Dockerfile,"# verify Tomcat Native is working properly
"
5134,1ac581da0dbef3f191cbb2d5fbfc4292e32bb0dd,/8-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
5135,2b55df5b9feaa7b8354e8b2419a88e494a110621,/Dockerfile.template,"# let ""Tomcat Native"" live somewhere isolated
"
5136,2b55df5b9feaa7b8354e8b2419a88e494a110621,/Dockerfile.template,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
5137,2b55df5b9feaa7b8354e8b2419a88e494a110621,/Dockerfile.template,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
5138,2b55df5b9feaa7b8354e8b2419a88e494a110621,/Dockerfile.template,"# except OpenSSL, which is the reason we're here
"
5139,2b55df5b9feaa7b8354e8b2419a88e494a110621,/Dockerfile.template,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
5140,2b55df5b9feaa7b8354e8b2419a88e494a110621,/Dockerfile.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5141,2b55df5b9feaa7b8354e8b2419a88e494a110621,/Dockerfile.template,"# not all the mirrors actually carry the .asc files :'(
"
5142,2b55df5b9feaa7b8354e8b2419a88e494a110621,/Dockerfile.template,"# verify Tomcat Native is working properly
"
5143,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre9-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5144,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre9-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
5145,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre9-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
5146,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre9-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
5147,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre9-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
5148,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre9-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5149,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre9-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5150,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre9-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
5151,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre9-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5152,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre9-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5153,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre9-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5154,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre9-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
5155,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5156,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
5157,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
5158,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/8.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
5159,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
5160,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
5161,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5162,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5163,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5164,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
5165,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5166,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
5167,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5168,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5169,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5170,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
5171,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre10/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5172,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre10/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
5173,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre10/Dockerfile,"# only add stretch if we're not already building from within stretch
"
5174,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre10/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
5175,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre10/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
5176,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre10/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5177,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre10/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5178,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre10/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
5179,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre10/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5180,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre10/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5181,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre10/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5182,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre10/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5183,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre10/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5184,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre10/Dockerfile,"# verify Tomcat Native is working properly
"
5185,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5186,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
5187,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
5188,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
5189,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
5190,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5191,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5192,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
5193,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5194,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5195,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5196,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
5197,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5198,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
5199,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
5200,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
5201,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
5202,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5203,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5204,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
5205,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5206,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5207,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5208,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
5209,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5210,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
5211,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
5212,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
5213,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
5214,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5215,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5216,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
5217,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5218,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre7/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5219,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5220,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
5221,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5222,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5223,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5224,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5225,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
5226,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
5227,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5228,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5229,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5230,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5231,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
5232,e36c4044b7ece1361f124aaf3560c2efd888b62f,/8-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
5233,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5234,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5235,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5236,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5237,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
5238,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
5239,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5240,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5241,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5242,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5243,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
5244,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5245,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5246,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5247,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5248,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
5249,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
5250,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5251,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5252,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5253,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5254,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
5255,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre7-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5256,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre7-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
5257,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre7-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
5258,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre7-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
5259,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre7-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
5260,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre7-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5261,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre7-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5262,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre7-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
5263,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre7-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5264,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre7-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5265,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre7-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5266,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre7-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
5267,1691653797eb1f26b4e1d4898c71094ff9104e0e,/7-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
5268,023eb5126ff70b769f1f84b28c440fb6128bffe7,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5269,023eb5126ff70b769f1f84b28c440fb6128bffe7,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
5270,023eb5126ff70b769f1f84b28c440fb6128bffe7,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
5271,023eb5126ff70b769f1f84b28c440fb6128bffe7,/8.5/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
5272,023eb5126ff70b769f1f84b28c440fb6128bffe7,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5273,023eb5126ff70b769f1f84b28c440fb6128bffe7,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5274,023eb5126ff70b769f1f84b28c440fb6128bffe7,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5275,023eb5126ff70b769f1f84b28c440fb6128bffe7,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
5276,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5277,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5278,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5279,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5280,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
5281,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
5282,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
5283,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5284,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5285,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5286,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5287,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
5288,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/Dockerfile.template,"# let ""Tomcat Native"" live somewhere isolated
"
5289,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/Dockerfile.template,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
5290,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/Dockerfile.template,"# only add stretch if we're not already building from within stretch
"
5291,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/Dockerfile.template,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
5292,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/Dockerfile.template,"# ... except OpenSSL, which is the reason we're here
"
5293,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/Dockerfile.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5294,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/Dockerfile.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5295,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/Dockerfile.template,"# not all the mirrors actually carry the .asc files :'(
"
5296,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/Dockerfile.template,"# verify Tomcat Native is working properly
"
5297,989f50ed5db788921a4954109b90362e2209295e,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5298,989f50ed5db788921a4954109b90362e2209295e,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
5299,989f50ed5db788921a4954109b90362e2209295e,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
5300,989f50ed5db788921a4954109b90362e2209295e,/7/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
5301,989f50ed5db788921a4954109b90362e2209295e,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
5302,989f50ed5db788921a4954109b90362e2209295e,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
5303,1722fc14b4eb66f746a2067739f32d4111f408de,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5304,1722fc14b4eb66f746a2067739f32d4111f408de,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5305,1722fc14b4eb66f746a2067739f32d4111f408de,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5306,1722fc14b4eb66f746a2067739f32d4111f408de,/7/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
5307,1722fc14b4eb66f746a2067739f32d4111f408de,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5308,1722fc14b4eb66f746a2067739f32d4111f408de,/7/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
5309,1722fc14b4eb66f746a2067739f32d4111f408de,/7/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5310,1722fc14b4eb66f746a2067739f32d4111f408de,/7/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5311,1722fc14b4eb66f746a2067739f32d4111f408de,/7/jre8-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5312,1722fc14b4eb66f746a2067739f32d4111f408de,/7/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
5313,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5314,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
5315,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
5316,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
5317,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
5318,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5319,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5320,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
5321,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5322,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre7/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5323,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5324,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
5325,19bdd962a61b69e3a35ddc0a8936854cc2e405f6,/8.5/jre8/Dockerfile,"# runtime dependency for Tomcat Native Libraries
"
5326,19bdd962a61b69e3a35ddc0a8936854cc2e405f6,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
5327,19bdd962a61b69e3a35ddc0a8936854cc2e405f6,/8.5/jre8/Dockerfile,"# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)

"
5328,19bdd962a61b69e3a35ddc0a8936854cc2e405f6,/8.5/jre8/Dockerfile,"# http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5048274.html (ie, HACK HACK HACK)
"
5329,19bdd962a61b69e3a35ddc0a8936854cc2e405f6,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
5330,3bbd4ed7a59680ae1d6dc3f123897f07e0625989,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5331,3bbd4ed7a59680ae1d6dc3f123897f07e0625989,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
5332,3bbd4ed7a59680ae1d6dc3f123897f07e0625989,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
5333,3bbd4ed7a59680ae1d6dc3f123897f07e0625989,/8.0/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
5334,3bbd4ed7a59680ae1d6dc3f123897f07e0625989,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5335,3bbd4ed7a59680ae1d6dc3f123897f07e0625989,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5336,3bbd4ed7a59680ae1d6dc3f123897f07e0625989,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5337,3bbd4ed7a59680ae1d6dc3f123897f07e0625989,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
5338,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5339,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
5340,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
5341,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
5342,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
5343,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5344,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5345,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
5346,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5347,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre7/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5348,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5349,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5350,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre7/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5351,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
5352,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5353,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5354,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5355,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5356,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5357,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5358,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5359,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5360,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
5361,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5362,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5363,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5364,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
5365,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5366,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
5367,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5368,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5369,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5370,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
5371,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5372,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5373,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5374,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5375,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5376,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5377,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5378,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5379,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
5380,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5381,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5382,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
5383,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
5384,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
5385,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5386,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5387,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
5388,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
5389,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5390,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5391,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5392,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
5393,ac48cbb92d2664675929d013fd163fbc153697d9,/8.5/jdk13/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5394,ac48cbb92d2664675929d013fd163fbc153697d9,/8.5/jdk13/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5395,ac48cbb92d2664675929d013fd163fbc153697d9,/8.5/jdk13/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5396,ac48cbb92d2664675929d013fd163fbc153697d9,/8.5/jdk13/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5397,ac48cbb92d2664675929d013fd163fbc153697d9,/8.5/jdk13/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
5398,ac48cbb92d2664675929d013fd163fbc153697d9,/8.5/jdk13/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
5399,ac48cbb92d2664675929d013fd163fbc153697d9,/8.5/jdk13/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5400,ac48cbb92d2664675929d013fd163fbc153697d9,/8.5/jdk13/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5401,ac48cbb92d2664675929d013fd163fbc153697d9,/8.5/jdk13/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5402,ac48cbb92d2664675929d013fd163fbc153697d9,/8.5/jdk13/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5403,ac48cbb92d2664675929d013fd163fbc153697d9,/8.5/jdk13/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
5404,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5405,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
5406,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
5407,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
5408,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
5409,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5410,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5411,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
5412,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5413,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5414,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
5415,b0cb4ee4d375ade382d77c450903b7c3a0c2b39f,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5416,b0cb4ee4d375ade382d77c450903b7c3a0c2b39f,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
5417,b0cb4ee4d375ade382d77c450903b7c3a0c2b39f,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
5418,b0cb4ee4d375ade382d77c450903b7c3a0c2b39f,/9.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
5419,b0cb4ee4d375ade382d77c450903b7c3a0c2b39f,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
5420,b0cb4ee4d375ade382d77c450903b7c3a0c2b39f,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
5421,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre10/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5422,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre10/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
5423,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre10/Dockerfile,"# only add stretch if we're not already building from within stretch
"
5424,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre10/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
5425,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre10/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
5426,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre10/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5427,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre10/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5428,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre10/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
5429,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre10/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5430,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre10/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5431,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre10/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5432,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre10/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
5433,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5434,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5435,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5436,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5437,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5438,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5439,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5440,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5441,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
5442,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5443,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5444,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5445,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
5446,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5447,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
5448,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5449,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5450,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5451,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
5452,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5453,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5454,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5455,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5456,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
5457,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
5458,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
5459,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5460,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5461,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5462,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5463,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
5464,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5465,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
5466,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
5467,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
5468,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
5469,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5470,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5471,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
5472,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5473,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5474,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5475,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5476,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5477,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
5478,1722fc14b4eb66f746a2067739f32d4111f408de,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5479,1722fc14b4eb66f746a2067739f32d4111f408de,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5480,1722fc14b4eb66f746a2067739f32d4111f408de,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5481,1722fc14b4eb66f746a2067739f32d4111f408de,/7/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
5482,1722fc14b4eb66f746a2067739f32d4111f408de,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5483,1722fc14b4eb66f746a2067739f32d4111f408de,/7/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
5484,1722fc14b4eb66f746a2067739f32d4111f408de,/7/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5485,1722fc14b4eb66f746a2067739f32d4111f408de,/7/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5486,1722fc14b4eb66f746a2067739f32d4111f408de,/7/jre7-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5487,1722fc14b4eb66f746a2067739f32d4111f408de,/7/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
5488,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5489,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5490,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5491,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5492,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
5493,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
5494,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
5495,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5496,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5497,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5498,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5499,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
5500,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5501,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5502,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5503,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5504,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
5505,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
5506,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5507,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5508,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5509,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5510,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
5511,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5512,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5513,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5514,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5515,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
5516,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
5517,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5518,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5519,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5520,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5521,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
5522,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5523,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
5524,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
5525,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/8.5/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
5526,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
5527,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
5528,06a7e79e30595058df3c2fec9c769e47e2bca56d,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5529,06a7e79e30595058df3c2fec9c769e47e2bca56d,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
5530,06a7e79e30595058df3c2fec9c769e47e2bca56d,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
5531,06a7e79e30595058df3c2fec9c769e47e2bca56d,/8.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
5532,06a7e79e30595058df3c2fec9c769e47e2bca56d,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5533,06a7e79e30595058df3c2fec9c769e47e2bca56d,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5534,06a7e79e30595058df3c2fec9c769e47e2bca56d,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5535,06a7e79e30595058df3c2fec9c769e47e2bca56d,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
5536,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5537,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
5538,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
5539,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
5540,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
5541,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5542,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5543,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
5544,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5545,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5546,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5547,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
5548,d08341e2ed934abd7ff1baa0c26d6eac4f45f73a,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
5549,d08341e2ed934abd7ff1baa0c26d6eac4f45f73a,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
5550,d08341e2ed934abd7ff1baa0c26d6eac4f45f73a,/9.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
5551,d08341e2ed934abd7ff1baa0c26d6eac4f45f73a,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
5552,d08341e2ed934abd7ff1baa0c26d6eac4f45f73a,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
5553,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/9.0/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5554,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/9.0/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5555,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/9.0/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5556,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/9.0/jdk11/corretto/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
5557,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/9.0/jdk11/corretto/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5558,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/9.0/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
5559,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/9.0/jdk11/corretto/Dockerfile,"#?}}""; \
"
5560,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/9.0/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
5561,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/9.0/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
5562,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/9.0/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
5563,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/9.0/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5564,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/9.0/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5565,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/9.0/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5566,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/9.0/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
5567,81c66e2e695ad5548b726841c00512a9acf18eb5,/6/jre8/Dockerfile,"# runtime dependency for Tomcat Native Libraries
"
5568,81c66e2e695ad5548b726841c00512a9acf18eb5,/6/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
5569,81c66e2e695ad5548b726841c00512a9acf18eb5,/6/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5570,81c66e2e695ad5548b726841c00512a9acf18eb5,/6/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5571,81c66e2e695ad5548b726841c00512a9acf18eb5,/6/jre8/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
5572,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5573,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
5574,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
5575,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
5576,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
5577,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5578,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5579,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
5580,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5581,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5582,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5583,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5584,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5585,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
5586,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5587,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre9/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
5588,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre9/Dockerfile,"# only add stretch if we're not already building from within stretch
"
5589,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre9/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
5590,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre9/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
5591,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5592,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5593,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre9/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
5594,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre9/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5595,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5596,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5597,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
5598,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5599,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5600,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5601,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5602,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
5603,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
5604,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
5605,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5606,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5607,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5608,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5609,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
5610,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5611,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
5612,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
5613,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
5614,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
5615,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5616,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5617,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
5618,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5619,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5620,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5621,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
5622,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/Dockerfile.template,"# let ""Tomcat Native"" live somewhere isolated
"
5623,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/Dockerfile.template,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
5624,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/Dockerfile.template,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
5625,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/Dockerfile.template,"# except OpenSSL, which is the reason we're here
"
5626,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/Dockerfile.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5627,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/Dockerfile.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5628,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/Dockerfile.template,"# not all the mirrors actually carry the .asc files :'(
"
5629,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/Dockerfile.template,"# verify Tomcat Native is working properly
"
5630,2b55df5b9feaa7b8354e8b2419a88e494a110621,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5631,2b55df5b9feaa7b8354e8b2419a88e494a110621,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
5632,2b55df5b9feaa7b8354e8b2419a88e494a110621,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
5633,2b55df5b9feaa7b8354e8b2419a88e494a110621,/8.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
5634,2b55df5b9feaa7b8354e8b2419a88e494a110621,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
5635,2b55df5b9feaa7b8354e8b2419a88e494a110621,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5636,2b55df5b9feaa7b8354e8b2419a88e494a110621,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5637,2b55df5b9feaa7b8354e8b2419a88e494a110621,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
5638,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5639,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5640,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5641,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5642,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
5643,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
5644,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5645,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5646,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5647,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5648,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
5649,1c1e57eac69764f7c46309d7321f381209067d9c,/Dockerfile.template,"# let ""Tomcat Native"" live somewhere isolated
"
5650,1c1e57eac69764f7c46309d7321f381209067d9c,/Dockerfile.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5651,1c1e57eac69764f7c46309d7321f381209067d9c,/Dockerfile.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5652,1c1e57eac69764f7c46309d7321f381209067d9c,/Dockerfile.template,"# if the version is outdated, we might have to pull from the dist/archive :/
"
5653,1c1e57eac69764f7c46309d7321f381209067d9c,/Dockerfile.template,"# not all the mirrors actually carry the .asc files :'(
"
5654,1c1e57eac69764f7c46309d7321f381209067d9c,/Dockerfile.template,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5655,1c1e57eac69764f7c46309d7321f381209067d9c,/Dockerfile.template,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5656,1c1e57eac69764f7c46309d7321f381209067d9c,/Dockerfile.template,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5657,1c1e57eac69764f7c46309d7321f381209067d9c,/Dockerfile.template,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5658,1c1e57eac69764f7c46309d7321f381209067d9c,/Dockerfile.template,"# verify Tomcat Native is working properly
"
5659,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5660,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5661,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5662,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5663,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5664,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5665,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5666,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5667,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
5668,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/Dockerfile-alpine.template,"# let ""Tomcat Native"" live somewhere isolated
"
5669,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/Dockerfile-alpine.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5670,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/Dockerfile-alpine.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5671,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/Dockerfile-alpine.template,"# not all the mirrors actually carry the .asc files :'(
"
5672,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/Dockerfile-alpine.template,"# if the version is outdated, we have to pull from the archive :/
"
5673,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/Dockerfile-alpine.template,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5674,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/Dockerfile-alpine.template,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
5675,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5676,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5677,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
5678,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
5679,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
5680,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5681,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5682,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
5683,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
5684,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5685,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5686,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5687,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
5688,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5689,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
5690,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
5691,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
5692,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
5693,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5694,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5695,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
5696,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5697,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5698,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5699,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5700,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5701,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
5702,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5703,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5704,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5705,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5706,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
5707,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
5708,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
5709,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5710,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5711,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5712,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5713,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
5714,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/Dockerfile.template,"# let ""Tomcat Native"" live somewhere isolated
"
5715,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/Dockerfile.template,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
5716,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/Dockerfile.template,"# only add stretch if we're not already building from within stretch
"
5717,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/Dockerfile.template,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
5718,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/Dockerfile.template,"# ... except OpenSSL, which is the reason we're here
"
5719,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/Dockerfile.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5720,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/Dockerfile.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5721,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/Dockerfile.template,"# if the version is outdated, we might have to pull from the dist/archive :/
"
5722,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/Dockerfile.template,"# not all the mirrors actually carry the .asc files :'(
"
5723,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/Dockerfile.template,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5724,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/Dockerfile.template,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5725,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/Dockerfile.template,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5726,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/Dockerfile.template,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5727,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/Dockerfile.template,"# verify Tomcat Native is working properly
"
5728,2b55df5b9feaa7b8354e8b2419a88e494a110621,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5729,2b55df5b9feaa7b8354e8b2419a88e494a110621,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
5730,2b55df5b9feaa7b8354e8b2419a88e494a110621,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
5731,2b55df5b9feaa7b8354e8b2419a88e494a110621,/7/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
5732,2b55df5b9feaa7b8354e8b2419a88e494a110621,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
5733,2b55df5b9feaa7b8354e8b2419a88e494a110621,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5734,2b55df5b9feaa7b8354e8b2419a88e494a110621,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5735,2b55df5b9feaa7b8354e8b2419a88e494a110621,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
5736,aceabe036433c68b278767811bac728c6db4f8b3,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5737,aceabe036433c68b278767811bac728c6db4f8b3,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5738,aceabe036433c68b278767811bac728c6db4f8b3,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5739,aceabe036433c68b278767811bac728c6db4f8b3,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5740,aceabe036433c68b278767811bac728c6db4f8b3,/9.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
5741,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5742,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5743,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5744,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
5745,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5746,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
5747,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5748,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5749,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5750,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
5751,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5752,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5753,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5754,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5755,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
5756,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
5757,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
5758,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5759,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5760,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5761,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5762,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
5763,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5764,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5765,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5766,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5767,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5768,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5769,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5770,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5771,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
5772,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre11-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5773,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre11-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
5774,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre11-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
5775,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre11-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
5776,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre11-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
5777,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre11-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5778,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre11-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5779,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre11-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
5780,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre11-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5781,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre11-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5782,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre11-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5783,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre11-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5784,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre11-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5785,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre11-slim/Dockerfile,"# verify Tomcat Native is working properly
"
5786,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre10-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5787,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre10-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
5788,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre10-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
5789,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre10-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
5790,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre10-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
5791,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre10-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5792,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre10-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5793,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre10-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
5794,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre10-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5795,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre10-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5796,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre10-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5797,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre10-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5798,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre10-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5799,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre10-slim/Dockerfile,"# verify Tomcat Native is working properly
"
5800,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5801,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5802,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5803,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5804,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5805,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5806,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5807,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5808,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
5809,5bc603137a5c85647c35d33170ff243dd6e78f39,/8-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
5810,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5811,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5812,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
5813,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
5814,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
5815,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5816,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5817,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
5818,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
5819,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
5820,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
5821,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
5822,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5823,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5824,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5825,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
5826,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk12/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5827,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk12/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5828,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk12/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
5829,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk12/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
5830,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk12/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
5831,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk12/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5832,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk12/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5833,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk12/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
5834,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk12/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
5835,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk12/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5836,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk12/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5837,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk12/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5838,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk12/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
5839,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5840,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5841,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5842,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5843,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
5844,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
5845,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5846,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5847,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5848,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5849,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
5850,35e89070548111261cf6a9e9398556d5b2c4f7f7,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5851,35e89070548111261cf6a9e9398556d5b2c4f7f7,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
5852,35e89070548111261cf6a9e9398556d5b2c4f7f7,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
5853,35e89070548111261cf6a9e9398556d5b2c4f7f7,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
5854,35e89070548111261cf6a9e9398556d5b2c4f7f7,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
5855,35e89070548111261cf6a9e9398556d5b2c4f7f7,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5856,35e89070548111261cf6a9e9398556d5b2c4f7f7,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5857,35e89070548111261cf6a9e9398556d5b2c4f7f7,/9.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
5858,35e89070548111261cf6a9e9398556d5b2c4f7f7,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5859,35e89070548111261cf6a9e9398556d5b2c4f7f7,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5860,35e89070548111261cf6a9e9398556d5b2c4f7f7,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
5861,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5862,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5863,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5864,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5865,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
5866,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
5867,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
5868,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5869,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5870,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5871,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5872,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
5873,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5874,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5875,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5876,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5877,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
5878,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
5879,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5880,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5881,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5882,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5883,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
5884,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5885,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5886,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5887,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5888,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/openjdk-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
5889,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
5890,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
5891,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5892,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5893,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5894,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5895,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
5896,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre11-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5897,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre11-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
5898,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre11-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
5899,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre11-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
5900,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre11-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
5901,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre11-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5902,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre11-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5903,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre11-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
5904,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre11-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5905,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre11-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5906,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre11-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5907,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre11-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5908,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre11-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5909,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre11-slim/Dockerfile,"# verify Tomcat Native is working properly
"
5910,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5911,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5912,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5913,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
5914,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5915,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
5916,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5917,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
5918,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre10/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5919,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre10/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
5920,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre10/Dockerfile,"# only add stretch if we're not already building from within stretch
"
5921,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre10/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
5922,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre10/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
5923,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre10/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5924,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre10/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5925,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre10/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
5926,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre10/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5927,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre10/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5928,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre10/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5929,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre10/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
5930,80778cf9ec89fcd828f2f7f8268f9154eca35e19,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5931,80778cf9ec89fcd828f2f7f8268f9154eca35e19,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
5932,80778cf9ec89fcd828f2f7f8268f9154eca35e19,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
5933,80778cf9ec89fcd828f2f7f8268f9154eca35e19,/7/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
5934,80778cf9ec89fcd828f2f7f8268f9154eca35e19,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5935,80778cf9ec89fcd828f2f7f8268f9154eca35e19,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5936,80778cf9ec89fcd828f2f7f8268f9154eca35e19,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5937,80778cf9ec89fcd828f2f7f8268f9154eca35e19,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
5938,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5939,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5940,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5941,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5942,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
5943,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
5944,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
5945,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5946,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5947,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5948,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5949,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
5950,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5951,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
5952,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
5953,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
5954,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
5955,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5956,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5957,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
5958,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5959,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5960,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5961,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
5962,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5963,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
5964,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
5965,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.5/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
5966,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5967,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5968,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5969,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
5970,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5971,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5972,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
5973,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
5974,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
5975,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5976,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5977,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
5978,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
5979,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
5980,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
5981,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
5982,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5983,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5984,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5985,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
5986,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5987,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
5988,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
5989,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.5/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
5990,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
5991,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5992,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5993,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
5994,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5995,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5996,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5997,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5998,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
5999,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
6000,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
6001,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6002,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6003,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6004,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6005,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
6006,f3006804326b1fed9a20158ccb8007d5da80e31a,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6007,f3006804326b1fed9a20158ccb8007d5da80e31a,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
6008,f3006804326b1fed9a20158ccb8007d5da80e31a,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
6009,f3006804326b1fed9a20158ccb8007d5da80e31a,/9.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
6010,f3006804326b1fed9a20158ccb8007d5da80e31a,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6011,f3006804326b1fed9a20158ccb8007d5da80e31a,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6012,f3006804326b1fed9a20158ccb8007d5da80e31a,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6013,f3006804326b1fed9a20158ccb8007d5da80e31a,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
6014,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6015,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
6016,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
6017,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
6018,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
6019,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6020,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6021,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
6022,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6023,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre7/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6024,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6025,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
6026,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6027,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
6028,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
6029,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
6030,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
6031,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6032,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6033,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
6034,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6035,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre7/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6036,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6037,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
6038,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6039,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6040,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6041,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6042,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6043,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6044,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6045,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6046,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
6047,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre10/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6048,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre10/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
6049,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre10/Dockerfile,"# only add stretch if we're not already building from within stretch
"
6050,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre10/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
6051,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre10/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
6052,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre10/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6053,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre10/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6054,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre10/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
6055,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre10/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6056,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre10/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6057,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre10/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6058,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre10/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
6059,8323df4824d3661f094a1a6c30ed7e13c0536b9e,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
6060,8323df4824d3661f094a1a6c30ed7e13c0536b9e,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
6061,8323df4824d3661f094a1a6c30ed7e13c0536b9e,/8.5/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
6062,8323df4824d3661f094a1a6c30ed7e13c0536b9e,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
6063,8323df4824d3661f094a1a6c30ed7e13c0536b9e,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
6064,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6065,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6066,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6067,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/9.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
6068,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6069,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/9.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
6070,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/9.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6071,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/9.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
6072,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk13/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6073,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk13/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6074,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk13/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
6075,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk13/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
6076,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk13/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
6077,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk13/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6078,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk13/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6079,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk13/openjdk-oracle/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
6080,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk13/openjdk-oracle/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
6081,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk13/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
6082,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk13/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
6083,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk13/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6084,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk13/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6085,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk13/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6086,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk13/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
6087,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre7-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6088,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre7-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
6089,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre7-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
6090,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre7-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
6091,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre7-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
6092,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre7-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6093,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre7-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6094,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre7-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
6095,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre7-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6096,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre7-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6097,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre7-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6098,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre7-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
6099,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre7-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6100,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre7-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
6101,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre7-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
6102,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre7-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
6103,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre7-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
6104,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre7-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6105,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre7-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6106,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre7-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
6107,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre7-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6108,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre7-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6109,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre7-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6110,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre7-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6111,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre7-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6112,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre7-slim/Dockerfile,"# verify Tomcat Native is working properly
"
6113,ec75141e3cb6276b07d66c16042152e2d4de119c,/7/jre8/Dockerfile,"# runtime dependency for Tomcat Native Libraries
"
6114,ec75141e3cb6276b07d66c16042152e2d4de119c,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
6115,ec75141e3cb6276b07d66c16042152e2d4de119c,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
6116,c280358006777004381dde9c64ad54d4876a7cf3,/6/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6117,c280358006777004381dde9c64ad54d4876a7cf3,/6/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
6118,c280358006777004381dde9c64ad54d4876a7cf3,/6/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
6119,c280358006777004381dde9c64ad54d4876a7cf3,/6/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
6120,c280358006777004381dde9c64ad54d4876a7cf3,/6/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6121,c280358006777004381dde9c64ad54d4876a7cf3,/6/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6122,c280358006777004381dde9c64ad54d4876a7cf3,/6/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6123,c280358006777004381dde9c64ad54d4876a7cf3,/6/jre8/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
6124,8bf3981234ee391fede358b76f43dabefa1bdc7c,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6125,8bf3981234ee391fede358b76f43dabefa1bdc7c,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6126,8bf3981234ee391fede358b76f43dabefa1bdc7c,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6127,8bf3981234ee391fede358b76f43dabefa1bdc7c,/9.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
6128,8bf3981234ee391fede358b76f43dabefa1bdc7c,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6129,8bf3981234ee391fede358b76f43dabefa1bdc7c,/9.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
6130,8bf3981234ee391fede358b76f43dabefa1bdc7c,/9.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6131,8bf3981234ee391fede358b76f43dabefa1bdc7c,/9.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6132,8bf3981234ee391fede358b76f43dabefa1bdc7c,/9.0/jre8-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6133,8bf3981234ee391fede358b76f43dabefa1bdc7c,/9.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
6134,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6135,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6136,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6137,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6138,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6139,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6140,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6141,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6142,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
6143,a2fb7998939d5dcd40c1b01382b0b62a47d06c54,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6144,a2fb7998939d5dcd40c1b01382b0b62a47d06c54,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6145,a2fb7998939d5dcd40c1b01382b0b62a47d06c54,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6146,a2fb7998939d5dcd40c1b01382b0b62a47d06c54,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6147,a2fb7998939d5dcd40c1b01382b0b62a47d06c54,/9.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
6148,33b4b8602e4ead0ba2c3ea42a9946f87cacb1d99,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6149,33b4b8602e4ead0ba2c3ea42a9946f87cacb1d99,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6150,33b4b8602e4ead0ba2c3ea42a9946f87cacb1d99,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6151,33b4b8602e4ead0ba2c3ea42a9946f87cacb1d99,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6152,33b4b8602e4ead0ba2c3ea42a9946f87cacb1d99,/9.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6153,33b4b8602e4ead0ba2c3ea42a9946f87cacb1d99,/9.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
6154,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6155,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
6156,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
6157,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/8.5/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
6158,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
6159,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
6160,ecf6b163813e2eccce5c3b40fa5690febc874fbe,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6161,ecf6b163813e2eccce5c3b40fa5690febc874fbe,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6162,ecf6b163813e2eccce5c3b40fa5690febc874fbe,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6163,ecf6b163813e2eccce5c3b40fa5690febc874fbe,/9.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
6164,ecf6b163813e2eccce5c3b40fa5690febc874fbe,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6165,ecf6b163813e2eccce5c3b40fa5690febc874fbe,/9.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
6166,ecf6b163813e2eccce5c3b40fa5690febc874fbe,/9.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6167,ecf6b163813e2eccce5c3b40fa5690febc874fbe,/9.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
6168,6ab703d29e98ab7a091bee846a58b8288cb81521,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6169,6ab703d29e98ab7a091bee846a58b8288cb81521,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6170,6ab703d29e98ab7a091bee846a58b8288cb81521,/8.0/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6171,6ab703d29e98ab7a091bee846a58b8288cb81521,/8.0/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
6172,6ab703d29e98ab7a091bee846a58b8288cb81521,/8.0/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6173,6ab703d29e98ab7a091bee846a58b8288cb81521,/8.0/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
6174,6ab703d29e98ab7a091bee846a58b8288cb81521,/8.0/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6175,6ab703d29e98ab7a091bee846a58b8288cb81521,/8.0/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
6176,382ba2d8a3338c99844fadc5508cd9b546fa09c3,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6177,382ba2d8a3338c99844fadc5508cd9b546fa09c3,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6178,382ba2d8a3338c99844fadc5508cd9b546fa09c3,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6179,382ba2d8a3338c99844fadc5508cd9b546fa09c3,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6180,382ba2d8a3338c99844fadc5508cd9b546fa09c3,/9.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
6181,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre10/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6182,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre10/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
6183,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre10/Dockerfile,"# only add stretch if we're not already building from within stretch
"
6184,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre10/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
6185,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre10/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
6186,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre10/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6187,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre10/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6188,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre10/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
6189,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre10/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6190,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre10/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6191,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre10/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6192,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre10/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
6193,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6194,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
6195,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
6196,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
6197,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
6198,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6199,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6200,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
6201,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6202,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6203,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6204,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6205,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6206,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
6207,9fcf1c13eb901de73aa3abdfc36d1989a1154365,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6208,9fcf1c13eb901de73aa3abdfc36d1989a1154365,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
6209,9fcf1c13eb901de73aa3abdfc36d1989a1154365,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
6210,9fcf1c13eb901de73aa3abdfc36d1989a1154365,/9.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
6211,9fcf1c13eb901de73aa3abdfc36d1989a1154365,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6212,9fcf1c13eb901de73aa3abdfc36d1989a1154365,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6213,9fcf1c13eb901de73aa3abdfc36d1989a1154365,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6214,9fcf1c13eb901de73aa3abdfc36d1989a1154365,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
6215,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6216,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
6217,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6218,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6219,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
6220,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6221,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6222,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
6223,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
6224,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
6225,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6226,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6227,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-oracle/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
6228,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-oracle/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
6229,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-oracle/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
6230,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
6231,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
6232,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6233,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6234,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6235,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
6236,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6237,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6238,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6239,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6240,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
6241,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
6242,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
6243,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6244,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6245,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6246,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6247,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
6248,ab435d680d56084ebe0419adfb31cc58df3624dd,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6249,ab435d680d56084ebe0419adfb31cc58df3624dd,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
6250,ab435d680d56084ebe0419adfb31cc58df3624dd,/7/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
6251,ab435d680d56084ebe0419adfb31cc58df3624dd,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
6252,ab435d680d56084ebe0419adfb31cc58df3624dd,/7/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
6253,ab435d680d56084ebe0419adfb31cc58df3624dd,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6254,ab435d680d56084ebe0419adfb31cc58df3624dd,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6255,ab435d680d56084ebe0419adfb31cc58df3624dd,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6256,ab435d680d56084ebe0419adfb31cc58df3624dd,/7/jre8/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
6257,ab435d680d56084ebe0419adfb31cc58df3624dd,/7/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6258,ab435d680d56084ebe0419adfb31cc58df3624dd,/7/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
6259,be1d4e9c614f7021770e581d507845c93b6f77f9,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6260,be1d4e9c614f7021770e581d507845c93b6f77f9,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6261,be1d4e9c614f7021770e581d507845c93b6f77f9,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6262,be1d4e9c614f7021770e581d507845c93b6f77f9,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6263,be1d4e9c614f7021770e581d507845c93b6f77f9,/8.5/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6264,be1d4e9c614f7021770e581d507845c93b6f77f9,/8.5/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
6265,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6266,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6267,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6268,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6269,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6270,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6271,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6272,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6273,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
6274,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk13/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6275,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk13/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6276,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk13/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
6277,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk13/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
6278,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk13/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
6279,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk13/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6280,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk13/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6281,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk13/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
6282,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk13/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
6283,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk13/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6284,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk13/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6285,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk13/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6286,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk13/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
6287,b6c19ae93937a18a8bb93c13ce8c8b07c428b3fc,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6288,b6c19ae93937a18a8bb93c13ce8c8b07c428b3fc,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6289,b6c19ae93937a18a8bb93c13ce8c8b07c428b3fc,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6290,b6c19ae93937a18a8bb93c13ce8c8b07c428b3fc,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6291,b6c19ae93937a18a8bb93c13ce8c8b07c428b3fc,/7/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
6292,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6293,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
6294,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
6295,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/7/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
6296,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6297,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6298,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6299,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
6300,7d7d6256214d54613930ab2200be159aff49cac5,/7-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
6301,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre9-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6302,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre9-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
6303,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre9-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
6304,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre9-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
6305,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre9-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
6306,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre9-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6307,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre9-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6308,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre9-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
6309,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre9-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6310,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre9-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6311,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre9-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6312,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre9-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
6313,b2bcdfb78e2fdc63423dfc210066b381f6f73a14,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6314,b2bcdfb78e2fdc63423dfc210066b381f6f73a14,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
6315,b2bcdfb78e2fdc63423dfc210066b381f6f73a14,/7/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
6316,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6317,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
6318,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
6319,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
6320,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
6321,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6322,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6323,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
6324,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6325,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre7/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6326,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6327,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
6328,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/9.0/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6329,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/9.0/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6330,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/9.0/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6331,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/9.0/jdk8/corretto/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
6332,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/9.0/jdk8/corretto/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6333,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/9.0/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
6334,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/9.0/jdk8/corretto/Dockerfile,"#?}}""; \
"
6335,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/9.0/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
6336,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/9.0/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
6337,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/9.0/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
6338,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/9.0/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6339,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/9.0/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6340,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/9.0/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6341,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/9.0/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
6342,b6c19ae93937a18a8bb93c13ce8c8b07c428b3fc,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6343,b6c19ae93937a18a8bb93c13ce8c8b07c428b3fc,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6344,b6c19ae93937a18a8bb93c13ce8c8b07c428b3fc,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6345,b6c19ae93937a18a8bb93c13ce8c8b07c428b3fc,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6346,b6c19ae93937a18a8bb93c13ce8c8b07c428b3fc,/7/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
6347,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6348,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6349,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6350,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6351,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6352,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6353,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6354,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6355,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
6356,b2bcdfb78e2fdc63423dfc210066b381f6f73a14,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6357,b2bcdfb78e2fdc63423dfc210066b381f6f73a14,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
6358,b2bcdfb78e2fdc63423dfc210066b381f6f73a14,/7/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
6359,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6360,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6361,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6362,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6363,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6364,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6365,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6366,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6367,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
6368,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6369,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
6370,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.0/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6371,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.0/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6372,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.0/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
6373,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6374,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6375,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
6376,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
6377,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
6378,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6379,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6380,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
6381,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
6382,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
6383,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
6384,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
6385,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6386,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6387,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6388,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
6389,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6390,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6391,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6392,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6393,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
6394,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
6395,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
6396,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6397,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6398,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6399,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6400,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
6401,747c33edc8015de543775ceee497c5926d05795f,/6/Dockerfile,"# add our user and group first to make sure their IDs get assigned consistently, regardless of whatever dependencies get added
"
6402,747c33edc8015de543775ceee497c5926d05795f,/6/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
6403,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6404,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
6405,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
6406,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
6407,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
6408,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6409,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6410,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
6411,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6412,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6413,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6414,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
6415,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6416,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6417,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
6418,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
6419,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
6420,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6421,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6422,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
6423,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
6424,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
6425,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
6426,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
6427,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6428,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6429,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6430,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
6431,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6432,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6433,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6434,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6435,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
6436,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
6437,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6438,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6439,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6440,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6441,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
6442,ed98c30c1cd42c53831f64dffa78a0abf7db8e9a,/7-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
6443,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6444,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
6445,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
6446,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
6447,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
6448,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6449,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6450,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
6451,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6452,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6453,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6454,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
6455,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6456,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6457,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6458,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6459,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
6460,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
6461,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
6462,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6463,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6464,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6465,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6466,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
6467,4b5335ec27aee302823bea2e30dcf7b3118e61f2,/6/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6468,4b5335ec27aee302823bea2e30dcf7b3118e61f2,/6/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
6469,4b5335ec27aee302823bea2e30dcf7b3118e61f2,/6/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
6470,4b5335ec27aee302823bea2e30dcf7b3118e61f2,/6/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
6471,4b5335ec27aee302823bea2e30dcf7b3118e61f2,/6/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6472,4b5335ec27aee302823bea2e30dcf7b3118e61f2,/6/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6473,4b5335ec27aee302823bea2e30dcf7b3118e61f2,/6/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6474,4b5335ec27aee302823bea2e30dcf7b3118e61f2,/6/jre8/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
6475,ec75141e3cb6276b07d66c16042152e2d4de119c,/9.0/jre8/Dockerfile,"# runtime dependency for Tomcat Native Libraries
"
6476,ec75141e3cb6276b07d66c16042152e2d4de119c,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
6477,ec75141e3cb6276b07d66c16042152e2d4de119c,/9.0/jre8/Dockerfile,"# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)

"
6478,ec75141e3cb6276b07d66c16042152e2d4de119c,/9.0/jre8/Dockerfile,"# http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5048274.html (ie, HACK HACK HACK)
"
6479,ec75141e3cb6276b07d66c16042152e2d4de119c,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
6480,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6481,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6482,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6483,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6484,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6485,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6486,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6487,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6488,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
6489,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6490,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6491,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6492,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6493,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
6494,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
6495,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
6496,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6497,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6498,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6499,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6500,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
6501,bd58c7237bff0357e76c9c9ee22deac77a2860cb,/8-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
6502,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/6/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6503,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/6/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
6504,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/6/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
6505,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/6/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
6506,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/6/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
6507,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/6/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6508,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/6/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6509,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/6/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6510,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/6/jre7/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
6511,68f75ec81727e398a223ed55fe50f9a3ff78d83f,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6512,68f75ec81727e398a223ed55fe50f9a3ff78d83f,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
6513,68f75ec81727e398a223ed55fe50f9a3ff78d83f,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
6514,68f75ec81727e398a223ed55fe50f9a3ff78d83f,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
6515,68f75ec81727e398a223ed55fe50f9a3ff78d83f,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
6516,68f75ec81727e398a223ed55fe50f9a3ff78d83f,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6517,68f75ec81727e398a223ed55fe50f9a3ff78d83f,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6518,68f75ec81727e398a223ed55fe50f9a3ff78d83f,/8.5/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
6519,68f75ec81727e398a223ed55fe50f9a3ff78d83f,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6520,68f75ec81727e398a223ed55fe50f9a3ff78d83f,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6521,68f75ec81727e398a223ed55fe50f9a3ff78d83f,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
6522,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6523,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6524,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6525,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6526,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.5/jre8-alpine/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
6527,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.5/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6528,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.5/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
6529,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6530,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
6531,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
6532,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.5/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
6533,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6534,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6535,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6536,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
6537,6ab703d29e98ab7a091bee846a58b8288cb81521,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6538,6ab703d29e98ab7a091bee846a58b8288cb81521,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6539,6ab703d29e98ab7a091bee846a58b8288cb81521,/8.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6540,6ab703d29e98ab7a091bee846a58b8288cb81521,/8.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
6541,6ab703d29e98ab7a091bee846a58b8288cb81521,/8.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6542,6ab703d29e98ab7a091bee846a58b8288cb81521,/8.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
6543,6ab703d29e98ab7a091bee846a58b8288cb81521,/8.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6544,6ab703d29e98ab7a091bee846a58b8288cb81521,/8.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
6545,af71a3020ae05a63741db44c69d722f00e1d382a,/8-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
6546,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk13/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6547,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk13/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6548,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk13/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
6549,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk13/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
6550,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk13/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
6551,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk13/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6552,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk13/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6553,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk13/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
6554,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk13/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
6555,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk13/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6556,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk13/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6557,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk13/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6558,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk13/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
6559,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6560,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6561,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6562,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6563,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
6564,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
6565,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
6566,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6567,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6568,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6569,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6570,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
6571,fae008566295d1eec89de04385215fdd54eceda5,/8.5/jre10/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6572,fae008566295d1eec89de04385215fdd54eceda5,/8.5/jre10/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
6573,fae008566295d1eec89de04385215fdd54eceda5,/8.5/jre10/Dockerfile,"# only add stretch if we're not already building from within stretch
"
6574,fae008566295d1eec89de04385215fdd54eceda5,/8.5/jre10/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
6575,fae008566295d1eec89de04385215fdd54eceda5,/8.5/jre10/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
6576,fae008566295d1eec89de04385215fdd54eceda5,/8.5/jre10/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6577,fae008566295d1eec89de04385215fdd54eceda5,/8.5/jre10/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6578,fae008566295d1eec89de04385215fdd54eceda5,/8.5/jre10/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
6579,fae008566295d1eec89de04385215fdd54eceda5,/8.5/jre10/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6580,fae008566295d1eec89de04385215fdd54eceda5,/8.5/jre10/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6581,fae008566295d1eec89de04385215fdd54eceda5,/8.5/jre10/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6582,fae008566295d1eec89de04385215fdd54eceda5,/8.5/jre10/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
6583,88b51c6d19c83b689221d5eb2e9489d9d36ed8db,/7-jre7/Dockerfile,"# add our user and group first to make sure their IDs get assigned consistently, regardless of whatever dependencies get added
"
6584,88b51c6d19c83b689221d5eb2e9489d9d36ed8db,/7-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
6585,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6586,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6587,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
6588,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
6589,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
6590,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6591,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6592,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
6593,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
6594,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6595,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6596,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6597,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
6598,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6599,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
6600,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
6601,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
6602,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
6603,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6604,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6605,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
6606,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6607,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6608,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6609,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6610,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6611,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
6612,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6613,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
6614,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
6615,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
6616,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
6617,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6618,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6619,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
6620,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6621,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6622,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6623,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
6624,6f1c628fa92feea8b28e98e56a990500f2326936,/8-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
6625,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk13/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6626,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk13/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6627,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk13/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6628,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk13/openjdk-oracle/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
6629,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk13/openjdk-oracle/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6630,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk13/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
6631,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk13/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
6632,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk13/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
6633,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk13/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
6634,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk13/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
6635,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk13/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6636,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk13/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6637,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk13/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6638,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk13/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
6639,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6640,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6641,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6642,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6643,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6644,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6645,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6646,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6647,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
6648,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6649,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6650,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6651,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6652,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6653,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6654,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6655,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6656,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
6657,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6658,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6659,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6660,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6661,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
6662,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
6663,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
6664,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6665,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6666,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6667,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6668,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
6669,3b05667011a600a2f46422dd533467eff8e7fecf,/7-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
6670,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6671,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
6672,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
6673,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/7/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
6674,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6675,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6676,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6677,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
6678,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6679,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
6680,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
6681,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/8.5/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
6682,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6683,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6684,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6685,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
6686,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6687,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
6688,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
6689,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
6690,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
6691,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6692,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6693,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6694,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
6695,fae008566295d1eec89de04385215fdd54eceda5,/9.0/jre10/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6696,fae008566295d1eec89de04385215fdd54eceda5,/9.0/jre10/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
6697,fae008566295d1eec89de04385215fdd54eceda5,/9.0/jre10/Dockerfile,"# only add stretch if we're not already building from within stretch
"
6698,fae008566295d1eec89de04385215fdd54eceda5,/9.0/jre10/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
6699,fae008566295d1eec89de04385215fdd54eceda5,/9.0/jre10/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
6700,fae008566295d1eec89de04385215fdd54eceda5,/9.0/jre10/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6701,fae008566295d1eec89de04385215fdd54eceda5,/9.0/jre10/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6702,fae008566295d1eec89de04385215fdd54eceda5,/9.0/jre10/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
6703,fae008566295d1eec89de04385215fdd54eceda5,/9.0/jre10/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6704,fae008566295d1eec89de04385215fdd54eceda5,/9.0/jre10/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6705,fae008566295d1eec89de04385215fdd54eceda5,/9.0/jre10/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6706,fae008566295d1eec89de04385215fdd54eceda5,/9.0/jre10/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
6707,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6708,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6709,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6710,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6711,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6712,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6713,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6714,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6715,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
6716,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6717,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6718,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6719,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6720,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
6721,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
6722,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6723,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6724,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6725,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6726,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
6727,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre10/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6728,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre10/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
6729,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre10/Dockerfile,"# only add stretch if we're not already building from within stretch
"
6730,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre10/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
6731,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre10/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
6732,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre10/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6733,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre10/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6734,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre10/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
6735,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre10/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6736,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre10/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6737,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre10/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6738,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre10/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6739,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre10/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6740,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre10/Dockerfile,"# verify Tomcat Native is working properly
"
6741,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6742,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6743,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6744,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
6745,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6746,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
6747,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6748,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
6749,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6750,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
6751,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
6752,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
6753,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
6754,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6755,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6756,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
6757,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6758,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6759,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6760,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
6761,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6762,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6763,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6764,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6765,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6766,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6767,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6768,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6769,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
6770,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6771,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6772,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6773,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6774,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/9.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
6775,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6776,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
6777,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
6778,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
6779,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
6780,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6781,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6782,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
6783,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6784,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6785,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6786,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6787,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6788,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk8/Dockerfile,"# verify Tomcat Native is working properly
"
6789,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6790,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6791,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6792,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6793,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
6794,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
6795,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6796,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6797,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6798,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6799,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
6800,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6801,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6802,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
6803,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
6804,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
6805,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6806,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6807,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
6808,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
6809,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
6810,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
6811,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
6812,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6813,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6814,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6815,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
6816,f26c14147f9affae8f32100430130271fc82bd3e,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6817,f26c14147f9affae8f32100430130271fc82bd3e,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
6818,f26c14147f9affae8f32100430130271fc82bd3e,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
6819,f26c14147f9affae8f32100430130271fc82bd3e,/8.0/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
6820,f26c14147f9affae8f32100430130271fc82bd3e,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6821,f26c14147f9affae8f32100430130271fc82bd3e,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6822,f26c14147f9affae8f32100430130271fc82bd3e,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6823,f26c14147f9affae8f32100430130271fc82bd3e,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
6824,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6825,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6826,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
6827,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
6828,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
6829,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6830,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6831,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
6832,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
6833,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
6834,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
6835,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
6836,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6837,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6838,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6839,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
6840,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6841,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6842,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6843,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6844,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
6845,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
6846,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
6847,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6848,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6849,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6850,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6851,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
6852,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6853,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6854,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6855,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk8/corretto/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
6856,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk8/corretto/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6857,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
6858,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
6859,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
6860,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
6861,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
6862,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6863,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6864,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6865,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
6866,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6867,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6868,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6869,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6870,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
6871,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
6872,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
6873,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6874,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6875,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6876,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6877,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
6878,5bc603137a5c85647c35d33170ff243dd6e78f39,/8-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
6879,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6880,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6881,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6882,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
6883,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6884,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6885,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6886,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6887,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6888,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
6889,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6890,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
6891,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
6892,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
6893,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
6894,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6895,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6896,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
6897,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6898,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6899,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6900,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
6901,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6902,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6903,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6904,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6905,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
6906,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
6907,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6908,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6909,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6910,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6911,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
6912,99e449dbecd64705dd81c07b8767ec67e706be41,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6913,99e449dbecd64705dd81c07b8767ec67e706be41,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6914,99e449dbecd64705dd81c07b8767ec67e706be41,/8.0/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6915,99e449dbecd64705dd81c07b8767ec67e706be41,/8.0/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
6916,99e449dbecd64705dd81c07b8767ec67e706be41,/8.0/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6917,99e449dbecd64705dd81c07b8767ec67e706be41,/8.0/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
6918,99e449dbecd64705dd81c07b8767ec67e706be41,/8.0/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6919,99e449dbecd64705dd81c07b8767ec67e706be41,/8.0/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
6920,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6921,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6922,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
6923,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
6924,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
6925,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6926,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6927,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
6928,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
6929,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
6930,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
6931,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6932,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6933,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6934,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
6935,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6936,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6937,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6938,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6939,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
6940,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
6941,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
6942,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6943,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6944,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6945,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6946,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
6947,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6948,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6949,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6950,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6951,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6952,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6953,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6954,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6955,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
6956,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6957,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6958,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6959,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6960,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
6961,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
6962,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
6963,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6964,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6965,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6966,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6967,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
6968,2b55df5b9feaa7b8354e8b2419a88e494a110621,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6969,2b55df5b9feaa7b8354e8b2419a88e494a110621,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
6970,2b55df5b9feaa7b8354e8b2419a88e494a110621,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
6971,2b55df5b9feaa7b8354e8b2419a88e494a110621,/7/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
6972,2b55df5b9feaa7b8354e8b2419a88e494a110621,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
6973,2b55df5b9feaa7b8354e8b2419a88e494a110621,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6974,2b55df5b9feaa7b8354e8b2419a88e494a110621,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6975,2b55df5b9feaa7b8354e8b2419a88e494a110621,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
6976,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6977,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6978,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
6979,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
6980,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
6981,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6982,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6983,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
6984,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
6985,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
6986,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
6987,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6988,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6989,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6990,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
6991,2b55df5b9feaa7b8354e8b2419a88e494a110621,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6992,2b55df5b9feaa7b8354e8b2419a88e494a110621,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
6993,2b55df5b9feaa7b8354e8b2419a88e494a110621,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
6994,2b55df5b9feaa7b8354e8b2419a88e494a110621,/8.0/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
6995,2b55df5b9feaa7b8354e8b2419a88e494a110621,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
6996,2b55df5b9feaa7b8354e8b2419a88e494a110621,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6997,2b55df5b9feaa7b8354e8b2419a88e494a110621,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6998,2b55df5b9feaa7b8354e8b2419a88e494a110621,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
6999,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7000,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7001,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7002,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7003,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
7004,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
7005,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
7006,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7007,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7008,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7009,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7010,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
7011,989f50ed5db788921a4954109b90362e2209295e,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7012,989f50ed5db788921a4954109b90362e2209295e,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
7013,989f50ed5db788921a4954109b90362e2209295e,/8.0/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
7014,1651e929e7d4c9785b602cb93cdd2503573c3834,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7015,1651e929e7d4c9785b602cb93cdd2503573c3834,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7016,1651e929e7d4c9785b602cb93cdd2503573c3834,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7017,1651e929e7d4c9785b602cb93cdd2503573c3834,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7018,1651e929e7d4c9785b602cb93cdd2503573c3834,/7/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
7019,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk13/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7020,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk13/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7021,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk13/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7022,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk13/openjdk-oracle/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
7023,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk13/openjdk-oracle/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7024,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk13/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
7025,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk13/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
7026,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk13/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
7027,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk13/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
7028,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk13/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
7029,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk13/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7030,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk13/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7031,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk13/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7032,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk13/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
7033,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7034,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7035,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7036,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7037,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7038,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7039,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7040,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7041,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
7042,81c66e2e695ad5548b726841c00512a9acf18eb5,/6/jre7/Dockerfile,"# runtime dependency for Tomcat Native Libraries
"
7043,81c66e2e695ad5548b726841c00512a9acf18eb5,/6/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
7044,81c66e2e695ad5548b726841c00512a9acf18eb5,/6/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7045,81c66e2e695ad5548b726841c00512a9acf18eb5,/6/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7046,81c66e2e695ad5548b726841c00512a9acf18eb5,/6/jre7/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
7047,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7048,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
7049,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/8.0/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
7050,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7051,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
7052,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
7053,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
7054,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
7055,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7056,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7057,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
7058,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7059,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7060,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7061,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7062,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7063,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
7064,06a7e79e30595058df3c2fec9c769e47e2bca56d,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7065,06a7e79e30595058df3c2fec9c769e47e2bca56d,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
7066,06a7e79e30595058df3c2fec9c769e47e2bca56d,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
7067,06a7e79e30595058df3c2fec9c769e47e2bca56d,/8.0/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
7068,06a7e79e30595058df3c2fec9c769e47e2bca56d,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7069,06a7e79e30595058df3c2fec9c769e47e2bca56d,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7070,06a7e79e30595058df3c2fec9c769e47e2bca56d,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7071,06a7e79e30595058df3c2fec9c769e47e2bca56d,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
7072,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7073,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7074,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7075,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7076,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
7077,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
7078,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7079,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7080,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7081,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7082,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
7083,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7084,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7085,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7086,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7087,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7088,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7089,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7090,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7091,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
7092,6e4ee9a93be401c9c70aeda9f3c6ccf8a3ccdb8b,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7093,6e4ee9a93be401c9c70aeda9f3c6ccf8a3ccdb8b,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7094,6e4ee9a93be401c9c70aeda9f3c6ccf8a3ccdb8b,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7095,6e4ee9a93be401c9c70aeda9f3c6ccf8a3ccdb8b,/8.5/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
7096,6e4ee9a93be401c9c70aeda9f3c6ccf8a3ccdb8b,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7097,6e4ee9a93be401c9c70aeda9f3c6ccf8a3ccdb8b,/8.5/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
7098,6e4ee9a93be401c9c70aeda9f3c6ccf8a3ccdb8b,/8.5/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7099,6e4ee9a93be401c9c70aeda9f3c6ccf8a3ccdb8b,/8.5/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
7100,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7101,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7102,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7103,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7104,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
7105,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
7106,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
7107,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7108,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7109,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7110,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7111,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
7112,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7113,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
7114,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
7115,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
7116,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
7117,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7118,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7119,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
7120,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7121,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7122,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7123,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7124,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7125,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
7126,2755d07019f66a570428bd2747cb6ac12afbdda9,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7127,2755d07019f66a570428bd2747cb6ac12afbdda9,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7128,2755d07019f66a570428bd2747cb6ac12afbdda9,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7129,2755d07019f66a570428bd2747cb6ac12afbdda9,/8.5/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
7130,2755d07019f66a570428bd2747cb6ac12afbdda9,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7131,2755d07019f66a570428bd2747cb6ac12afbdda9,/8.5/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
7132,2755d07019f66a570428bd2747cb6ac12afbdda9,/8.5/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7133,2755d07019f66a570428bd2747cb6ac12afbdda9,/8.5/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
7134,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7135,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
7136,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
7137,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
7138,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
7139,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7140,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7141,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
7142,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7143,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7144,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
7145,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7146,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre9/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
7147,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre9/Dockerfile,"# only add stretch if we're not already building from within stretch
"
7148,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre9/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
7149,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre9/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
7150,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7151,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7152,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre9/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
7153,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre9/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7154,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7155,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7156,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
7157,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7158,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7159,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7160,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7161,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
7162,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
7163,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
7164,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7165,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7166,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7167,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7168,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
7169,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/Dockerfile-alpine.template,"# let ""Tomcat Native"" live somewhere isolated
"
7170,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/Dockerfile-alpine.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7171,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/Dockerfile-alpine.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7172,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/Dockerfile-alpine.template,"# not all the mirrors actually carry the .asc files :'(
"
7173,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/Dockerfile-alpine.template,"# if the version is outdated, we have to pull from the archive :/
"
7174,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/Dockerfile-alpine.template,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
7175,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/Dockerfile-alpine.template,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7176,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/Dockerfile-alpine.template,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
7177,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7178,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7179,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7180,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7181,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7182,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7183,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7184,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7185,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
7186,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7187,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7188,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7189,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7190,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7191,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7192,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7193,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7194,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
7195,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/Dockerfile-apt.template,"# let ""Tomcat Native"" live somewhere isolated
"
7196,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/Dockerfile-apt.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7197,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/Dockerfile-apt.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7198,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/Dockerfile-apt.template,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7199,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/Dockerfile-apt.template,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
7200,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/Dockerfile-apt.template,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
7201,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/Dockerfile-apt.template,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7202,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/Dockerfile-apt.template,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7203,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/Dockerfile-apt.template,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7204,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/Dockerfile-apt.template,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7205,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/Dockerfile-apt.template,"# verify Tomcat Native is working properly
"
7206,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7207,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7208,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7209,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7210,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
7211,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
7212,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
7213,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7214,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7215,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7216,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7217,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
7218,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7219,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7220,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
7221,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
7222,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
7223,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7224,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7225,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
7226,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
7227,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7228,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7229,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7230,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
7231,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7232,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7233,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7234,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7235,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7236,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7237,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7238,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7239,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
7240,a227157792e94c669148c3c2a09072fb317070e0,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7241,a227157792e94c669148c3c2a09072fb317070e0,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7242,a227157792e94c669148c3c2a09072fb317070e0,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7243,a227157792e94c669148c3c2a09072fb317070e0,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7244,a227157792e94c669148c3c2a09072fb317070e0,/9.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7245,a227157792e94c669148c3c2a09072fb317070e0,/9.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
7246,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7247,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
7248,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
7249,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
7250,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
7251,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7252,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7253,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
7254,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7255,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7256,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7257,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7258,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7259,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
7260,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre10-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7261,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre10-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
7262,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre10-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
7263,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre10-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
7264,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre10-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
7265,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre10-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7266,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre10-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7267,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre10-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
7268,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre10-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7269,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre10-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7270,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre10-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7271,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre10-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
7272,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7273,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7274,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7275,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7276,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
7277,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
7278,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7279,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7280,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7281,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7282,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
7283,3bbd4ed7a59680ae1d6dc3f123897f07e0625989,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7284,3bbd4ed7a59680ae1d6dc3f123897f07e0625989,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
7285,3bbd4ed7a59680ae1d6dc3f123897f07e0625989,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
7286,3bbd4ed7a59680ae1d6dc3f123897f07e0625989,/8.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
7287,3bbd4ed7a59680ae1d6dc3f123897f07e0625989,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7288,3bbd4ed7a59680ae1d6dc3f123897f07e0625989,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7289,3bbd4ed7a59680ae1d6dc3f123897f07e0625989,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7290,3bbd4ed7a59680ae1d6dc3f123897f07e0625989,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
7291,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7292,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre9/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
7293,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre9/Dockerfile,"# only add stretch if we're not already building from within stretch
"
7294,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre9/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
7295,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre9/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
7296,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7297,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7298,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre9/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
7299,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre9/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7300,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7301,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7302,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
7303,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7304,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
7305,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
7306,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
7307,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
7308,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7309,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7310,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
7311,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7312,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7313,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7314,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
7315,989f50ed5db788921a4954109b90362e2209295e,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7316,989f50ed5db788921a4954109b90362e2209295e,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
7317,989f50ed5db788921a4954109b90362e2209295e,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
7318,989f50ed5db788921a4954109b90362e2209295e,/7/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
7319,989f50ed5db788921a4954109b90362e2209295e,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
7320,989f50ed5db788921a4954109b90362e2209295e,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
7321,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7322,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7323,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7324,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7325,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
7326,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
7327,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
7328,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7329,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7330,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7331,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7332,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
7333,023eb5126ff70b769f1f84b28c440fb6128bffe7,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7334,023eb5126ff70b769f1f84b28c440fb6128bffe7,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7335,023eb5126ff70b769f1f84b28c440fb6128bffe7,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7336,023eb5126ff70b769f1f84b28c440fb6128bffe7,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7337,023eb5126ff70b769f1f84b28c440fb6128bffe7,/8.5/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
7338,1691653797eb1f26b4e1d4898c71094ff9104e0e,/7-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
7339,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7340,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7341,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7342,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7343,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7344,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7345,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7346,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7347,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
7348,e36c4044b7ece1361f124aaf3560c2efd888b62f,/8-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
7349,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7350,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
7351,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/8.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
7352,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7353,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
7354,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
7355,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
7356,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
7357,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7358,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7359,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
7360,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7361,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7362,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7363,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
7364,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7365,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7366,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
7367,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
7368,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
7369,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7370,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7371,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
7372,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
7373,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7374,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7375,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7376,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
7377,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7378,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
7379,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
7380,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
7381,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
7382,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7383,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7384,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
7385,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7386,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre7/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7387,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7388,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
7389,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7390,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
7391,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
7392,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
7393,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
7394,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7395,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7396,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
7397,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7398,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre7/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7399,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7400,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
7401,1651e929e7d4c9785b602cb93cdd2503573c3834,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7402,1651e929e7d4c9785b602cb93cdd2503573c3834,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7403,1651e929e7d4c9785b602cb93cdd2503573c3834,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7404,1651e929e7d4c9785b602cb93cdd2503573c3834,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7405,1651e929e7d4c9785b602cb93cdd2503573c3834,/7/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
7406,989f50ed5db788921a4954109b90362e2209295e,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7407,989f50ed5db788921a4954109b90362e2209295e,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
7408,989f50ed5db788921a4954109b90362e2209295e,/8.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
7409,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/7/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7410,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/7/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7411,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/7/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7412,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/7/jdk8/corretto/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
7413,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/7/jdk8/corretto/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7414,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/7/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
7415,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/7/jdk8/corretto/Dockerfile,"#?}}""; \
"
7416,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/7/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
7417,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/7/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
7418,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/7/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
7419,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/7/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7420,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/7/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7421,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/7/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7422,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/7/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
7423,ec4d672211c919aad07ac7bebe7c6f26373ee467,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7424,ec4d672211c919aad07ac7bebe7c6f26373ee467,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
7425,ec4d672211c919aad07ac7bebe7c6f26373ee467,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
7426,ec4d672211c919aad07ac7bebe7c6f26373ee467,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
7427,ec4d672211c919aad07ac7bebe7c6f26373ee467,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
7428,ec4d672211c919aad07ac7bebe7c6f26373ee467,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7429,ec4d672211c919aad07ac7bebe7c6f26373ee467,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7430,ec4d672211c919aad07ac7bebe7c6f26373ee467,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7431,ec4d672211c919aad07ac7bebe7c6f26373ee467,/8.5/jre8/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
7432,ec4d672211c919aad07ac7bebe7c6f26373ee467,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7433,ec4d672211c919aad07ac7bebe7c6f26373ee467,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
7434,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7435,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7436,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7437,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7438,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7439,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7440,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7441,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7442,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
7443,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7444,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
7445,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
7446,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/8.0/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
7447,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
7448,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
7449,1ac581da0dbef3f191cbb2d5fbfc4292e32bb0dd,/8-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
7450,844072d81f9970fa1229fb971340ef49978a3533,/6/Dockerfile,"# add our user and group first to make sure their IDs get assigned consistently, regardless of whatever dependencies get added
"
7451,844072d81f9970fa1229fb971340ef49978a3533,/6/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
7452,99e449dbecd64705dd81c07b8767ec67e706be41,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7453,99e449dbecd64705dd81c07b8767ec67e706be41,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7454,99e449dbecd64705dd81c07b8767ec67e706be41,/8.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7455,99e449dbecd64705dd81c07b8767ec67e706be41,/8.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
7456,99e449dbecd64705dd81c07b8767ec67e706be41,/8.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7457,99e449dbecd64705dd81c07b8767ec67e706be41,/8.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
7458,99e449dbecd64705dd81c07b8767ec67e706be41,/8.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7459,99e449dbecd64705dd81c07b8767ec67e706be41,/8.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
7460,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.5/jre9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7461,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.5/jre9/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
7462,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.5/jre9/Dockerfile,"# only add stretch if we're not already building from within stretch
"
7463,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.5/jre9/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
7464,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.5/jre9/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
7465,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.5/jre9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7466,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.5/jre9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7467,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.5/jre9/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
7468,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.5/jre9/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7469,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.5/jre9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7470,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.5/jre9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
7471,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7472,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7473,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7474,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7475,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
7476,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
7477,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
7478,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7479,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7480,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7481,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7482,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
7483,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk12/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7484,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk12/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7485,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk12/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
7486,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk12/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
7487,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk12/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
7488,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk12/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7489,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk12/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7490,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk12/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
7491,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk12/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
7492,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk12/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7493,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk12/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7494,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk12/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7495,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk12/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
7496,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7497,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7498,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7499,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
7500,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7501,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
7502,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7503,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
7504,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7505,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
7506,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
7507,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
7508,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
7509,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7510,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7511,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
7512,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7513,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7514,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7515,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7516,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7517,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
7518,1c1e57eac69764f7c46309d7321f381209067d9c,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7519,1c1e57eac69764f7c46309d7321f381209067d9c,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7520,1c1e57eac69764f7c46309d7321f381209067d9c,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7521,1c1e57eac69764f7c46309d7321f381209067d9c,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
7522,1c1e57eac69764f7c46309d7321f381209067d9c,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7523,1c1e57eac69764f7c46309d7321f381209067d9c,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7524,1c1e57eac69764f7c46309d7321f381209067d9c,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7525,1c1e57eac69764f7c46309d7321f381209067d9c,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7526,1c1e57eac69764f7c46309d7321f381209067d9c,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7527,1c1e57eac69764f7c46309d7321f381209067d9c,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
7528,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre10-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7529,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre10-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
7530,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre10-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
7531,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre10-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
7532,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre10-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
7533,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre10-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7534,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre10-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7535,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre10-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
7536,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre10-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7537,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre10-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7538,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre10-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7539,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre10-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7540,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre10-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7541,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre10-slim/Dockerfile,"# verify Tomcat Native is working properly
"
7542,dcb6ba09fa6e8f396f38106ca1086a6078799393,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7543,dcb6ba09fa6e8f396f38106ca1086a6078799393,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
7544,dcb6ba09fa6e8f396f38106ca1086a6078799393,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
7545,dcb6ba09fa6e8f396f38106ca1086a6078799393,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
7546,dcb6ba09fa6e8f396f38106ca1086a6078799393,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
7547,dcb6ba09fa6e8f396f38106ca1086a6078799393,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7548,dcb6ba09fa6e8f396f38106ca1086a6078799393,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7549,dcb6ba09fa6e8f396f38106ca1086a6078799393,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7550,dcb6ba09fa6e8f396f38106ca1086a6078799393,/8.5/jre8/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
7551,dcb6ba09fa6e8f396f38106ca1086a6078799393,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7552,dcb6ba09fa6e8f396f38106ca1086a6078799393,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
7553,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7554,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7555,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
7556,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
7557,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
7558,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7559,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7560,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
7561,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
7562,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
7563,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
7564,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7565,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7566,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7567,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
7568,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7569,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7570,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7571,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7572,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7573,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7574,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7575,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7576,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
7577,984d958106aebab3f124f616277a2512da4d4a9f,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
7578,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7579,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7580,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7581,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7582,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7583,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7584,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7585,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7586,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
7587,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7588,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7589,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
7590,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
7591,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
7592,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7593,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7594,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-oracle/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
7595,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-oracle/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
7596,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-oracle/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
7597,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
7598,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
7599,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7600,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7601,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7602,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
7603,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7604,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7605,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7606,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk11/corretto/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
7607,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk11/corretto/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7608,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
7609,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
7610,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
7611,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
7612,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
7613,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7614,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7615,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7616,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
7617,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7618,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
7619,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
7620,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
7621,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
7622,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7623,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7624,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/9.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
7625,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7626,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7627,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
7628,58c79694a83a12077150ad57b8dd46296548b958,/8.5/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7629,58c79694a83a12077150ad57b8dd46296548b958,/8.5/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7630,58c79694a83a12077150ad57b8dd46296548b958,/8.5/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7631,58c79694a83a12077150ad57b8dd46296548b958,/8.5/jdk8/corretto/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
7632,58c79694a83a12077150ad57b8dd46296548b958,/8.5/jdk8/corretto/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7633,58c79694a83a12077150ad57b8dd46296548b958,/8.5/jdk8/corretto/Dockerfile,"# TODO should we leave these installed, or remove them too?
"
7634,58c79694a83a12077150ad57b8dd46296548b958,/8.5/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html (updating ""reason"" to ""user"" for tomcat-native build dependencies)
# TODO find a better/cleaner way to generically interact with the yumdb for the purposes of marking things as automatically/manually installed
"
7635,58c79694a83a12077150ad57b8dd46296548b958,/8.5/jdk8/corretto/Dockerfile,"# TODO handle ""$nativeBuildDeps"" in a similarly generic way?
"
7636,58c79694a83a12077150ad57b8dd46296548b958,/8.5/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7637,58c79694a83a12077150ad57b8dd46296548b958,/8.5/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7638,58c79694a83a12077150ad57b8dd46296548b958,/8.5/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7639,58c79694a83a12077150ad57b8dd46296548b958,/8.5/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
7640,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/Dockerfile-apt.template,"# let ""Tomcat Native"" live somewhere isolated
"
7641,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/Dockerfile-apt.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7642,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/Dockerfile-apt.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7643,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/Dockerfile-apt.template,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7644,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/Dockerfile-apt.template,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7645,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/Dockerfile-apt.template,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7646,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/Dockerfile-apt.template,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7647,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/Dockerfile-apt.template,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7648,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/Dockerfile-apt.template,"# verify Tomcat Native is working properly
"
7649,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7650,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7651,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7652,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7653,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/openjdk-slim-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
7654,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
7655,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
7656,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7657,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7658,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7659,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7660,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
7661,1651e929e7d4c9785b602cb93cdd2503573c3834,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7662,1651e929e7d4c9785b602cb93cdd2503573c3834,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
7663,1651e929e7d4c9785b602cb93cdd2503573c3834,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
7664,1651e929e7d4c9785b602cb93cdd2503573c3834,/7/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
7665,1651e929e7d4c9785b602cb93cdd2503573c3834,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7666,1651e929e7d4c9785b602cb93cdd2503573c3834,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7667,1651e929e7d4c9785b602cb93cdd2503573c3834,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7668,1651e929e7d4c9785b602cb93cdd2503573c3834,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
7669,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7670,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7671,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7672,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7673,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
7674,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
7675,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7676,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7677,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7678,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7679,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
7680,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/Dockerfile-alpine.template,"# let ""Tomcat Native"" live somewhere isolated
"
7681,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/Dockerfile-alpine.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7682,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/Dockerfile-alpine.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7683,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/Dockerfile-alpine.template,"# if the version is outdated, we might have to pull from the dist/archive :/
"
7684,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/Dockerfile-alpine.template,"# not all the mirrors actually carry the .asc files :'(
"
7685,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/Dockerfile-alpine.template,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
7686,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/Dockerfile-alpine.template,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7687,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/Dockerfile-alpine.template,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
7688,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7689,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7690,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7691,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7692,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
7693,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
7694,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
7695,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7696,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7697,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7698,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7699,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
7700,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7701,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7702,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7703,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7704,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7705,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7706,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7707,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7708,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
7709,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7710,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7711,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7712,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
7713,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7714,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
7715,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7716,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7717,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7718,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
7719,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre11-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7720,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre11-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
7721,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre11-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
7722,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre11-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
7723,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre11-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
7724,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre11-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7725,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre11-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7726,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre11-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
7727,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre11-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7728,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre11-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7729,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre11-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7730,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre11-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7731,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre11-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7732,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre11-slim/Dockerfile,"# verify Tomcat Native is working properly
"
7733,f26c14147f9affae8f32100430130271fc82bd3e,/Dockerfile.template,"# let ""Tomcat Native"" live somewhere isolated
"
7734,f26c14147f9affae8f32100430130271fc82bd3e,/Dockerfile.template,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
7735,f26c14147f9affae8f32100430130271fc82bd3e,/Dockerfile.template,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
7736,f26c14147f9affae8f32100430130271fc82bd3e,/Dockerfile.template,"# except OpenSSL, which is the reason we're here
"
7737,f26c14147f9affae8f32100430130271fc82bd3e,/Dockerfile.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7738,f26c14147f9affae8f32100430130271fc82bd3e,/Dockerfile.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7739,f26c14147f9affae8f32100430130271fc82bd3e,/Dockerfile.template,"# not all the mirrors actually carry the .asc files :'(
"
7740,f26c14147f9affae8f32100430130271fc82bd3e,/Dockerfile.template,"# verify Tomcat Native is working properly
"
7741,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre9-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7742,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre9-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
7743,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre9-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
7744,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre9-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
7745,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre9-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
7746,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre9-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7747,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre9-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7748,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre9-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
7749,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre9-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7750,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre9-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7751,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre9-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7752,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre9-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
7753,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre11-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7754,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre11-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
7755,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre11-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
7756,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre11-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
7757,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre11-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
7758,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre11-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7759,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre11-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7760,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre11-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
7761,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre11-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7762,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre11-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7763,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre11-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7764,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre11-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7765,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre11-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7766,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre11-slim/Dockerfile,"# verify Tomcat Native is working properly
"
7767,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7768,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7769,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7770,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7771,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
7772,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
7773,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7774,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7775,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7776,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7777,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
7778,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7779,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7780,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7781,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7782,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7783,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7784,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7785,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7786,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
7787,aceabe036433c68b278767811bac728c6db4f8b3,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7788,aceabe036433c68b278767811bac728c6db4f8b3,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
7789,aceabe036433c68b278767811bac728c6db4f8b3,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
7790,aceabe036433c68b278767811bac728c6db4f8b3,/8.5/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
7791,aceabe036433c68b278767811bac728c6db4f8b3,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7792,aceabe036433c68b278767811bac728c6db4f8b3,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7793,aceabe036433c68b278767811bac728c6db4f8b3,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7794,aceabe036433c68b278767811bac728c6db4f8b3,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
7795,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7796,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7797,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7798,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7799,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
7800,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
7801,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7802,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7803,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7804,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7805,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
7806,aceabe036433c68b278767811bac728c6db4f8b3,/6/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7807,aceabe036433c68b278767811bac728c6db4f8b3,/6/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
7808,aceabe036433c68b278767811bac728c6db4f8b3,/6/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
7809,aceabe036433c68b278767811bac728c6db4f8b3,/6/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
7810,aceabe036433c68b278767811bac728c6db4f8b3,/6/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7811,aceabe036433c68b278767811bac728c6db4f8b3,/6/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7812,aceabe036433c68b278767811bac728c6db4f8b3,/6/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7813,aceabe036433c68b278767811bac728c6db4f8b3,/6/jre8/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
7814,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7815,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7816,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
7817,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
7818,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
7819,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7820,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7821,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
7822,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
7823,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
7824,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
7825,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7826,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7827,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7828,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
7829,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7830,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7831,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7832,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7833,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7834,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7835,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7836,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7837,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
7838,1691653797eb1f26b4e1d4898c71094ff9104e0e,/8-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
7839,24e869945b9d9d3f02f979524b8caf989d08ed6c,/7-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
7840,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7841,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7842,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
7843,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
7844,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
7845,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7846,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7847,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-oracle/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
7848,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-oracle/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
7849,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-oracle/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
7850,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
7851,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
7852,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7853,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7854,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7855,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
7856,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7857,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7858,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7859,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7860,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
7861,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
7862,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7863,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7864,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7865,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7866,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
7867,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7868,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7869,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7870,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7871,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
7872,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
7873,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7874,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7875,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7876,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7877,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
7878,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7879,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7880,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7881,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7882,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
7883,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
7884,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
7885,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7886,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7887,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7888,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7889,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
7890,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7891,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7892,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7893,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7894,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7895,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7896,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7897,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7898,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
7899,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7900,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7901,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7902,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7903,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
7904,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
7905,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
7906,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7907,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7908,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7909,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7910,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
7911,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7912,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7913,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7914,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7915,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7916,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7917,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7918,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7919,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
7920,1ac581da0dbef3f191cbb2d5fbfc4292e32bb0dd,/7-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
7921,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7922,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7923,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7924,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7925,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
7926,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
7927,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
7928,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7929,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7930,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7931,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7932,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
7933,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7934,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
7935,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
7936,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
7937,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
7938,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7939,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7940,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
7941,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7942,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7943,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
7944,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7945,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7946,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7947,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7948,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
7949,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
7950,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7951,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7952,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7953,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7954,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
7955,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7956,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7957,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
7958,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
7959,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
7960,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7961,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7962,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
7963,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
7964,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7965,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7966,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7967,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
7968,eb33d0851a5dc2379fb192613c64ff2cd82f631b,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7969,eb33d0851a5dc2379fb192613c64ff2cd82f631b,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7970,eb33d0851a5dc2379fb192613c64ff2cd82f631b,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7971,eb33d0851a5dc2379fb192613c64ff2cd82f631b,/7/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
7972,eb33d0851a5dc2379fb192613c64ff2cd82f631b,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7973,eb33d0851a5dc2379fb192613c64ff2cd82f631b,/7/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
7974,eb33d0851a5dc2379fb192613c64ff2cd82f631b,/7/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7975,eb33d0851a5dc2379fb192613c64ff2cd82f631b,/7/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
7976,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7977,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7978,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7979,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7980,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
7981,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
7982,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7983,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7984,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7985,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7986,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
7987,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7988,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7989,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
7990,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
7991,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
7992,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7993,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7994,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
7995,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
7996,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
7997,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
7998,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
7999,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8000,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8001,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8002,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
8003,a041e006c1713abd79d67de3a057b845112f19ad,/Dockerfile-apt.template,"# let ""Tomcat Native"" live somewhere isolated
"
8004,a041e006c1713abd79d67de3a057b845112f19ad,/Dockerfile-apt.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8005,a041e006c1713abd79d67de3a057b845112f19ad,/Dockerfile-apt.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8006,a041e006c1713abd79d67de3a057b845112f19ad,/Dockerfile-apt.template,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
8007,a041e006c1713abd79d67de3a057b845112f19ad,/Dockerfile-apt.template,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8008,a041e006c1713abd79d67de3a057b845112f19ad,/Dockerfile-apt.template,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8009,a041e006c1713abd79d67de3a057b845112f19ad,/Dockerfile-apt.template,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8010,a041e006c1713abd79d67de3a057b845112f19ad,/Dockerfile-apt.template,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8011,a041e006c1713abd79d67de3a057b845112f19ad,/Dockerfile-apt.template,"# verify Tomcat Native is working properly
"
8012,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8013,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre9/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
8014,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre9/Dockerfile,"# only add stretch if we're not already building from within stretch
"
8015,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre9/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8016,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre9/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
8017,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8018,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8019,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre9/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8020,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre9/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8021,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8022,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8023,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
8024,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk13/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8025,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk13/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8026,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk13/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
8027,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk13/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
8028,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk13/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
8029,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk13/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8030,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk13/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
8031,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk13/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
8032,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk13/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
8033,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk13/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8034,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk13/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8035,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk13/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8036,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk13/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
8037,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8038,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8039,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8040,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
8041,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
8042,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
8043,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
8044,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8045,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8046,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8047,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8048,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
8049,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8050,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8051,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8052,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
8053,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
8054,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
8055,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
8056,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8057,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8058,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8059,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8060,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
8061,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/Dockerfile-alpine.template,"# let ""Tomcat Native"" live somewhere isolated
"
8062,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/Dockerfile-alpine.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8063,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/Dockerfile-alpine.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8064,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/Dockerfile-alpine.template,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8065,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/Dockerfile-alpine.template,"# not all the mirrors actually carry the .asc files :'(
"
8066,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/Dockerfile-alpine.template,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
8067,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/Dockerfile-alpine.template,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8068,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/Dockerfile-alpine.template,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
8069,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/6/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8070,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/6/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
8071,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/6/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8072,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/6/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
8073,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/6/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8074,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/6/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8075,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/6/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8076,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/6/jre8/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
8077,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8078,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8079,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8080,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
8081,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
8082,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
8083,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
8084,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8085,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8086,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8087,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8088,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
8089,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8090,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
8091,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
8092,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8093,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
8094,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8095,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8096,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8097,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre7/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
8098,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8099,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
8100,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8101,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
8102,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
8103,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8104,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
8105,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8106,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8107,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8108,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8109,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8110,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8111,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
8112,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8113,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
8114,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
8115,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8116,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
8117,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8118,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8119,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8120,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8121,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8122,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8123,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
8124,62da5129632732dc85024a52a55465a86ecb3d03,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8125,62da5129632732dc85024a52a55465a86ecb3d03,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8126,62da5129632732dc85024a52a55465a86ecb3d03,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8127,62da5129632732dc85024a52a55465a86ecb3d03,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8128,62da5129632732dc85024a52a55465a86ecb3d03,/9.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
8129,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8130,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
8131,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
8132,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8133,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
8134,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8135,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8136,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8137,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8138,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8139,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8140,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
8141,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8142,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
8143,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
8144,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/7/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
8145,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
8146,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
8147,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8148,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8149,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8150,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8151,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/9.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
8152,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/Dockerfile-apt.template,"# let ""Tomcat Native"" live somewhere isolated
"
8153,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/Dockerfile-apt.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8154,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/Dockerfile-apt.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8155,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/Dockerfile-apt.template,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
8156,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/Dockerfile-apt.template,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
8157,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/Dockerfile-apt.template,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
8158,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/Dockerfile-apt.template,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
8159,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/Dockerfile-apt.template,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8160,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/Dockerfile-apt.template,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8161,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/Dockerfile-apt.template,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8162,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/Dockerfile-apt.template,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8163,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/Dockerfile-apt.template,"# verify Tomcat Native is working properly
"
8164,e31b8a805c2e4d6e5c98abb640c5e74cb334033b,/6/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8165,e31b8a805c2e4d6e5c98abb640c5e74cb334033b,/6/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
8166,e31b8a805c2e4d6e5c98abb640c5e74cb334033b,/6/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8167,e31b8a805c2e4d6e5c98abb640c5e74cb334033b,/6/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
8168,e31b8a805c2e4d6e5c98abb640c5e74cb334033b,/6/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8169,e31b8a805c2e4d6e5c98abb640c5e74cb334033b,/6/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8170,e31b8a805c2e4d6e5c98abb640c5e74cb334033b,/6/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8171,e31b8a805c2e4d6e5c98abb640c5e74cb334033b,/6/jre8/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
8172,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8173,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8174,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8175,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
8176,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
8177,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
8178,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
8179,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8180,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8181,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8182,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8183,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
8184,eb33d0851a5dc2379fb192613c64ff2cd82f631b,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8185,eb33d0851a5dc2379fb192613c64ff2cd82f631b,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8186,eb33d0851a5dc2379fb192613c64ff2cd82f631b,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8187,eb33d0851a5dc2379fb192613c64ff2cd82f631b,/7/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8188,eb33d0851a5dc2379fb192613c64ff2cd82f631b,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8189,eb33d0851a5dc2379fb192613c64ff2cd82f631b,/7/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
8190,eb33d0851a5dc2379fb192613c64ff2cd82f631b,/7/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8191,eb33d0851a5dc2379fb192613c64ff2cd82f631b,/7/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
8192,37d3fe38619a328aefbe7e7c4bfff043f8be8489,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8193,37d3fe38619a328aefbe7e7c4bfff043f8be8489,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
8194,37d3fe38619a328aefbe7e7c4bfff043f8be8489,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8195,37d3fe38619a328aefbe7e7c4bfff043f8be8489,/8.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
8196,37d3fe38619a328aefbe7e7c4bfff043f8be8489,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8197,37d3fe38619a328aefbe7e7c4bfff043f8be8489,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8198,37d3fe38619a328aefbe7e7c4bfff043f8be8489,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8199,37d3fe38619a328aefbe7e7c4bfff043f8be8489,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
8200,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre11-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8201,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre11-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
8202,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre11-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
8203,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre11-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8204,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre11-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
8205,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre11-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8206,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre11-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8207,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre11-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8208,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre11-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8209,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre11-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8210,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre11-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8211,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre11-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8212,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre11-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8213,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre11-slim/Dockerfile,"# verify Tomcat Native is working properly
"
8214,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8215,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
8216,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.0/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
8217,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8218,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.0/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
8219,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8220,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8221,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.0/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8222,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8223,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.0/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8224,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.0/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
8225,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre11-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8226,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre11-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
8227,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre11-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
8228,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre11-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8229,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre11-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
8230,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre11-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8231,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre11-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8232,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre11-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8233,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre11-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8234,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre11-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8235,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre11-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8236,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre11-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8237,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre11-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8238,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre11-slim/Dockerfile,"# verify Tomcat Native is working properly
"
8239,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8240,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
8241,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
8242,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8243,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
8244,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8245,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8246,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8247,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8248,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre7/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8249,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8250,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
8251,beafeb41b26e8cba4d78d213ec1a65baabecbc00,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8252,beafeb41b26e8cba4d78d213ec1a65baabecbc00,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
8253,beafeb41b26e8cba4d78d213ec1a65baabecbc00,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8254,beafeb41b26e8cba4d78d213ec1a65baabecbc00,/7/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
8255,beafeb41b26e8cba4d78d213ec1a65baabecbc00,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8256,beafeb41b26e8cba4d78d213ec1a65baabecbc00,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8257,beafeb41b26e8cba4d78d213ec1a65baabecbc00,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8258,beafeb41b26e8cba4d78d213ec1a65baabecbc00,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
8259,7da0fe6d6ba425faf5706ad13f1b6970a5192dd5,/8-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
8260,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8261,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8262,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
8263,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
8264,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
8265,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8266,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
8267,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-oracle/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
8268,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-oracle/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
8269,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
8270,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
8271,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8272,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8273,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8274,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
8275,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8276,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8277,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8278,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8279,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8280,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
8281,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8282,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8283,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8284,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
8285,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8286,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8287,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8288,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
8289,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
8290,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
8291,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
8292,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8293,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8294,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8295,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8296,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
8297,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8298,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
8299,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
8300,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8301,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
8302,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8303,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8304,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8305,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8306,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8307,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8308,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
8309,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8310,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8311,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8312,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
8313,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8314,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8315,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8316,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8317,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
8318,30cca452bf25d5f7f6d164e66902a39afc4593ed,/6/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8319,30cca452bf25d5f7f6d164e66902a39afc4593ed,/6/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
8320,30cca452bf25d5f7f6d164e66902a39afc4593ed,/6/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8321,30cca452bf25d5f7f6d164e66902a39afc4593ed,/6/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
8322,30cca452bf25d5f7f6d164e66902a39afc4593ed,/6/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8323,30cca452bf25d5f7f6d164e66902a39afc4593ed,/6/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8324,30cca452bf25d5f7f6d164e66902a39afc4593ed,/6/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8325,30cca452bf25d5f7f6d164e66902a39afc4593ed,/6/jre8/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
8326,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre9-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8327,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre9-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
8328,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre9-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
8329,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre9-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8330,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre9-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
8331,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre9-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8332,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre9-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8333,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre9-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8334,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre9-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8335,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre9-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8336,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre9-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8337,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre9-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
8338,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8339,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
8340,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
8341,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8342,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
8343,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8344,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8345,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8346,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8347,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8348,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8349,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
8350,d08341e2ed934abd7ff1baa0c26d6eac4f45f73a,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
8351,d08341e2ed934abd7ff1baa0c26d6eac4f45f73a,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
8352,d08341e2ed934abd7ff1baa0c26d6eac4f45f73a,/8.0/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
8353,d08341e2ed934abd7ff1baa0c26d6eac4f45f73a,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
8354,d08341e2ed934abd7ff1baa0c26d6eac4f45f73a,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
8355,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8356,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8357,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8358,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
8359,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/openjdk-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
8360,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
8361,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
8362,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8363,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8364,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8365,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8366,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
8367,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8368,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8369,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8370,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
8371,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
8372,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
8373,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
8374,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8375,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8376,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8377,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8378,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
8379,b2bcdfb78e2fdc63423dfc210066b381f6f73a14,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8380,b2bcdfb78e2fdc63423dfc210066b381f6f73a14,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
8381,b2bcdfb78e2fdc63423dfc210066b381f6f73a14,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
8382,b2bcdfb78e2fdc63423dfc210066b381f6f73a14,/7/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
8383,b2bcdfb78e2fdc63423dfc210066b381f6f73a14,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
8384,b2bcdfb78e2fdc63423dfc210066b381f6f73a14,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
8385,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8386,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
8387,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
8388,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8389,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
8390,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8391,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8392,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8393,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8394,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8395,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8396,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8397,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8398,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
8399,60aabb354b1b0c9724631d82890ba7e308104d76,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8400,60aabb354b1b0c9724631d82890ba7e308104d76,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
8401,60aabb354b1b0c9724631d82890ba7e308104d76,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8402,60aabb354b1b0c9724631d82890ba7e308104d76,/8.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
8403,60aabb354b1b0c9724631d82890ba7e308104d76,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8404,60aabb354b1b0c9724631d82890ba7e308104d76,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8405,60aabb354b1b0c9724631d82890ba7e308104d76,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8406,60aabb354b1b0c9724631d82890ba7e308104d76,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
8407,9afdd27634a5b847a3b7aa2d611ad5828659d228,/8-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
8408,dae2567be7566c2fee975d067b79674301357af2,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8409,dae2567be7566c2fee975d067b79674301357af2,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8410,dae2567be7566c2fee975d067b79674301357af2,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8411,dae2567be7566c2fee975d067b79674301357af2,/8.5/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8412,dae2567be7566c2fee975d067b79674301357af2,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8413,dae2567be7566c2fee975d067b79674301357af2,/8.5/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
8414,dae2567be7566c2fee975d067b79674301357af2,/8.5/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8415,dae2567be7566c2fee975d067b79674301357af2,/8.5/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8416,dae2567be7566c2fee975d067b79674301357af2,/8.5/jre8-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8417,dae2567be7566c2fee975d067b79674301357af2,/8.5/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
8418,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8419,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8420,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8421,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
8422,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
8423,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
8424,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
8425,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8426,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8427,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8428,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8429,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
8430,81c66e2e695ad5548b726841c00512a9acf18eb5,/Dockerfile-alpine.template,"# let ""Tomcat Native"" live somewhere isolated
"
8431,81c66e2e695ad5548b726841c00512a9acf18eb5,/Dockerfile-alpine.template,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
8432,81c66e2e695ad5548b726841c00512a9acf18eb5,/Dockerfile-alpine.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8433,81c66e2e695ad5548b726841c00512a9acf18eb5,/Dockerfile-alpine.template,"# not all the mirrors actually carry the .asc files :'(
"
8434,81c66e2e695ad5548b726841c00512a9acf18eb5,/Dockerfile-alpine.template,"# verify Tomcat Native is working properly
"
8435,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8436,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre9/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
8437,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre9/Dockerfile,"# only add stretch if we're not already building from within stretch
"
8438,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre9/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8439,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre9/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
8440,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8441,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8442,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre9/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8443,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre9/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8444,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8445,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8446,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
8447,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8448,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8449,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8450,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
8451,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8452,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8453,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8454,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8455,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
8456,7f37b0e675efd7f654e1fcbfbf6628f25b68f605,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8457,7f37b0e675efd7f654e1fcbfbf6628f25b68f605,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
8458,7f37b0e675efd7f654e1fcbfbf6628f25b68f605,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8459,7f37b0e675efd7f654e1fcbfbf6628f25b68f605,/8.5/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
8460,7f37b0e675efd7f654e1fcbfbf6628f25b68f605,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8461,7f37b0e675efd7f654e1fcbfbf6628f25b68f605,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8462,7f37b0e675efd7f654e1fcbfbf6628f25b68f605,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8463,7f37b0e675efd7f654e1fcbfbf6628f25b68f605,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
8464,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8465,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8466,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8467,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
8468,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
8469,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
8470,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
8471,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8472,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8473,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8474,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8475,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
8476,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre10-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8477,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre10-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
8478,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre10-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
8479,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre10-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8480,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre10-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
8481,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre10-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8482,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre10-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8483,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre10-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8484,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre10-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8485,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre10-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8486,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre10-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8487,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre10-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
8488,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8489,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8490,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8491,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
8492,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8493,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8494,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8495,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8496,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
8497,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8498,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
8499,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
8500,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8501,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
8502,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8503,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8504,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8505,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8506,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8507,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8508,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
8509,52beaf7ad8bd55ae0b0f44031f370b5461209af8,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8510,52beaf7ad8bd55ae0b0f44031f370b5461209af8,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8511,52beaf7ad8bd55ae0b0f44031f370b5461209af8,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8512,52beaf7ad8bd55ae0b0f44031f370b5461209af8,/9.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8513,52beaf7ad8bd55ae0b0f44031f370b5461209af8,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8514,52beaf7ad8bd55ae0b0f44031f370b5461209af8,/9.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
8515,52beaf7ad8bd55ae0b0f44031f370b5461209af8,/9.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8516,52beaf7ad8bd55ae0b0f44031f370b5461209af8,/9.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
8517,fa5fe9c4327c92a99fa2ae63ff876acc8e5389e5,/7-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
8518,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8519,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8520,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8521,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
8522,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8523,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8524,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8525,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8526,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
8527,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8528,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8529,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8530,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8531,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8532,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8533,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8534,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8535,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8536,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
8537,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/Dockerfile-apt.template,"# let ""Tomcat Native"" live somewhere isolated
"
8538,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/Dockerfile-apt.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8539,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/Dockerfile-apt.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8540,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/Dockerfile-apt.template,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
8541,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/Dockerfile-apt.template,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
8542,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/Dockerfile-apt.template,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
8543,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/Dockerfile-apt.template,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
8544,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/Dockerfile-apt.template,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8545,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/Dockerfile-apt.template,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8546,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/Dockerfile-apt.template,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8547,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/Dockerfile-apt.template,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8548,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/Dockerfile-apt.template,"# verify Tomcat Native is working properly
"
8549,29f8484d577632d5124082f87719d7ee28ab939e,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8550,29f8484d577632d5124082f87719d7ee28ab939e,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8551,29f8484d577632d5124082f87719d7ee28ab939e,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8552,29f8484d577632d5124082f87719d7ee28ab939e,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8553,29f8484d577632d5124082f87719d7ee28ab939e,/9.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
8554,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8555,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8556,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
8557,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
8558,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
8559,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8560,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
8561,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-oracle/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
8562,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-oracle/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
8563,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-oracle/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
8564,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
8565,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
8566,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8567,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8568,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8569,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
8570,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8571,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
8572,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
8573,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8574,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
8575,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8576,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8577,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8578,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8579,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8580,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
8581,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre10-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8582,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre10-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
8583,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre10-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
8584,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre10-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8585,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre10-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
8586,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre10-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8587,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre10-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8588,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre10-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8589,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre10-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8590,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre10-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8591,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre10-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8592,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre10-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8593,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre10-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8594,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre10-slim/Dockerfile,"# verify Tomcat Native is working properly
"
8595,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8596,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8597,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8598,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
8599,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8600,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8601,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8602,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8603,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
8604,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8605,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8606,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8607,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
8608,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
8609,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
8610,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8611,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8612,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8613,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8614,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
8615,06a7e79e30595058df3c2fec9c769e47e2bca56d,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8616,06a7e79e30595058df3c2fec9c769e47e2bca56d,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
8617,06a7e79e30595058df3c2fec9c769e47e2bca56d,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8618,06a7e79e30595058df3c2fec9c769e47e2bca56d,/7/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
8619,06a7e79e30595058df3c2fec9c769e47e2bca56d,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8620,06a7e79e30595058df3c2fec9c769e47e2bca56d,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8621,06a7e79e30595058df3c2fec9c769e47e2bca56d,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8622,06a7e79e30595058df3c2fec9c769e47e2bca56d,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
8623,943f430b7a25c5613548cdf9970573d28ab1b080,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8624,943f430b7a25c5613548cdf9970573d28ab1b080,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8625,943f430b7a25c5613548cdf9970573d28ab1b080,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8626,943f430b7a25c5613548cdf9970573d28ab1b080,/7/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8627,943f430b7a25c5613548cdf9970573d28ab1b080,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8628,943f430b7a25c5613548cdf9970573d28ab1b080,/7/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
8629,943f430b7a25c5613548cdf9970573d28ab1b080,/7/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8630,943f430b7a25c5613548cdf9970573d28ab1b080,/7/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
8631,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8632,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8633,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8634,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
8635,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8636,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8637,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8638,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8639,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
8640,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8641,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8642,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8643,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8644,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8645,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
8646,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8647,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
8648,f26c14147f9affae8f32100430130271fc82bd3e,/6/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8649,f26c14147f9affae8f32100430130271fc82bd3e,/6/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
8650,f26c14147f9affae8f32100430130271fc82bd3e,/6/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
8651,f26c14147f9affae8f32100430130271fc82bd3e,/6/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
8652,f26c14147f9affae8f32100430130271fc82bd3e,/6/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8653,f26c14147f9affae8f32100430130271fc82bd3e,/6/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8654,f26c14147f9affae8f32100430130271fc82bd3e,/6/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8655,f26c14147f9affae8f32100430130271fc82bd3e,/6/jre7/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
8656,ee1adc11bb185b1948058931ee9e5c48cfd606a1,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8657,ee1adc11bb185b1948058931ee9e5c48cfd606a1,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8658,ee1adc11bb185b1948058931ee9e5c48cfd606a1,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8659,ee1adc11bb185b1948058931ee9e5c48cfd606a1,/8.5/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8660,ee1adc11bb185b1948058931ee9e5c48cfd606a1,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8661,ee1adc11bb185b1948058931ee9e5c48cfd606a1,/8.5/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
8662,ee1adc11bb185b1948058931ee9e5c48cfd606a1,/8.5/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8663,ee1adc11bb185b1948058931ee9e5c48cfd606a1,/8.5/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8664,ee1adc11bb185b1948058931ee9e5c48cfd606a1,/8.5/jre8-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8665,ee1adc11bb185b1948058931ee9e5c48cfd606a1,/8.5/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
8666,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8667,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8668,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
8669,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
8670,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
8671,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8672,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
8673,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
8674,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
8675,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
8676,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
8677,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
8678,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8679,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8680,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8681,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
8682,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8683,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8684,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8685,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
8686,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
8687,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
8688,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
8689,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8690,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8691,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8692,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8693,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
8694,6c810f194f2bd912333ecb180aabdd3612824f61,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8695,6c810f194f2bd912333ecb180aabdd3612824f61,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8696,6c810f194f2bd912333ecb180aabdd3612824f61,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8697,6c810f194f2bd912333ecb180aabdd3612824f61,/7/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8698,6c810f194f2bd912333ecb180aabdd3612824f61,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8699,6c810f194f2bd912333ecb180aabdd3612824f61,/7/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
8700,6c810f194f2bd912333ecb180aabdd3612824f61,/7/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8701,6c810f194f2bd912333ecb180aabdd3612824f61,/7/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
8702,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk12/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8703,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk12/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8704,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk12/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
8705,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk12/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
8706,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk12/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
8707,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk12/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8708,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk12/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
8709,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk12/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
8710,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk12/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
8711,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk12/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8712,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk12/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8713,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk12/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8714,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk12/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
8715,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk11/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8716,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk11/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
8717,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk11/Dockerfile,"# only add stretch if we're not already building from within stretch
"
8718,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk11/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8719,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk11/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
8720,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk11/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8721,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk11/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8722,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk11/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8723,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk11/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8724,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk11/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8725,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk11/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8726,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk11/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8727,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk11/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8728,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk11/Dockerfile,"# verify Tomcat Native is working properly
"
8729,c0df3d5463944671fefe200bdadd95c69a616ab4,/Dockerfile-alpine.template,"# let ""Tomcat Native"" live somewhere isolated
"
8730,c0df3d5463944671fefe200bdadd95c69a616ab4,/Dockerfile-alpine.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8731,c0df3d5463944671fefe200bdadd95c69a616ab4,/Dockerfile-alpine.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8732,c0df3d5463944671fefe200bdadd95c69a616ab4,/Dockerfile-alpine.template,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8733,c0df3d5463944671fefe200bdadd95c69a616ab4,/Dockerfile-alpine.template,"# not all the mirrors actually carry the .asc files :'(
"
8734,c0df3d5463944671fefe200bdadd95c69a616ab4,/Dockerfile-alpine.template,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
8735,c0df3d5463944671fefe200bdadd95c69a616ab4,/Dockerfile-alpine.template,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8736,c0df3d5463944671fefe200bdadd95c69a616ab4,/Dockerfile-alpine.template,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8737,c0df3d5463944671fefe200bdadd95c69a616ab4,/Dockerfile-alpine.template,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8738,c0df3d5463944671fefe200bdadd95c69a616ab4,/Dockerfile-alpine.template,"# verify Tomcat Native is working properly
"
8739,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8740,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
8741,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
8742,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8743,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
8744,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8745,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8746,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8747,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre8/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
8748,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8749,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
8750,ed98c30c1cd42c53831f64dffa78a0abf7db8e9a,/8-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
8751,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8752,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8753,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
8754,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
8755,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
8756,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8757,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
8758,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
8759,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
8760,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
8761,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
8762,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
8763,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8764,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8765,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8766,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
8767,ec75141e3cb6276b07d66c16042152e2d4de119c,/8.0/jre8/Dockerfile,"# runtime dependency for Tomcat Native Libraries
"
8768,ec75141e3cb6276b07d66c16042152e2d4de119c,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
8769,ec75141e3cb6276b07d66c16042152e2d4de119c,/8.0/jre8/Dockerfile,"# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)

"
8770,ec75141e3cb6276b07d66c16042152e2d4de119c,/8.0/jre8/Dockerfile,"# http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5048274.html (ie, HACK HACK HACK)
"
8771,ec75141e3cb6276b07d66c16042152e2d4de119c,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
8772,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8773,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
8774,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
8775,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8776,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
8777,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8778,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8779,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8780,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8781,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8782,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8783,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8784,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8785,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
8786,aceabe036433c68b278767811bac728c6db4f8b3,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8787,aceabe036433c68b278767811bac728c6db4f8b3,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8788,aceabe036433c68b278767811bac728c6db4f8b3,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8789,aceabe036433c68b278767811bac728c6db4f8b3,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8790,aceabe036433c68b278767811bac728c6db4f8b3,/7/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
8791,0f2fe0306c1d86ea66daf581f741c76745ee5414,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8792,0f2fe0306c1d86ea66daf581f741c76745ee5414,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
8793,0f2fe0306c1d86ea66daf581f741c76745ee5414,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8794,0f2fe0306c1d86ea66daf581f741c76745ee5414,/8.5/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
8795,0f2fe0306c1d86ea66daf581f741c76745ee5414,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8796,0f2fe0306c1d86ea66daf581f741c76745ee5414,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8797,0f2fe0306c1d86ea66daf581f741c76745ee5414,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8798,0f2fe0306c1d86ea66daf581f741c76745ee5414,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
8799,6f1c628fa92feea8b28e98e56a990500f2326936,/7-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
8800,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8801,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
8802,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
8803,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8804,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
8805,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8806,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8807,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8808,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8809,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8810,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8811,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
8812,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8813,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre9/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
8814,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre9/Dockerfile,"# only add stretch if we're not already building from within stretch
"
8815,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre9/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8816,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre9/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
8817,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8818,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8819,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre9/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8820,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre9/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8821,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8822,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8823,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
8824,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre11/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8825,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre11/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
8826,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre11/Dockerfile,"# only add stretch if we're not already building from within stretch
"
8827,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre11/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8828,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre11/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
8829,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre11/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8830,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre11/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8831,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre11/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8832,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre11/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8833,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre11/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8834,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre11/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8835,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre11/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8836,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre11/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8837,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre11/Dockerfile,"# verify Tomcat Native is working properly
"
8838,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8839,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8840,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8841,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
8842,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
8843,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
8844,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
8845,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8846,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8847,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8848,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8849,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
8850,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8851,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
8852,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
8853,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8854,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
8855,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8856,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8857,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8858,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8859,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre7/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8860,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8861,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
8862,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8863,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8864,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
8865,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
8866,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
8867,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8868,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
8869,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
8870,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
8871,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
8872,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
8873,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
8874,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8875,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8876,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8877,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
8878,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre11/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8879,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre11/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
8880,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre11/Dockerfile,"# only add stretch if we're not already building from within stretch
"
8881,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre11/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8882,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre11/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
8883,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre11/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8884,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre11/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8885,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre11/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8886,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre11/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8887,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre11/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8888,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre11/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8889,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre11/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8890,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre11/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8891,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre11/Dockerfile,"# verify Tomcat Native is working properly
"
8892,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8893,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre9/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
8894,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre9/Dockerfile,"# only add stretch if we're not already building from within stretch
"
8895,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre9/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8896,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre9/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
8897,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8898,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8899,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre9/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8900,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre9/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8901,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8902,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8903,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
8904,7d5b334fc0770be842991ed9d8168c5b1ebb86f8,/8-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
8905,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8906,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8907,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8908,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
8909,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
8910,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
8911,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8912,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8913,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8914,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8915,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
8916,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre7-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8917,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre7-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
8918,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre7-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
8919,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre7-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8920,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre7-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
8921,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre7-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8922,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre7-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8923,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre7-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8924,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre7-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8925,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre7-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8926,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre7-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8927,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre7-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
8928,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8929,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8930,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8931,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
8932,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8933,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8934,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8935,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8936,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
8937,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8938,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8939,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8940,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8941,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8942,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
8943,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8944,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
8945,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8946,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre9/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
8947,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre9/Dockerfile,"# only add stretch if we're not already building from within stretch
"
8948,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre9/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8949,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre9/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
8950,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8951,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8952,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre9/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8953,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre9/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8954,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8955,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8956,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
8957,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8958,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
8959,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
8960,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8961,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
8962,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8963,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8964,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8965,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8966,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8967,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8968,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
8969,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8970,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
8971,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
8972,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8973,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
8974,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8975,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8976,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8977,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8978,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8979,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8980,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
8981,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8982,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8983,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8984,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
8985,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
8986,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
8987,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8988,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8989,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8990,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8991,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
8992,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8993,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8994,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8995,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8996,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8997,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8998,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8999,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9000,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9001,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
9002,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9003,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9004,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9005,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9006,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9007,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9008,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9009,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9010,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
9011,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre10/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9012,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre10/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
9013,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre10/Dockerfile,"# only add stretch if we're not already building from within stretch
"
9014,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre10/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
9015,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre10/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
9016,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre10/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9017,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre10/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9018,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre10/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
9019,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre10/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9020,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre10/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9021,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre10/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9022,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre10/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9023,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre10/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9024,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre10/Dockerfile,"# verify Tomcat Native is working properly
"
9025,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9026,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
9027,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
9028,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/7/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
9029,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9030,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9031,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9032,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
9033,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9034,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9035,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9036,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9037,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
9038,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
9039,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
9040,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9041,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9042,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9043,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9044,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
9045,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9046,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9047,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9048,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9049,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9050,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9051,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9052,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9053,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
9054,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9055,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9056,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9057,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9058,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
9059,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
9060,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9061,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9062,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9063,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9064,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
9065,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9066,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9067,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9068,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
9069,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9070,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
9071,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9072,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
9073,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9074,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9075,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9076,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9077,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
9078,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
9079,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
9080,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9081,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9082,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9083,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9084,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
9085,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9086,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9087,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9088,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9089,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
9090,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
9091,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9092,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9093,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9094,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9095,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
9096,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9097,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
9098,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
9099,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
9100,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
9101,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9102,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9103,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
9104,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9105,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9106,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9107,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9108,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9109,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
9110,9355db128c52e0463e37d2fbd267c0ea33ed0b19,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9111,9355db128c52e0463e37d2fbd267c0ea33ed0b19,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
9112,9355db128c52e0463e37d2fbd267c0ea33ed0b19,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
9113,9355db128c52e0463e37d2fbd267c0ea33ed0b19,/7/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
9114,9355db128c52e0463e37d2fbd267c0ea33ed0b19,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9115,9355db128c52e0463e37d2fbd267c0ea33ed0b19,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9116,9355db128c52e0463e37d2fbd267c0ea33ed0b19,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9117,9355db128c52e0463e37d2fbd267c0ea33ed0b19,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
9118,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9119,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
9120,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
9121,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
9122,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
9123,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9124,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9125,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
9126,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9127,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9128,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9129,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
9130,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9131,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
9132,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
9133,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
9134,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
9135,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9136,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9137,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
9138,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9139,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9140,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9141,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9142,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9143,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
9144,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9145,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9146,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9147,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9148,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9149,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9150,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9151,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9152,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
9153,3c72bd6721ab6645badc72c164cbe6f3a8970bdb,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9154,3c72bd6721ab6645badc72c164cbe6f3a8970bdb,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
9155,3c72bd6721ab6645badc72c164cbe6f3a8970bdb,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
9156,3c72bd6721ab6645badc72c164cbe6f3a8970bdb,/8.0/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
9157,3c72bd6721ab6645badc72c164cbe6f3a8970bdb,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9158,3c72bd6721ab6645badc72c164cbe6f3a8970bdb,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9159,3c72bd6721ab6645badc72c164cbe6f3a8970bdb,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9160,3c72bd6721ab6645badc72c164cbe6f3a8970bdb,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
9161,51f9cbc7c310671209ce69e128738a74593de870,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9162,51f9cbc7c310671209ce69e128738a74593de870,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
9163,51f9cbc7c310671209ce69e128738a74593de870,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
9164,51f9cbc7c310671209ce69e128738a74593de870,/7/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
9165,51f9cbc7c310671209ce69e128738a74593de870,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9166,51f9cbc7c310671209ce69e128738a74593de870,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9167,51f9cbc7c310671209ce69e128738a74593de870,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9168,51f9cbc7c310671209ce69e128738a74593de870,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
9169,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9170,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
9171,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
9172,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/8.0/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
9173,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9174,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9175,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9176,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
9177,42acf24d6056b82d396da6658943f5c26e7b5cc1,/6-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
9178,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre10/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9179,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre10/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
9180,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre10/Dockerfile,"# only add stretch if we're not already building from within stretch
"
9181,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre10/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
9182,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre10/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
9183,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre10/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9184,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre10/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9185,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre10/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
9186,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre10/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9187,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre10/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9188,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre10/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9189,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre10/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9190,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre10/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9191,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre10/Dockerfile,"# verify Tomcat Native is working properly
"
9192,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9193,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
9194,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
9195,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
9196,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
9197,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9198,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9199,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
9200,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9201,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9202,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9203,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9204,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9205,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
9206,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9207,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9208,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9209,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9210,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9211,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9212,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9213,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9214,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
9215,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9216,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9217,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9218,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9219,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9220,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9221,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9222,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9223,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
9224,aceabe036433c68b278767811bac728c6db4f8b3,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9225,aceabe036433c68b278767811bac728c6db4f8b3,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9226,aceabe036433c68b278767811bac728c6db4f8b3,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9227,aceabe036433c68b278767811bac728c6db4f8b3,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9228,aceabe036433c68b278767811bac728c6db4f8b3,/7/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
9229,d44c35d4ec4907263cdfad76d6c56e6676ddd382,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9230,d44c35d4ec4907263cdfad76d6c56e6676ddd382,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9231,d44c35d4ec4907263cdfad76d6c56e6676ddd382,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9232,d44c35d4ec4907263cdfad76d6c56e6676ddd382,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9233,d44c35d4ec4907263cdfad76d6c56e6676ddd382,/8.5/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
9234,9a0ce75409536c8c72ef266654d8a64e9354f7e9,/6/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9235,9a0ce75409536c8c72ef266654d8a64e9354f7e9,/6/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
9236,9a0ce75409536c8c72ef266654d8a64e9354f7e9,/6/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
9237,9a0ce75409536c8c72ef266654d8a64e9354f7e9,/6/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
9238,9a0ce75409536c8c72ef266654d8a64e9354f7e9,/6/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9239,9a0ce75409536c8c72ef266654d8a64e9354f7e9,/6/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9240,9a0ce75409536c8c72ef266654d8a64e9354f7e9,/6/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9241,9a0ce75409536c8c72ef266654d8a64e9354f7e9,/6/jre8/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
9242,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9243,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9244,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
9245,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
9246,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
9247,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9248,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9249,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
9250,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
9251,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
9252,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
9253,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
9254,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9255,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9256,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9257,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
9258,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9259,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9260,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
9261,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
9262,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
9263,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9264,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9265,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
9266,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
9267,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9268,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9269,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9270,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
9271,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre9-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9272,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre9-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
9273,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre9-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
9274,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre9-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
9275,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre9-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
9276,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre9-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9277,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre9-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9278,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre9-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
9279,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre9-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9280,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre9-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9281,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre9-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9282,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre9-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
9283,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9284,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9285,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9286,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9287,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
9288,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
9289,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9290,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9291,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9292,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9293,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
9294,9fcf1c13eb901de73aa3abdfc36d1989a1154365,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9295,9fcf1c13eb901de73aa3abdfc36d1989a1154365,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9296,9fcf1c13eb901de73aa3abdfc36d1989a1154365,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9297,9fcf1c13eb901de73aa3abdfc36d1989a1154365,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9298,9fcf1c13eb901de73aa3abdfc36d1989a1154365,/9.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
9299,58c79694a83a12077150ad57b8dd46296548b958,/7/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9300,58c79694a83a12077150ad57b8dd46296548b958,/7/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9301,58c79694a83a12077150ad57b8dd46296548b958,/7/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9302,58c79694a83a12077150ad57b8dd46296548b958,/7/jdk8/corretto/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
9303,58c79694a83a12077150ad57b8dd46296548b958,/7/jdk8/corretto/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9304,58c79694a83a12077150ad57b8dd46296548b958,/7/jdk8/corretto/Dockerfile,"# TODO should we leave these installed, or remove them too?
"
9305,58c79694a83a12077150ad57b8dd46296548b958,/7/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html (updating ""reason"" to ""user"" for tomcat-native build dependencies)
# TODO find a better/cleaner way to generically interact with the yumdb for the purposes of marking things as automatically/manually installed
"
9306,58c79694a83a12077150ad57b8dd46296548b958,/7/jdk8/corretto/Dockerfile,"# TODO handle ""$nativeBuildDeps"" in a similarly generic way?
"
9307,58c79694a83a12077150ad57b8dd46296548b958,/7/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9308,58c79694a83a12077150ad57b8dd46296548b958,/7/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9309,58c79694a83a12077150ad57b8dd46296548b958,/7/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9310,58c79694a83a12077150ad57b8dd46296548b958,/7/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
9311,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9312,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9313,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
9314,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
9315,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
9316,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9317,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9318,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
9319,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
9320,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
9321,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
9322,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
9323,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9324,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9325,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9326,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
9327,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9328,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9329,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
9330,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
9331,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
9332,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9333,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9334,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
9335,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
9336,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
9337,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
9338,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
9339,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9340,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9341,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9342,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
9343,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9344,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9345,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9346,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
9347,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9348,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
9349,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9350,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
9351,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk11-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9352,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk11-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
9353,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk11-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
9354,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk11-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
9355,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk11-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
9356,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk11-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9357,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk11-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9358,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk11-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
9359,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk11-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9360,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk11-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9361,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk11-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9362,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk11-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9363,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk11-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9364,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk11-slim/Dockerfile,"# verify Tomcat Native is working properly
"
9365,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9366,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9367,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9368,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9369,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9370,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9371,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9372,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9373,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
9374,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9375,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9376,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
9377,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
9378,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
9379,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9380,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9381,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-oracle/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
9382,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-oracle/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
9383,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-oracle/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
9384,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
9385,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
9386,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9387,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9388,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9389,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
9390,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9391,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
9392,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
9393,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/7/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
9394,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
9395,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
9396,6c810f194f2bd912333ecb180aabdd3612824f61,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9397,6c810f194f2bd912333ecb180aabdd3612824f61,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9398,6c810f194f2bd912333ecb180aabdd3612824f61,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9399,6c810f194f2bd912333ecb180aabdd3612824f61,/7/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
9400,6c810f194f2bd912333ecb180aabdd3612824f61,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9401,6c810f194f2bd912333ecb180aabdd3612824f61,/7/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
9402,6c810f194f2bd912333ecb180aabdd3612824f61,/7/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9403,6c810f194f2bd912333ecb180aabdd3612824f61,/7/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
9404,612749027978d45b348c04a692f267e4052f3c71,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9405,612749027978d45b348c04a692f267e4052f3c71,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
9406,612749027978d45b348c04a692f267e4052f3c71,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
9407,612749027978d45b348c04a692f267e4052f3c71,/7/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
9408,612749027978d45b348c04a692f267e4052f3c71,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9409,612749027978d45b348c04a692f267e4052f3c71,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9410,612749027978d45b348c04a692f267e4052f3c71,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9411,612749027978d45b348c04a692f267e4052f3c71,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
9412,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9413,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9414,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9415,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9416,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9417,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9418,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9419,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9420,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
9421,78b5ae4bf558d626859cbb63b2837fd6980ca1f1,/6/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9422,78b5ae4bf558d626859cbb63b2837fd6980ca1f1,/6/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
9423,78b5ae4bf558d626859cbb63b2837fd6980ca1f1,/6/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
9424,78b5ae4bf558d626859cbb63b2837fd6980ca1f1,/6/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
9425,78b5ae4bf558d626859cbb63b2837fd6980ca1f1,/6/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9426,78b5ae4bf558d626859cbb63b2837fd6980ca1f1,/6/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9427,78b5ae4bf558d626859cbb63b2837fd6980ca1f1,/6/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9428,78b5ae4bf558d626859cbb63b2837fd6980ca1f1,/6/jre8/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
9429,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9430,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9431,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
9432,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
9433,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
9434,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9435,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9436,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
9437,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
9438,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9439,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9440,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9441,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
9442,943f430b7a25c5613548cdf9970573d28ab1b080,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9443,943f430b7a25c5613548cdf9970573d28ab1b080,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9444,943f430b7a25c5613548cdf9970573d28ab1b080,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9445,943f430b7a25c5613548cdf9970573d28ab1b080,/7/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
9446,943f430b7a25c5613548cdf9970573d28ab1b080,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9447,943f430b7a25c5613548cdf9970573d28ab1b080,/7/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
9448,943f430b7a25c5613548cdf9970573d28ab1b080,/7/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9449,943f430b7a25c5613548cdf9970573d28ab1b080,/7/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
9450,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9451,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9452,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9453,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
9454,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9455,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9456,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9457,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9458,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9459,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
9460,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9461,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9462,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9463,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9464,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
9465,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
9466,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9467,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9468,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9469,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9470,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
9471,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9472,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9473,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9474,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9475,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9476,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9477,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9478,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9479,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
9480,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9481,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
9482,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
9483,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
9484,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
9485,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9486,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9487,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
9488,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9489,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9490,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
9491,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9492,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9493,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
9494,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
9495,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
9496,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9497,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9498,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-oracle/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
9499,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-oracle/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
9500,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-oracle/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
9501,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
9502,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
9503,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9504,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9505,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9506,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
9507,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre10/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9508,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre10/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
9509,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre10/Dockerfile,"# only add stretch if we're not already building from within stretch
"
9510,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre10/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
9511,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre10/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
9512,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre10/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9513,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre10/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9514,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre10/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
9515,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre10/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9516,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre10/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9517,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre10/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9518,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre10/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9519,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre10/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9520,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre10/Dockerfile,"# verify Tomcat Native is working properly
"
9521,61ce27ddd02b9380e52ee6021ec706d417ba4669,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9522,61ce27ddd02b9380e52ee6021ec706d417ba4669,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
9523,61ce27ddd02b9380e52ee6021ec706d417ba4669,/8.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
9524,61ce27ddd02b9380e52ee6021ec706d417ba4669,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
9525,61ce27ddd02b9380e52ee6021ec706d417ba4669,/8.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
9526,61ce27ddd02b9380e52ee6021ec706d417ba4669,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9527,61ce27ddd02b9380e52ee6021ec706d417ba4669,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9528,61ce27ddd02b9380e52ee6021ec706d417ba4669,/8.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
9529,61ce27ddd02b9380e52ee6021ec706d417ba4669,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9530,61ce27ddd02b9380e52ee6021ec706d417ba4669,/8.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9531,61ce27ddd02b9380e52ee6021ec706d417ba4669,/8.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
9532,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9533,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9534,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9535,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9536,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
9537,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
9538,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9539,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9540,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9541,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9542,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
9543,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9544,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9545,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9546,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9547,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9548,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9549,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9550,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9551,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
9552,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9553,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9554,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9555,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9556,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9557,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9558,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9559,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9560,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
9561,06a7e79e30595058df3c2fec9c769e47e2bca56d,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9562,06a7e79e30595058df3c2fec9c769e47e2bca56d,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
9563,06a7e79e30595058df3c2fec9c769e47e2bca56d,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
9564,06a7e79e30595058df3c2fec9c769e47e2bca56d,/9.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
9565,06a7e79e30595058df3c2fec9c769e47e2bca56d,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9566,06a7e79e30595058df3c2fec9c769e47e2bca56d,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9567,06a7e79e30595058df3c2fec9c769e47e2bca56d,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9568,06a7e79e30595058df3c2fec9c769e47e2bca56d,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
9569,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9570,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9571,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9572,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9573,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9574,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9575,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9576,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9577,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
9578,a227157792e94c669148c3c2a09072fb317070e0,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9579,a227157792e94c669148c3c2a09072fb317070e0,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9580,a227157792e94c669148c3c2a09072fb317070e0,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9581,a227157792e94c669148c3c2a09072fb317070e0,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9582,a227157792e94c669148c3c2a09072fb317070e0,/7/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9583,a227157792e94c669148c3c2a09072fb317070e0,/7/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
9584,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre7-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9585,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre7-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
9586,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre7-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
9587,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre7-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
9588,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre7-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
9589,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre7-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9590,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre7-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9591,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre7-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
9592,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre7-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9593,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre7-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9594,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre7-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9595,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre7-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
9596,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9597,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9598,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9599,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9600,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9601,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9602,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9603,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9604,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
9605,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9606,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9607,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9608,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk8/corretto/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
9609,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk8/corretto/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9610,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
9611,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
9612,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
9613,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
9614,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
9615,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9616,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9617,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9618,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
9619,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9620,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9621,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9622,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9623,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
9624,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
9625,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
9626,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9627,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9628,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9629,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9630,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
9631,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9632,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9633,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
9634,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
9635,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
9636,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9637,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9638,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
9639,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
9640,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9641,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9642,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9643,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
9644,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9645,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9646,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9647,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9648,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
9649,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
9650,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
9651,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9652,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9653,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9654,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9655,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
9656,9afdd27634a5b847a3b7aa2d611ad5828659d228,/8-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
9657,60aabb354b1b0c9724631d82890ba7e308104d76,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9658,60aabb354b1b0c9724631d82890ba7e308104d76,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
9659,60aabb354b1b0c9724631d82890ba7e308104d76,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
9660,60aabb354b1b0c9724631d82890ba7e308104d76,/8.0/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
9661,60aabb354b1b0c9724631d82890ba7e308104d76,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9662,60aabb354b1b0c9724631d82890ba7e308104d76,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9663,60aabb354b1b0c9724631d82890ba7e308104d76,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9664,60aabb354b1b0c9724631d82890ba7e308104d76,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
9665,03255da1fc6f0e3ab4a3507cb9e28d707fc921d0,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9666,03255da1fc6f0e3ab4a3507cb9e28d707fc921d0,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9667,03255da1fc6f0e3ab4a3507cb9e28d707fc921d0,/8.0/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9668,03255da1fc6f0e3ab4a3507cb9e28d707fc921d0,/8.0/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9669,03255da1fc6f0e3ab4a3507cb9e28d707fc921d0,/8.0/jre7-alpine/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
9670,03255da1fc6f0e3ab4a3507cb9e28d707fc921d0,/8.0/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9671,03255da1fc6f0e3ab4a3507cb9e28d707fc921d0,/8.0/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
9672,2b55df5b9feaa7b8354e8b2419a88e494a110621,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9673,2b55df5b9feaa7b8354e8b2419a88e494a110621,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
9674,2b55df5b9feaa7b8354e8b2419a88e494a110621,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
9675,2b55df5b9feaa7b8354e8b2419a88e494a110621,/9.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
9676,2b55df5b9feaa7b8354e8b2419a88e494a110621,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
9677,2b55df5b9feaa7b8354e8b2419a88e494a110621,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9678,2b55df5b9feaa7b8354e8b2419a88e494a110621,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9679,2b55df5b9feaa7b8354e8b2419a88e494a110621,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
9680,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9681,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9682,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9683,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9684,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
9685,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
9686,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
9687,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9688,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9689,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9690,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9691,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
9692,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9693,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9694,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9695,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9696,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
9697,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
9698,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9699,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9700,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9701,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9702,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
9703,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9704,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9705,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9706,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9707,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9708,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9709,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9710,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9711,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
9712,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre7-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9713,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre7-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
9714,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre7-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
9715,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre7-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
9716,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre7-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
9717,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre7-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9718,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre7-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9719,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre7-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
9720,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre7-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9721,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre7-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9722,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre7-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9723,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre7-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
9724,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9725,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9726,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9727,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9728,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
9729,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
9730,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
9731,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9732,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9733,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9734,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9735,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
9736,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9737,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
9738,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
9739,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
9740,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
9741,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9742,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9743,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
9744,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9745,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9746,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9747,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9748,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9749,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
9750,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9751,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9752,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
9753,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
9754,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
9755,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9756,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9757,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
9758,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
9759,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
9760,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
9761,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9762,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9763,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9764,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
9765,b2bcdfb78e2fdc63423dfc210066b381f6f73a14,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9766,b2bcdfb78e2fdc63423dfc210066b381f6f73a14,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
9767,b2bcdfb78e2fdc63423dfc210066b381f6f73a14,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
9768,b2bcdfb78e2fdc63423dfc210066b381f6f73a14,/7/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
9769,b2bcdfb78e2fdc63423dfc210066b381f6f73a14,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
9770,b2bcdfb78e2fdc63423dfc210066b381f6f73a14,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
9771,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9772,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9773,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9774,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9775,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
9776,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
9777,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9778,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9779,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9780,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9781,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
9782,d08341e2ed934abd7ff1baa0c26d6eac4f45f73a,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
9783,d08341e2ed934abd7ff1baa0c26d6eac4f45f73a,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
9784,d08341e2ed934abd7ff1baa0c26d6eac4f45f73a,/8.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
9785,d08341e2ed934abd7ff1baa0c26d6eac4f45f73a,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
9786,d08341e2ed934abd7ff1baa0c26d6eac4f45f73a,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
9787,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9788,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre9/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
9789,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre9/Dockerfile,"# only add stretch if we're not already building from within stretch
"
9790,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre9/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
9791,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre9/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
9792,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9793,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9794,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre9/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
9795,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre9/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9796,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9797,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9798,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
9799,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9800,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9801,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9802,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9803,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9804,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9805,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9806,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9807,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
9808,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9809,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9810,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9811,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9812,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
9813,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
9814,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
9815,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9816,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9817,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9818,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9819,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
9820,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9821,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9822,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9823,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9824,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
9825,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
9826,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
9827,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9828,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9829,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9830,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9831,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
9832,30cca452bf25d5f7f6d164e66902a39afc4593ed,/6/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9833,30cca452bf25d5f7f6d164e66902a39afc4593ed,/6/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
9834,30cca452bf25d5f7f6d164e66902a39afc4593ed,/6/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
9835,30cca452bf25d5f7f6d164e66902a39afc4593ed,/6/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
9836,30cca452bf25d5f7f6d164e66902a39afc4593ed,/6/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9837,30cca452bf25d5f7f6d164e66902a39afc4593ed,/6/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9838,30cca452bf25d5f7f6d164e66902a39afc4593ed,/6/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9839,30cca452bf25d5f7f6d164e66902a39afc4593ed,/6/jre7/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
9840,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9841,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9842,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9843,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9844,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
9845,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
9846,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9847,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9848,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9849,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9850,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
9851,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9852,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
9853,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
9854,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
9855,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
9856,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9857,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9858,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
9859,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9860,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9861,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9862,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
9863,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre11/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9864,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre11/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
9865,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre11/Dockerfile,"# only add stretch if we're not already building from within stretch
"
9866,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre11/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
9867,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre11/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
9868,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre11/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9869,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre11/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9870,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre11/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
9871,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre11/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9872,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre11/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9873,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre11/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9874,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre11/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9875,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre11/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9876,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre11/Dockerfile,"# verify Tomcat Native is working properly
"
9877,7da0fe6d6ba425faf5706ad13f1b6970a5192dd5,/8-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
9878,beafeb41b26e8cba4d78d213ec1a65baabecbc00,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9879,beafeb41b26e8cba4d78d213ec1a65baabecbc00,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
9880,beafeb41b26e8cba4d78d213ec1a65baabecbc00,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
9881,beafeb41b26e8cba4d78d213ec1a65baabecbc00,/7/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
9882,beafeb41b26e8cba4d78d213ec1a65baabecbc00,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9883,beafeb41b26e8cba4d78d213ec1a65baabecbc00,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9884,beafeb41b26e8cba4d78d213ec1a65baabecbc00,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9885,beafeb41b26e8cba4d78d213ec1a65baabecbc00,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
9886,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9887,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9888,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9889,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9890,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
9891,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
9892,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
9893,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9894,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9895,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9896,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9897,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
9898,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9899,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
9900,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
9901,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
9902,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
9903,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9904,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9905,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
9906,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9907,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9908,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9909,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
9910,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9911,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
9912,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
9913,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
9914,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
9915,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9916,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9917,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
9918,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9919,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9920,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9921,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
9922,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre10/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9923,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre10/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
9924,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre10/Dockerfile,"# only add stretch if we're not already building from within stretch
"
9925,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre10/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
9926,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre10/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
9927,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre10/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9928,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre10/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9929,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre10/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
9930,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre10/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9931,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre10/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9932,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre10/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9933,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre10/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9934,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre10/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9935,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre10/Dockerfile,"# verify Tomcat Native is working properly
"
9936,dcadb55c324ad088e5e34b5bc6f1202e025ea848,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9937,dcadb55c324ad088e5e34b5bc6f1202e025ea848,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9938,dcadb55c324ad088e5e34b5bc6f1202e025ea848,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9939,dcadb55c324ad088e5e34b5bc6f1202e025ea848,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9940,dcadb55c324ad088e5e34b5bc6f1202e025ea848,/9.0/jre8-alpine/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
9941,dcadb55c324ad088e5e34b5bc6f1202e025ea848,/9.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9942,dcadb55c324ad088e5e34b5bc6f1202e025ea848,/9.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
9943,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9944,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9945,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9946,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9947,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
9948,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
9949,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9950,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9951,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9952,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9953,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
9954,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9955,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9956,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
9957,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
9958,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
9959,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9960,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9961,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-oracle/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
9962,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-oracle/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
9963,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-oracle/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
9964,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
9965,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
9966,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9967,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9968,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9969,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
9970,497d7d04e11f45fd27bdb678b79d048280854a6d,/Dockerfile.template,"# let ""Tomcat Native"" live somewhere isolated
"
9971,497d7d04e11f45fd27bdb678b79d048280854a6d,/Dockerfile.template,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
9972,497d7d04e11f45fd27bdb678b79d048280854a6d,/Dockerfile.template,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
9973,497d7d04e11f45fd27bdb678b79d048280854a6d,/Dockerfile.template,"# except OpenSSL, which is the reason we're here
"
9974,497d7d04e11f45fd27bdb678b79d048280854a6d,/Dockerfile.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9975,497d7d04e11f45fd27bdb678b79d048280854a6d,/Dockerfile.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9976,497d7d04e11f45fd27bdb678b79d048280854a6d,/Dockerfile.template,"# not all the mirrors actually carry the .asc files :'(
"
9977,497d7d04e11f45fd27bdb678b79d048280854a6d,/Dockerfile.template,"# verify Tomcat Native is working properly
"
9978,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk11/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9979,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk11/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
9980,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk11/Dockerfile,"# only add stretch if we're not already building from within stretch
"
9981,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk11/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
9982,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk11/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
9983,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk11/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9984,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk11/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9985,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk11/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
9986,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk11/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9987,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk11/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9988,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk11/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9989,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk11/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9990,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk11/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9991,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk11/Dockerfile,"# verify Tomcat Native is working properly
"
9992,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9993,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
9994,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
9995,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
9996,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
9997,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9998,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9999,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
10000,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10001,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10002,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
10003,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10004,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10005,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10006,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10007,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
10008,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
10009,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
10010,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10011,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10012,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10013,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10014,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
10015,37d3fe38619a328aefbe7e7c4bfff043f8be8489,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10016,37d3fe38619a328aefbe7e7c4bfff043f8be8489,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
10017,37d3fe38619a328aefbe7e7c4bfff043f8be8489,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
10018,37d3fe38619a328aefbe7e7c4bfff043f8be8489,/8.0/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
10019,37d3fe38619a328aefbe7e7c4bfff043f8be8489,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10020,37d3fe38619a328aefbe7e7c4bfff043f8be8489,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10021,37d3fe38619a328aefbe7e7c4bfff043f8be8489,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10022,37d3fe38619a328aefbe7e7c4bfff043f8be8489,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
10023,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10024,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10025,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10026,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10027,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
10028,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
10029,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
10030,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10031,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10032,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10033,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10034,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
10035,e31b8a805c2e4d6e5c98abb640c5e74cb334033b,/6/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10036,e31b8a805c2e4d6e5c98abb640c5e74cb334033b,/6/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
10037,e31b8a805c2e4d6e5c98abb640c5e74cb334033b,/6/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
10038,e31b8a805c2e4d6e5c98abb640c5e74cb334033b,/6/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
10039,e31b8a805c2e4d6e5c98abb640c5e74cb334033b,/6/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10040,e31b8a805c2e4d6e5c98abb640c5e74cb334033b,/6/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10041,e31b8a805c2e4d6e5c98abb640c5e74cb334033b,/6/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10042,e31b8a805c2e4d6e5c98abb640c5e74cb334033b,/6/jre7/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
10043,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10044,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10045,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10046,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10047,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10048,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10049,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10050,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10051,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
10052,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10053,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10054,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10055,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10056,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10057,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10058,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10059,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10060,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
10061,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10062,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10063,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10064,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10065,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
10066,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
10067,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10068,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10069,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10070,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10071,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
10072,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10073,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10074,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10075,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10076,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
10077,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
10078,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
10079,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10080,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10081,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10082,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10083,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
10084,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10085,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10086,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10087,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10088,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
10089,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
10090,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
10091,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10092,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10093,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10094,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10095,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
10096,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10097,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10098,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10099,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
10100,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10101,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
10102,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10103,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
10104,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10105,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
10106,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
10107,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/7/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
10108,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
10109,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
10110,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10111,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
10112,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
10113,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
10114,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
10115,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10116,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10117,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
10118,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10119,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre7/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10120,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10121,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
10122,9c2fb18446d9e6841997362e575804da73f23eee,/7-jre8/Dockerfile,"# add our user and group first to make sure their IDs get assigned consistently, regardless of whatever dependencies get added
"
10123,9c2fb18446d9e6841997362e575804da73f23eee,/7-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
10124,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10125,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10126,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10127,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
10128,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10129,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
10130,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10131,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
10132,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10133,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10134,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10135,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10136,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10137,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10138,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10139,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10140,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
10141,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10142,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
10143,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
10144,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
10145,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
10146,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10147,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10148,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10149,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre8/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
10150,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10151,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
10152,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/6/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10153,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/6/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
10154,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/6/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
10155,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/6/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
10156,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/6/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10157,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/6/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10158,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/6/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10159,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/6/jre7/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
10160,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre10/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10161,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre10/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
10162,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre10/Dockerfile,"# only add stretch if we're not already building from within stretch
"
10163,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre10/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
10164,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre10/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
10165,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre10/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10166,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre10/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10167,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre10/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
10168,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre10/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10169,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre10/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10170,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre10/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10171,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre10/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
10172,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10173,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10174,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10175,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10176,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
10177,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
10178,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
10179,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10180,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10181,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10182,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10183,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
10184,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10185,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10186,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10187,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10188,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
10189,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
10190,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
10191,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10192,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10193,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10194,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10195,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
10196,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10197,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
10198,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
10199,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
10200,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
10201,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10202,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10203,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
10204,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10205,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10206,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
10207,1ac581da0dbef3f191cbb2d5fbfc4292e32bb0dd,/7-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
10208,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10209,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
10210,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
10211,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/9.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
10212,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
10213,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
10214,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre10/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10215,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre10/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
10216,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre10/Dockerfile,"# only add stretch if we're not already building from within stretch
"
10217,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre10/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
10218,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre10/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
10219,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre10/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10220,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre10/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10221,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre10/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
10222,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre10/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10223,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre10/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10224,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre10/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10225,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre10/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
10226,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10227,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
10228,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
10229,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
10230,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
10231,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10232,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10233,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
10234,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10235,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10236,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10237,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10238,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10239,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
10240,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10241,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10242,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10243,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10244,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10245,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10246,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10247,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10248,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
10249,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10250,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10251,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10252,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10253,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10254,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10255,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10256,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10257,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
10258,24e869945b9d9d3f02f979524b8caf989d08ed6c,/7-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
10259,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10260,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
10261,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
10262,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
10263,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
10264,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10265,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10266,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
10267,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10268,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10269,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10270,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10271,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10272,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
10273,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10274,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10275,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
10276,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
10277,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
10278,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10279,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10280,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
10281,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
10282,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10283,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10284,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10285,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
10286,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10287,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10288,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10289,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
10290,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10291,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10292,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10293,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10294,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10295,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
10296,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre9-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10297,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre9-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
10298,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre9-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
10299,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre9-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
10300,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre9-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
10301,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre9-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10302,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre9-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10303,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre9-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
10304,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre9-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10305,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre9-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10306,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre9-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10307,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre9-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
10308,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10309,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10310,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
10311,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
10312,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
10313,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10314,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10315,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
10316,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
10317,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
10318,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
10319,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
10320,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10321,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10322,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10323,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
10324,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk13/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10325,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk13/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10326,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk13/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
10327,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk13/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
10328,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk13/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
10329,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk13/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10330,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk13/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10331,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk13/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
10332,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk13/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
10333,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk13/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10334,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk13/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10335,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk13/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10336,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk13/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
10337,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10338,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
10339,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
10340,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
10341,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
10342,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10343,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10344,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
10345,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10346,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10347,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10348,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
10349,1691653797eb1f26b4e1d4898c71094ff9104e0e,/8-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
10350,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10351,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
10352,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/8.5/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
10353,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10354,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10355,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10356,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10357,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10358,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10359,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10360,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10361,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
10362,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre11-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10363,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre11-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
10364,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre11-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
10365,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre11-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
10366,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre11-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
10367,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre11-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10368,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre11-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10369,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre11-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
10370,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre11-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10371,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre11-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10372,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre11-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10373,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre11-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10374,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre11-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10375,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre11-slim/Dockerfile,"# verify Tomcat Native is working properly
"
10376,03255da1fc6f0e3ab4a3507cb9e28d707fc921d0,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10377,03255da1fc6f0e3ab4a3507cb9e28d707fc921d0,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10378,03255da1fc6f0e3ab4a3507cb9e28d707fc921d0,/8.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10379,03255da1fc6f0e3ab4a3507cb9e28d707fc921d0,/8.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10380,03255da1fc6f0e3ab4a3507cb9e28d707fc921d0,/8.0/jre8-alpine/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
10381,03255da1fc6f0e3ab4a3507cb9e28d707fc921d0,/8.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10382,03255da1fc6f0e3ab4a3507cb9e28d707fc921d0,/8.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
10383,aceabe036433c68b278767811bac728c6db4f8b3,/6/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10384,aceabe036433c68b278767811bac728c6db4f8b3,/6/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
10385,aceabe036433c68b278767811bac728c6db4f8b3,/6/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
10386,aceabe036433c68b278767811bac728c6db4f8b3,/6/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
10387,aceabe036433c68b278767811bac728c6db4f8b3,/6/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10388,aceabe036433c68b278767811bac728c6db4f8b3,/6/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10389,aceabe036433c68b278767811bac728c6db4f8b3,/6/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10390,aceabe036433c68b278767811bac728c6db4f8b3,/6/jre7/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
10391,89b879193cbf8eff9792d847f2bdc285647ded15,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10392,89b879193cbf8eff9792d847f2bdc285647ded15,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10393,89b879193cbf8eff9792d847f2bdc285647ded15,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10394,89b879193cbf8eff9792d847f2bdc285647ded15,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10395,89b879193cbf8eff9792d847f2bdc285647ded15,/8.5/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
10396,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10397,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
10398,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
10399,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
10400,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
10401,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10402,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10403,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
10404,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10405,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10406,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10407,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
10408,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10409,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
10410,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
10411,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
10412,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
10413,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10414,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10415,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
10416,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10417,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10418,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10419,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
10420,989f50ed5db788921a4954109b90362e2209295e,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10421,989f50ed5db788921a4954109b90362e2209295e,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
10422,989f50ed5db788921a4954109b90362e2209295e,/8.5/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
10423,58c79694a83a12077150ad57b8dd46296548b958,/9.0/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10424,58c79694a83a12077150ad57b8dd46296548b958,/9.0/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10425,58c79694a83a12077150ad57b8dd46296548b958,/9.0/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10426,58c79694a83a12077150ad57b8dd46296548b958,/9.0/jdk8/corretto/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
10427,58c79694a83a12077150ad57b8dd46296548b958,/9.0/jdk8/corretto/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10428,58c79694a83a12077150ad57b8dd46296548b958,/9.0/jdk8/corretto/Dockerfile,"# TODO should we leave these installed, or remove them too?
"
10429,58c79694a83a12077150ad57b8dd46296548b958,/9.0/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html (updating ""reason"" to ""user"" for tomcat-native build dependencies)
# TODO find a better/cleaner way to generically interact with the yumdb for the purposes of marking things as automatically/manually installed
"
10430,58c79694a83a12077150ad57b8dd46296548b958,/9.0/jdk8/corretto/Dockerfile,"# TODO handle ""$nativeBuildDeps"" in a similarly generic way?
"
10431,58c79694a83a12077150ad57b8dd46296548b958,/9.0/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10432,58c79694a83a12077150ad57b8dd46296548b958,/9.0/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10433,58c79694a83a12077150ad57b8dd46296548b958,/9.0/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10434,58c79694a83a12077150ad57b8dd46296548b958,/9.0/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
10435,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre10/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10436,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre10/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
10437,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre10/Dockerfile,"# only add stretch if we're not already building from within stretch
"
10438,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre10/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
10439,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre10/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
10440,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre10/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10441,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre10/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10442,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre10/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
10443,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre10/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10444,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre10/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10445,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre10/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10446,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre10/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
10447,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10448,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10449,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
10450,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
10451,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
10452,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10453,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10454,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
10455,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
10456,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
10457,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
10458,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10459,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10460,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10461,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
10462,7457d9c11ffdb055cb9084c498c2d47118561814,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10463,7457d9c11ffdb055cb9084c498c2d47118561814,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
10464,7457d9c11ffdb055cb9084c498c2d47118561814,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
10465,7457d9c11ffdb055cb9084c498c2d47118561814,/9.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
10466,7457d9c11ffdb055cb9084c498c2d47118561814,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10467,7457d9c11ffdb055cb9084c498c2d47118561814,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10468,7457d9c11ffdb055cb9084c498c2d47118561814,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10469,7457d9c11ffdb055cb9084c498c2d47118561814,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
10470,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10471,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10472,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
10473,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
10474,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
10475,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10476,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10477,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
10478,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
10479,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10480,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10481,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10482,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
10483,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10484,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10485,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10486,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10487,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/openjdk-slim-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
10488,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
10489,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
10490,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10491,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10492,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10493,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10494,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
10495,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk13/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10496,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk13/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10497,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk13/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
10498,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk13/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
10499,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk13/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
10500,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk13/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10501,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk13/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10502,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk13/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
10503,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk13/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
10504,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk13/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10505,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk13/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10506,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk13/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10507,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk13/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
10508,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/Dockerfile.template,"# let ""Tomcat Native"" live somewhere isolated
"
10509,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/Dockerfile.template,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
10510,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/Dockerfile.template,"# only add stretch if we're not already building from within stretch
"
10511,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/Dockerfile.template,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
10512,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/Dockerfile.template,"# ... except OpenSSL, which is the reason we're here
"
10513,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/Dockerfile.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10514,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/Dockerfile.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10515,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/Dockerfile.template,"# not all the mirrors actually carry the .asc files :'(
"
10516,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/Dockerfile.template,"# if the version is outdated, we have to pull from the archive :/
"
10517,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/Dockerfile.template,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10518,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/Dockerfile.template,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
10519,a227157792e94c669148c3c2a09072fb317070e0,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10520,a227157792e94c669148c3c2a09072fb317070e0,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10521,a227157792e94c669148c3c2a09072fb317070e0,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10522,a227157792e94c669148c3c2a09072fb317070e0,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10523,a227157792e94c669148c3c2a09072fb317070e0,/7/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10524,a227157792e94c669148c3c2a09072fb317070e0,/7/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
10525,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10526,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
10527,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
10528,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
10529,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
10530,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10531,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10532,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
10533,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10534,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10535,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10536,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10537,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10538,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
10539,61ce27ddd02b9380e52ee6021ec706d417ba4669,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10540,61ce27ddd02b9380e52ee6021ec706d417ba4669,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
10541,61ce27ddd02b9380e52ee6021ec706d417ba4669,/8.0/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
10542,61ce27ddd02b9380e52ee6021ec706d417ba4669,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
10543,61ce27ddd02b9380e52ee6021ec706d417ba4669,/8.0/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
10544,61ce27ddd02b9380e52ee6021ec706d417ba4669,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10545,61ce27ddd02b9380e52ee6021ec706d417ba4669,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10546,61ce27ddd02b9380e52ee6021ec706d417ba4669,/8.0/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
10547,61ce27ddd02b9380e52ee6021ec706d417ba4669,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10548,61ce27ddd02b9380e52ee6021ec706d417ba4669,/8.0/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10549,61ce27ddd02b9380e52ee6021ec706d417ba4669,/8.0/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
10550,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10551,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
10552,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10553,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10554,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.5/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
10555,9b1b4d00ed9b281e16de07f891b7b399c3457d5e,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10556,9b1b4d00ed9b281e16de07f891b7b399c3457d5e,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
10557,9b1b4d00ed9b281e16de07f891b7b399c3457d5e,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
10558,9b1b4d00ed9b281e16de07f891b7b399c3457d5e,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
10559,9b1b4d00ed9b281e16de07f891b7b399c3457d5e,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
10560,9b1b4d00ed9b281e16de07f891b7b399c3457d5e,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10561,9b1b4d00ed9b281e16de07f891b7b399c3457d5e,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10562,9b1b4d00ed9b281e16de07f891b7b399c3457d5e,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10563,9b1b4d00ed9b281e16de07f891b7b399c3457d5e,/9.0/jre8/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
10564,9b1b4d00ed9b281e16de07f891b7b399c3457d5e,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10565,9b1b4d00ed9b281e16de07f891b7b399c3457d5e,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
10566,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10567,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
10568,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
10569,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
10570,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
10571,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10572,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10573,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
10574,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10575,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10576,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
10577,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10578,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
10579,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/9.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
10580,1c1e57eac69764f7c46309d7321f381209067d9c,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10581,1c1e57eac69764f7c46309d7321f381209067d9c,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10582,1c1e57eac69764f7c46309d7321f381209067d9c,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10583,1c1e57eac69764f7c46309d7321f381209067d9c,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
10584,1c1e57eac69764f7c46309d7321f381209067d9c,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10585,1c1e57eac69764f7c46309d7321f381209067d9c,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10586,1c1e57eac69764f7c46309d7321f381209067d9c,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10587,1c1e57eac69764f7c46309d7321f381209067d9c,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10588,1c1e57eac69764f7c46309d7321f381209067d9c,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10589,1c1e57eac69764f7c46309d7321f381209067d9c,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
10590,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10591,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10592,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10593,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10594,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
10595,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
10596,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10597,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10598,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10599,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10600,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
10601,0e9a915bf893faa9160ab1a144c7ba5049a4fe27,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10602,0e9a915bf893faa9160ab1a144c7ba5049a4fe27,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10603,0e9a915bf893faa9160ab1a144c7ba5049a4fe27,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10604,0e9a915bf893faa9160ab1a144c7ba5049a4fe27,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10605,0e9a915bf893faa9160ab1a144c7ba5049a4fe27,/7/jre8-alpine/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
10606,0e9a915bf893faa9160ab1a144c7ba5049a4fe27,/7/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10607,0e9a915bf893faa9160ab1a144c7ba5049a4fe27,/7/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
10608,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre11/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10609,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre11/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
10610,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre11/Dockerfile,"# only add stretch if we're not already building from within stretch
"
10611,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre11/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
10612,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre11/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
10613,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre11/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10614,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre11/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10615,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre11/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
10616,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre11/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10617,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre11/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10618,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre11/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10619,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre11/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10620,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre11/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10621,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre11/Dockerfile,"# verify Tomcat Native is working properly
"
10622,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10623,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10624,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10625,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10626,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
10627,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
10628,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
10629,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10630,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10631,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10632,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10633,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
10634,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10635,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10636,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10637,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10638,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
10639,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
10640,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10641,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10642,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10643,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10644,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
10645,78b5ae4bf558d626859cbb63b2837fd6980ca1f1,/6/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10646,78b5ae4bf558d626859cbb63b2837fd6980ca1f1,/6/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
10647,78b5ae4bf558d626859cbb63b2837fd6980ca1f1,/6/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
10648,78b5ae4bf558d626859cbb63b2837fd6980ca1f1,/6/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
10649,78b5ae4bf558d626859cbb63b2837fd6980ca1f1,/6/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10650,78b5ae4bf558d626859cbb63b2837fd6980ca1f1,/6/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10651,78b5ae4bf558d626859cbb63b2837fd6980ca1f1,/6/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10652,78b5ae4bf558d626859cbb63b2837fd6980ca1f1,/6/jre7/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
10653,612749027978d45b348c04a692f267e4052f3c71,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10654,612749027978d45b348c04a692f267e4052f3c71,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
10655,612749027978d45b348c04a692f267e4052f3c71,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
10656,612749027978d45b348c04a692f267e4052f3c71,/7/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
10657,612749027978d45b348c04a692f267e4052f3c71,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10658,612749027978d45b348c04a692f267e4052f3c71,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10659,612749027978d45b348c04a692f267e4052f3c71,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10660,612749027978d45b348c04a692f267e4052f3c71,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
10661,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10662,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
10663,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
10664,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/7/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
10665,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
10666,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
10667,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10668,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10669,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10670,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10671,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10672,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10673,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10674,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10675,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
10676,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10677,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10678,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10679,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10680,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre7-alpine/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
10681,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10682,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
10683,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10684,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10685,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10686,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10687,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
10688,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
10689,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
10690,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10691,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10692,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10693,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10694,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
10695,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10696,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10697,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
10698,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
10699,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
10700,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10701,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10702,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
10703,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
10704,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
10705,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
10706,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10707,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10708,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10709,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
10710,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10711,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10712,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10713,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10714,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
10715,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
10716,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
10717,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10718,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10719,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10720,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10721,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
10722,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10723,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10724,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
10725,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
10726,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
10727,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10728,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10729,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
10730,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
10731,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10732,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10733,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10734,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
10735,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10736,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10737,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10738,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10739,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
10740,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
10741,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
10742,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10743,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10744,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10745,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10746,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
10747,9a0ce75409536c8c72ef266654d8a64e9354f7e9,/6/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10748,9a0ce75409536c8c72ef266654d8a64e9354f7e9,/6/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
10749,9a0ce75409536c8c72ef266654d8a64e9354f7e9,/6/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
10750,9a0ce75409536c8c72ef266654d8a64e9354f7e9,/6/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
10751,9a0ce75409536c8c72ef266654d8a64e9354f7e9,/6/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10752,9a0ce75409536c8c72ef266654d8a64e9354f7e9,/6/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10753,9a0ce75409536c8c72ef266654d8a64e9354f7e9,/6/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10754,9a0ce75409536c8c72ef266654d8a64e9354f7e9,/6/jre7/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
10755,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10756,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
10757,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
10758,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
10759,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
10760,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10761,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10762,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
10763,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10764,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10765,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10766,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
10767,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre7-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10768,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre7-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
10769,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre7-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
10770,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre7-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
10771,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre7-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
10772,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre7-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10773,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre7-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10774,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre7-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
10775,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre7-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10776,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre7-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10777,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre7-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10778,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre7-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
10779,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10780,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10781,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
10782,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
10783,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
10784,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10785,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10786,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-oracle/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
10787,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-oracle/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
10788,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-oracle/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
10789,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
10790,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
10791,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10792,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10793,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10794,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
10795,42acf24d6056b82d396da6658943f5c26e7b5cc1,/6-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
10796,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk13/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10797,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk13/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10798,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk13/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
10799,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk13/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
10800,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk13/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
10801,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk13/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10802,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk13/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10803,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk13/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
10804,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk13/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
10805,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk13/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10806,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk13/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10807,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk13/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10808,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk13/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
10809,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10810,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
10811,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
10812,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/8.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
10813,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10814,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10815,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10816,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
10817,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10818,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10819,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10820,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10821,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
10822,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
10823,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10824,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10825,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10826,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10827,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
10828,3c72bd6721ab6645badc72c164cbe6f3a8970bdb,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10829,3c72bd6721ab6645badc72c164cbe6f3a8970bdb,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
10830,3c72bd6721ab6645badc72c164cbe6f3a8970bdb,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
10831,3c72bd6721ab6645badc72c164cbe6f3a8970bdb,/8.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
10832,3c72bd6721ab6645badc72c164cbe6f3a8970bdb,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10833,3c72bd6721ab6645badc72c164cbe6f3a8970bdb,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10834,3c72bd6721ab6645badc72c164cbe6f3a8970bdb,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10835,3c72bd6721ab6645badc72c164cbe6f3a8970bdb,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
10836,51f9cbc7c310671209ce69e128738a74593de870,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10837,51f9cbc7c310671209ce69e128738a74593de870,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
10838,51f9cbc7c310671209ce69e128738a74593de870,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
10839,51f9cbc7c310671209ce69e128738a74593de870,/7/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
10840,51f9cbc7c310671209ce69e128738a74593de870,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10841,51f9cbc7c310671209ce69e128738a74593de870,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10842,51f9cbc7c310671209ce69e128738a74593de870,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10843,51f9cbc7c310671209ce69e128738a74593de870,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
10844,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10845,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10846,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10847,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10848,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10849,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10850,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10851,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10852,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
10853,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10854,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10855,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10856,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10857,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
10858,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
10859,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
10860,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10861,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10862,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10863,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10864,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
10865,9355db128c52e0463e37d2fbd267c0ea33ed0b19,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10866,9355db128c52e0463e37d2fbd267c0ea33ed0b19,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
10867,9355db128c52e0463e37d2fbd267c0ea33ed0b19,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
10868,9355db128c52e0463e37d2fbd267c0ea33ed0b19,/7/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
10869,9355db128c52e0463e37d2fbd267c0ea33ed0b19,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10870,9355db128c52e0463e37d2fbd267c0ea33ed0b19,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10871,9355db128c52e0463e37d2fbd267c0ea33ed0b19,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10872,9355db128c52e0463e37d2fbd267c0ea33ed0b19,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
10873,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10874,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10875,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10876,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
10877,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10878,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10879,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10880,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10881,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10882,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
10883,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10884,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10885,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
10886,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
10887,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
10888,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10889,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10890,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
10891,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
10892,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10893,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10894,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10895,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
10896,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/8.5/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10897,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/8.5/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10898,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/8.5/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10899,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/8.5/jdk8/corretto/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
10900,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/8.5/jdk8/corretto/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10901,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/8.5/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
10902,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/8.5/jdk8/corretto/Dockerfile,"#?}}""; \
"
10903,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/8.5/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
10904,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/8.5/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
10905,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/8.5/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
10906,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/8.5/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10907,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/8.5/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10908,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/8.5/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10909,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/8.5/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
10910,85486f9d3edfa08a827037e556924b1aeb7069d9,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10911,85486f9d3edfa08a827037e556924b1aeb7069d9,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10912,85486f9d3edfa08a827037e556924b1aeb7069d9,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10913,85486f9d3edfa08a827037e556924b1aeb7069d9,/7/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
10914,85486f9d3edfa08a827037e556924b1aeb7069d9,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10915,85486f9d3edfa08a827037e556924b1aeb7069d9,/7/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
10916,85486f9d3edfa08a827037e556924b1aeb7069d9,/7/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10917,85486f9d3edfa08a827037e556924b1aeb7069d9,/7/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
10918,fae008566295d1eec89de04385215fdd54eceda5,/8.5/jre10-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10919,fae008566295d1eec89de04385215fdd54eceda5,/8.5/jre10-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
10920,fae008566295d1eec89de04385215fdd54eceda5,/8.5/jre10-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
10921,fae008566295d1eec89de04385215fdd54eceda5,/8.5/jre10-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
10922,fae008566295d1eec89de04385215fdd54eceda5,/8.5/jre10-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
10923,fae008566295d1eec89de04385215fdd54eceda5,/8.5/jre10-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10924,fae008566295d1eec89de04385215fdd54eceda5,/8.5/jre10-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10925,fae008566295d1eec89de04385215fdd54eceda5,/8.5/jre10-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
10926,fae008566295d1eec89de04385215fdd54eceda5,/8.5/jre10-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10927,fae008566295d1eec89de04385215fdd54eceda5,/8.5/jre10-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10928,fae008566295d1eec89de04385215fdd54eceda5,/8.5/jre10-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10929,fae008566295d1eec89de04385215fdd54eceda5,/8.5/jre10-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
10930,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10931,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10932,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10933,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10934,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10935,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10936,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10937,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10938,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
10939,82b1da640aa15ff2e9713e59dba3dbf7487d6815,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10940,82b1da640aa15ff2e9713e59dba3dbf7487d6815,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10941,82b1da640aa15ff2e9713e59dba3dbf7487d6815,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10942,82b1da640aa15ff2e9713e59dba3dbf7487d6815,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10943,82b1da640aa15ff2e9713e59dba3dbf7487d6815,/8.5/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
10944,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10945,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10946,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10947,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10948,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10949,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10950,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10951,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10952,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
10953,06a7e79e30595058df3c2fec9c769e47e2bca56d,/Dockerfile.template,"# let ""Tomcat Native"" live somewhere isolated
"
10954,06a7e79e30595058df3c2fec9c769e47e2bca56d,/Dockerfile.template,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
10955,06a7e79e30595058df3c2fec9c769e47e2bca56d,/Dockerfile.template,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
10956,06a7e79e30595058df3c2fec9c769e47e2bca56d,/Dockerfile.template,"# except OpenSSL, which is the reason we're here
"
10957,06a7e79e30595058df3c2fec9c769e47e2bca56d,/Dockerfile.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10958,06a7e79e30595058df3c2fec9c769e47e2bca56d,/Dockerfile.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10959,06a7e79e30595058df3c2fec9c769e47e2bca56d,/Dockerfile.template,"# not all the mirrors actually carry the .asc files :'(
"
10960,06a7e79e30595058df3c2fec9c769e47e2bca56d,/Dockerfile.template,"# verify Tomcat Native is working properly
"
10961,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10962,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10963,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10964,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10965,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre8-alpine/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
10966,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10967,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
10968,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10969,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10970,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10971,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10972,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10973,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10974,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10975,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10976,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
10977,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10978,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10979,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10980,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10981,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
10982,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
10983,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10984,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10985,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10986,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10987,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
10988,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10989,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
10990,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
10991,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/7/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
10992,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10993,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10994,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10995,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
10996,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre11/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10997,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre11/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
10998,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre11/Dockerfile,"# only add stretch if we're not already building from within stretch
"
10999,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre11/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
11000,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre11/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
11001,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre11/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11002,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre11/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11003,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre11/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
11004,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre11/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11005,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre11/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11006,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre11/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11007,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre11/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11008,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre11/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11009,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre11/Dockerfile,"# verify Tomcat Native is working properly
"
11010,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11011,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11012,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11013,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11014,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11015,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11016,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11017,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11018,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
11019,55a3f09bc475c11c23f6a972b17766b2f68c29a0,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11020,55a3f09bc475c11c23f6a972b17766b2f68c29a0,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11021,55a3f09bc475c11c23f6a972b17766b2f68c29a0,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11022,55a3f09bc475c11c23f6a972b17766b2f68c29a0,/9.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
11023,55a3f09bc475c11c23f6a972b17766b2f68c29a0,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11024,55a3f09bc475c11c23f6a972b17766b2f68c29a0,/9.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
11025,55a3f09bc475c11c23f6a972b17766b2f68c29a0,/9.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11026,55a3f09bc475c11c23f6a972b17766b2f68c29a0,/9.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
11027,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11028,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
11029,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
11030,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
11031,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
11032,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11033,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11034,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
11035,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11036,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11037,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11038,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
11039,5b0cd615bf08392873a4802dfee2efabf1d71456,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11040,5b0cd615bf08392873a4802dfee2efabf1d71456,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11041,5b0cd615bf08392873a4802dfee2efabf1d71456,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11042,5b0cd615bf08392873a4802dfee2efabf1d71456,/9.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
11043,5b0cd615bf08392873a4802dfee2efabf1d71456,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11044,5b0cd615bf08392873a4802dfee2efabf1d71456,/9.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
11045,5b0cd615bf08392873a4802dfee2efabf1d71456,/9.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11046,5b0cd615bf08392873a4802dfee2efabf1d71456,/9.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
11047,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11048,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11049,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
11050,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
11051,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
11052,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11053,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11054,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
11055,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
11056,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
11057,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
11058,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11059,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11060,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11061,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
11062,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11063,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11064,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11065,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11066,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre7-alpine/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
11067,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11068,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
11069,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11070,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11071,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11072,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11073,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
11074,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
11075,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
11076,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11077,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11078,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11079,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11080,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
11081,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11082,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11083,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11084,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11085,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
11086,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
11087,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11088,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11089,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11090,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11091,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
11092,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11093,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11094,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
11095,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
11096,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
11097,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11098,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11099,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
11100,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
11101,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
11102,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
11103,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
11104,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11105,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11106,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11107,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
11108,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11109,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11110,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11111,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
11112,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11113,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11114,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11115,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11116,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11117,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
11118,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11119,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11120,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11121,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11122,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
11123,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
11124,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
11125,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11126,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11127,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11128,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11129,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
11130,85486f9d3edfa08a827037e556924b1aeb7069d9,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11131,85486f9d3edfa08a827037e556924b1aeb7069d9,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11132,85486f9d3edfa08a827037e556924b1aeb7069d9,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11133,85486f9d3edfa08a827037e556924b1aeb7069d9,/7/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
11134,85486f9d3edfa08a827037e556924b1aeb7069d9,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11135,85486f9d3edfa08a827037e556924b1aeb7069d9,/7/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
11136,85486f9d3edfa08a827037e556924b1aeb7069d9,/7/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11137,85486f9d3edfa08a827037e556924b1aeb7069d9,/7/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
11138,b3d669ee040a6635efaef631eec18971eaf97147,/Dockerfile.template,"# let ""Tomcat Native"" live somewhere isolated
"
11139,b3d669ee040a6635efaef631eec18971eaf97147,/Dockerfile.template,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
11140,b3d669ee040a6635efaef631eec18971eaf97147,/Dockerfile.template,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
11141,b3d669ee040a6635efaef631eec18971eaf97147,/Dockerfile.template,"# except OpenSSL, which is the reason we're here
"
11142,b3d669ee040a6635efaef631eec18971eaf97147,/Dockerfile.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11143,b3d669ee040a6635efaef631eec18971eaf97147,/Dockerfile.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11144,b3d669ee040a6635efaef631eec18971eaf97147,/Dockerfile.template,"# not all the mirrors actually carry the .asc files :'(
"
11145,b3d669ee040a6635efaef631eec18971eaf97147,/Dockerfile.template,"# verify Tomcat Native is working properly
"
11146,92b97a945a2241f868a91d2919e0e7e3f5c84216,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
11147,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11148,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11149,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
11150,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
11151,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
11152,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11153,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11154,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
11155,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
11156,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
11157,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
11158,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
11159,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11160,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11161,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11162,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
11163,f26c14147f9affae8f32100430130271fc82bd3e,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11164,f26c14147f9affae8f32100430130271fc82bd3e,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
11165,f26c14147f9affae8f32100430130271fc82bd3e,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
11166,f26c14147f9affae8f32100430130271fc82bd3e,/9.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
11167,f26c14147f9affae8f32100430130271fc82bd3e,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11168,f26c14147f9affae8f32100430130271fc82bd3e,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11169,f26c14147f9affae8f32100430130271fc82bd3e,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11170,f26c14147f9affae8f32100430130271fc82bd3e,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
11171,7d5b334fc0770be842991ed9d8168c5b1ebb86f8,/8-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
11172,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11173,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
11174,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
11175,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
11176,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
11177,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11178,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11179,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
11180,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11181,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11182,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11183,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
11184,075a394e34f7329415e87ad5f0d77d46aac24876,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11185,075a394e34f7329415e87ad5f0d77d46aac24876,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11186,075a394e34f7329415e87ad5f0d77d46aac24876,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11187,075a394e34f7329415e87ad5f0d77d46aac24876,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11188,075a394e34f7329415e87ad5f0d77d46aac24876,/9.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
11189,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11190,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11191,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
11192,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
11193,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
11194,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11195,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11196,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
11197,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
11198,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
11199,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
11200,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11201,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11202,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11203,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
11204,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11205,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11206,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11207,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11208,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
11209,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
11210,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
11211,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11212,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11213,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11214,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11215,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
11216,6f1c628fa92feea8b28e98e56a990500f2326936,/7-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
11217,a227157792e94c669148c3c2a09072fb317070e0,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11218,a227157792e94c669148c3c2a09072fb317070e0,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
11219,a227157792e94c669148c3c2a09072fb317070e0,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
11220,a227157792e94c669148c3c2a09072fb317070e0,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
11221,a227157792e94c669148c3c2a09072fb317070e0,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
11222,a227157792e94c669148c3c2a09072fb317070e0,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11223,a227157792e94c669148c3c2a09072fb317070e0,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11224,a227157792e94c669148c3c2a09072fb317070e0,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11225,a227157792e94c669148c3c2a09072fb317070e0,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11226,a227157792e94c669148c3c2a09072fb317070e0,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
11227,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre9-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11228,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre9-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
11229,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre9-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
11230,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre9-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
11231,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre9-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
11232,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre9-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11233,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre9-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11234,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre9-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
11235,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre9-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11236,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre9-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11237,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre9-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11238,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre9-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
11239,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre7-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11240,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre7-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
11241,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre7-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
11242,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre7-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
11243,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre7-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
11244,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre7-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11245,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre7-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11246,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre7-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
11247,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre7-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11248,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre7-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11249,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre7-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11250,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre7-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
11251,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11252,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
11253,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
11254,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
11255,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
11256,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11257,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11258,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
11259,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11260,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11261,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11262,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11263,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11264,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
11265,db35ce4f9b3ea68419f5c0a908cbf83343bbc0ca,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11266,db35ce4f9b3ea68419f5c0a908cbf83343bbc0ca,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
11267,db35ce4f9b3ea68419f5c0a908cbf83343bbc0ca,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
11268,db35ce4f9b3ea68419f5c0a908cbf83343bbc0ca,/8.5/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
11269,db35ce4f9b3ea68419f5c0a908cbf83343bbc0ca,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11270,db35ce4f9b3ea68419f5c0a908cbf83343bbc0ca,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11271,db35ce4f9b3ea68419f5c0a908cbf83343bbc0ca,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11272,db35ce4f9b3ea68419f5c0a908cbf83343bbc0ca,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
11273,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11274,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11275,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11276,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11277,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
11278,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
11279,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
11280,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11281,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11282,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11283,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11284,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
11285,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11286,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11287,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11288,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11289,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
11290,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
11291,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11292,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11293,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11294,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11295,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
11296,ec75141e3cb6276b07d66c16042152e2d4de119c,/8.0/jre7/Dockerfile,"# runtime dependency for Tomcat Native Libraries
"
11297,ec75141e3cb6276b07d66c16042152e2d4de119c,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
11298,ec75141e3cb6276b07d66c16042152e2d4de119c,/8.0/jre7/Dockerfile,"# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)

"
11299,ec75141e3cb6276b07d66c16042152e2d4de119c,/8.0/jre7/Dockerfile,"# http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5048274.html (ie, HACK HACK HACK)
"
11300,ec75141e3cb6276b07d66c16042152e2d4de119c,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
11301,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11302,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11303,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
11304,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
11305,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
11306,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11307,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11308,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-oracle/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
11309,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-oracle/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
11310,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-oracle/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
11311,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
11312,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
11313,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11314,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11315,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11316,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
11317,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11318,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11319,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11320,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11321,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11322,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11323,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11324,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11325,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
11326,e06eaa32013932a95835399c0ae4a497134db0a5,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11327,e06eaa32013932a95835399c0ae4a497134db0a5,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
11328,e06eaa32013932a95835399c0ae4a497134db0a5,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
11329,e06eaa32013932a95835399c0ae4a497134db0a5,/8.5/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
11330,e06eaa32013932a95835399c0ae4a497134db0a5,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11331,e06eaa32013932a95835399c0ae4a497134db0a5,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11332,e06eaa32013932a95835399c0ae4a497134db0a5,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11333,e06eaa32013932a95835399c0ae4a497134db0a5,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
11334,ed98c30c1cd42c53831f64dffa78a0abf7db8e9a,/8-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
11335,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11336,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
11337,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
11338,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
11339,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
11340,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11341,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11342,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11343,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre7/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
11344,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11345,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
11346,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11347,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
11348,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
11349,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
11350,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
11351,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11352,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11353,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
11354,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11355,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11356,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11357,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11358,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11359,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk8/Dockerfile,"# verify Tomcat Native is working properly
"
11360,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11361,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11362,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
11363,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
11364,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
11365,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11366,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11367,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-oracle/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
11368,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-oracle/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
11369,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-oracle/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
11370,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
11371,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
11372,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11373,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11374,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11375,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
11376,d9a438155caff88fad8114297954e2347b534ce3,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11377,d9a438155caff88fad8114297954e2347b534ce3,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
11378,d9a438155caff88fad8114297954e2347b534ce3,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
11379,d9a438155caff88fad8114297954e2347b534ce3,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
11380,d9a438155caff88fad8114297954e2347b534ce3,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
11381,d9a438155caff88fad8114297954e2347b534ce3,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11382,d9a438155caff88fad8114297954e2347b534ce3,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11383,d9a438155caff88fad8114297954e2347b534ce3,/8.5/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
11384,d9a438155caff88fad8114297954e2347b534ce3,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11385,d9a438155caff88fad8114297954e2347b534ce3,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11386,d9a438155caff88fad8114297954e2347b534ce3,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
11387,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11388,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11389,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
11390,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
11391,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
11392,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11393,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11394,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
11395,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
11396,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
11397,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
11398,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11399,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11400,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11401,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
11402,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11403,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11404,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11405,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11406,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11407,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11408,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11409,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11410,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
11411,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11412,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
11413,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
11414,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
11415,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
11416,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11417,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11418,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
11419,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11420,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11421,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11422,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11423,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11424,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
11425,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre7-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11426,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre7-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
11427,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre7-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
11428,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre7-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
11429,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre7-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
11430,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre7-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11431,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre7-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11432,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre7-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
11433,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre7-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11434,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre7-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11435,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre7-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11436,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre7-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
11437,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11438,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11439,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11440,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11441,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre8-alpine/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
11442,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11443,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
11444,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11445,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11446,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11447,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11448,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/9.0/jre8-alpine/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
11449,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/9.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
11450,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/9.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11451,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/9.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
11452,f26c14147f9affae8f32100430130271fc82bd3e,/6/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11453,f26c14147f9affae8f32100430130271fc82bd3e,/6/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
11454,f26c14147f9affae8f32100430130271fc82bd3e,/6/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
11455,f26c14147f9affae8f32100430130271fc82bd3e,/6/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
11456,f26c14147f9affae8f32100430130271fc82bd3e,/6/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11457,f26c14147f9affae8f32100430130271fc82bd3e,/6/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11458,f26c14147f9affae8f32100430130271fc82bd3e,/6/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11459,f26c14147f9affae8f32100430130271fc82bd3e,/6/jre8/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
11460,58c79694a83a12077150ad57b8dd46296548b958,/8.5/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11461,58c79694a83a12077150ad57b8dd46296548b958,/8.5/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11462,58c79694a83a12077150ad57b8dd46296548b958,/8.5/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11463,58c79694a83a12077150ad57b8dd46296548b958,/8.5/jdk11/corretto/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
11464,58c79694a83a12077150ad57b8dd46296548b958,/8.5/jdk11/corretto/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11465,58c79694a83a12077150ad57b8dd46296548b958,/8.5/jdk11/corretto/Dockerfile,"# TODO should we leave these installed, or remove them too?
"
11466,58c79694a83a12077150ad57b8dd46296548b958,/8.5/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html (updating ""reason"" to ""user"" for tomcat-native build dependencies)
# TODO find a better/cleaner way to generically interact with the yumdb for the purposes of marking things as automatically/manually installed
"
11467,58c79694a83a12077150ad57b8dd46296548b958,/8.5/jdk11/corretto/Dockerfile,"# TODO handle ""$nativeBuildDeps"" in a similarly generic way?
"
11468,58c79694a83a12077150ad57b8dd46296548b958,/8.5/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11469,58c79694a83a12077150ad57b8dd46296548b958,/8.5/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11470,58c79694a83a12077150ad57b8dd46296548b958,/8.5/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11471,58c79694a83a12077150ad57b8dd46296548b958,/8.5/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
11472,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11473,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11474,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
11475,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
11476,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
11477,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11478,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11479,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
11480,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
11481,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
11482,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
11483,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
11484,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11485,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11486,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11487,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
11488,06a7e79e30595058df3c2fec9c769e47e2bca56d,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11489,06a7e79e30595058df3c2fec9c769e47e2bca56d,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
11490,06a7e79e30595058df3c2fec9c769e47e2bca56d,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
11491,06a7e79e30595058df3c2fec9c769e47e2bca56d,/7/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
11492,06a7e79e30595058df3c2fec9c769e47e2bca56d,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11493,06a7e79e30595058df3c2fec9c769e47e2bca56d,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11494,06a7e79e30595058df3c2fec9c769e47e2bca56d,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11495,06a7e79e30595058df3c2fec9c769e47e2bca56d,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
11496,0e9a915bf893faa9160ab1a144c7ba5049a4fe27,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11497,0e9a915bf893faa9160ab1a144c7ba5049a4fe27,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11498,0e9a915bf893faa9160ab1a144c7ba5049a4fe27,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11499,0e9a915bf893faa9160ab1a144c7ba5049a4fe27,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11500,0e9a915bf893faa9160ab1a144c7ba5049a4fe27,/7/jre7-alpine/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
11501,0e9a915bf893faa9160ab1a144c7ba5049a4fe27,/7/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11502,0e9a915bf893faa9160ab1a144c7ba5049a4fe27,/7/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
11503,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11504,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11505,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11506,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11507,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11508,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11509,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11510,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11511,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
11512,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11513,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
11514,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
11515,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
11516,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
11517,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11518,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11519,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
11520,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11521,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11522,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11523,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11524,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11525,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
11526,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11527,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
11528,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
11529,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
11530,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
11531,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11532,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11533,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
11534,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11535,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11536,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11537,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11538,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11539,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
11540,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11541,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
11542,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
11543,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
11544,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
11545,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11546,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11547,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
11548,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11549,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11550,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
11551,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11552,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11553,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11554,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11555,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
11556,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
11557,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11558,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11559,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11560,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11561,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
11562,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11563,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11564,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
11565,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
11566,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
11567,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11568,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11569,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
11570,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
11571,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11572,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11573,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11574,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
11575,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre9-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11576,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre9-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
11577,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre9-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
11578,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre9-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
11579,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre9-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
11580,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre9-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11581,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre9-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11582,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre9-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
11583,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre9-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11584,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre9-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11585,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre9-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11586,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre9-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
11587,fa5fe9c4327c92a99fa2ae63ff876acc8e5389e5,/7-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
11588,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11589,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11590,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11591,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11592,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
11593,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
11594,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
11595,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11596,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11597,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11598,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11599,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
11600,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11601,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11602,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11603,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11604,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11605,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11606,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11607,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11608,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
11609,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11610,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11611,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11612,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11613,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
11614,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
11615,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11616,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11617,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11618,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11619,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
11620,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11621,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11622,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11623,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11624,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/openjdk-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
11625,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
11626,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
11627,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11628,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11629,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11630,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11631,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
11632,d759792f71eb5889c1e73c01d47a2e1b2a6bae7b,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11633,d759792f71eb5889c1e73c01d47a2e1b2a6bae7b,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
11634,d759792f71eb5889c1e73c01d47a2e1b2a6bae7b,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
11635,d759792f71eb5889c1e73c01d47a2e1b2a6bae7b,/9.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
11636,d759792f71eb5889c1e73c01d47a2e1b2a6bae7b,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11637,d759792f71eb5889c1e73c01d47a2e1b2a6bae7b,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11638,d759792f71eb5889c1e73c01d47a2e1b2a6bae7b,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11639,d759792f71eb5889c1e73c01d47a2e1b2a6bae7b,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
11640,1691653797eb1f26b4e1d4898c71094ff9104e0e,/6-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
11641,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11642,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
11643,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
11644,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
11645,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
11646,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11647,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11648,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
11649,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11650,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre7/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11651,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11652,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
11653,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11654,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11655,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11656,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11657,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
11658,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
11659,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11660,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11661,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11662,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11663,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
11664,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk13/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11665,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk13/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11666,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk13/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
11667,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk13/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
11668,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk13/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
11669,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk13/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11670,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk13/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11671,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk13/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
11672,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk13/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
11673,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk13/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11674,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk13/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11675,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk13/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11676,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk13/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
11677,9040855496452d91d7b0d8abbfd70c60448a07a1,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11678,9040855496452d91d7b0d8abbfd70c60448a07a1,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11679,9040855496452d91d7b0d8abbfd70c60448a07a1,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11680,9040855496452d91d7b0d8abbfd70c60448a07a1,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11681,9040855496452d91d7b0d8abbfd70c60448a07a1,/8.5/jre8-alpine/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
11682,9040855496452d91d7b0d8abbfd70c60448a07a1,/8.5/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11683,9040855496452d91d7b0d8abbfd70c60448a07a1,/8.5/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
11684,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11685,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
11686,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
11687,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
11688,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
11689,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11690,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11691,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
11692,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11693,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11694,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11695,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
11696,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11697,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
11698,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
11699,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
11700,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
11701,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11702,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11703,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
11704,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11705,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11706,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11707,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
11708,9440e94bb99dbb82354c6e46a86a4f3228021956,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11709,9440e94bb99dbb82354c6e46a86a4f3228021956,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
11710,9440e94bb99dbb82354c6e46a86a4f3228021956,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
11711,9440e94bb99dbb82354c6e46a86a4f3228021956,/8.0/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
11712,9440e94bb99dbb82354c6e46a86a4f3228021956,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
11713,9440e94bb99dbb82354c6e46a86a4f3228021956,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11714,9440e94bb99dbb82354c6e46a86a4f3228021956,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11715,9440e94bb99dbb82354c6e46a86a4f3228021956,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
11716,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11717,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11718,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11719,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11720,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
11721,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
11722,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11723,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11724,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11725,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11726,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
11727,86d4d5031e14a9274e1fa2bd4211ab03440e883d,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11728,86d4d5031e14a9274e1fa2bd4211ab03440e883d,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11729,86d4d5031e14a9274e1fa2bd4211ab03440e883d,/8.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11730,86d4d5031e14a9274e1fa2bd4211ab03440e883d,/8.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11731,86d4d5031e14a9274e1fa2bd4211ab03440e883d,/8.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
11732,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11733,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11734,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
11735,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
11736,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
11737,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11738,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11739,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
11740,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
11741,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11742,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11743,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11744,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
11745,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11746,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11747,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
11748,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
11749,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
11750,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11751,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11752,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
11753,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
11754,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11755,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11756,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11757,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
11758,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11759,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11760,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
11761,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
11762,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
11763,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11764,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11765,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
11766,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
11767,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
11768,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
11769,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
11770,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11771,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11772,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11773,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
11774,19bdd962a61b69e3a35ddc0a8936854cc2e405f6,/8.0/jre8/Dockerfile,"# runtime dependency for Tomcat Native Libraries
"
11775,19bdd962a61b69e3a35ddc0a8936854cc2e405f6,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
11776,19bdd962a61b69e3a35ddc0a8936854cc2e405f6,/8.0/jre8/Dockerfile,"# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)

"
11777,19bdd962a61b69e3a35ddc0a8936854cc2e405f6,/8.0/jre8/Dockerfile,"# http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5048274.html (ie, HACK HACK HACK)
"
11778,19bdd962a61b69e3a35ddc0a8936854cc2e405f6,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
11779,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11780,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11781,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11782,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11783,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
11784,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
11785,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
11786,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11787,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11788,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11789,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11790,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
11791,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11792,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11793,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11794,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11795,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
11796,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
11797,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
11798,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11799,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11800,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11801,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11802,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
11803,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11804,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11805,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11806,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11807,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
11808,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
11809,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11810,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11811,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11812,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11813,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
11814,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11815,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11816,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11817,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11818,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
11819,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
11820,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
11821,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11822,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11823,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11824,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11825,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
11826,7fe8b97db15cdd3139efe72fcaeee53910560e19,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11827,7fe8b97db15cdd3139efe72fcaeee53910560e19,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11828,7fe8b97db15cdd3139efe72fcaeee53910560e19,/8.0/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11829,7fe8b97db15cdd3139efe72fcaeee53910560e19,/8.0/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
11830,7fe8b97db15cdd3139efe72fcaeee53910560e19,/8.0/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11831,7fe8b97db15cdd3139efe72fcaeee53910560e19,/8.0/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
11832,7fe8b97db15cdd3139efe72fcaeee53910560e19,/8.0/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11833,7fe8b97db15cdd3139efe72fcaeee53910560e19,/8.0/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
11834,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11835,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11836,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11837,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11838,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
11839,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
11840,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11841,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11842,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11843,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11844,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
11845,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk13/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11846,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk13/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11847,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk13/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
11848,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk13/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
11849,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk13/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
11850,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk13/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11851,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk13/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11852,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk13/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
11853,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk13/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
11854,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk13/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11855,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk13/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11856,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk13/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11857,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk13/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
11858,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11859,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11860,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11861,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11862,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
11863,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
11864,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
11865,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11866,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11867,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11868,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11869,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
11870,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre7-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11871,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre7-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
11872,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre7-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
11873,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre7-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
11874,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre7-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
11875,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre7-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11876,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre7-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11877,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre7-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
11878,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre7-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11879,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre7-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11880,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre7-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11881,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre7-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
11882,4d9eeecc2d0ed70ae63b48eb203a4bc4c76481ad,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11883,4d9eeecc2d0ed70ae63b48eb203a4bc4c76481ad,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
11884,4d9eeecc2d0ed70ae63b48eb203a4bc4c76481ad,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
11885,4d9eeecc2d0ed70ae63b48eb203a4bc4c76481ad,/8.5/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
11886,4d9eeecc2d0ed70ae63b48eb203a4bc4c76481ad,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11887,4d9eeecc2d0ed70ae63b48eb203a4bc4c76481ad,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11888,4d9eeecc2d0ed70ae63b48eb203a4bc4c76481ad,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11889,4d9eeecc2d0ed70ae63b48eb203a4bc4c76481ad,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
11890,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11891,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11892,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11893,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11894,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11895,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11896,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11897,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11898,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
11899,f4c146bcc2f16fd1d2919a392adb46c737851dc9,/6/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11900,f4c146bcc2f16fd1d2919a392adb46c737851dc9,/6/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
11901,f4c146bcc2f16fd1d2919a392adb46c737851dc9,/6/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
11902,f4c146bcc2f16fd1d2919a392adb46c737851dc9,/6/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
11903,f4c146bcc2f16fd1d2919a392adb46c737851dc9,/6/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11904,f4c146bcc2f16fd1d2919a392adb46c737851dc9,/6/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11905,f4c146bcc2f16fd1d2919a392adb46c737851dc9,/6/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11906,f4c146bcc2f16fd1d2919a392adb46c737851dc9,/6/jre7/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
11907,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11908,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11909,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11910,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11911,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
11912,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
11913,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11914,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11915,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11916,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11917,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
11918,a227157792e94c669148c3c2a09072fb317070e0,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11919,a227157792e94c669148c3c2a09072fb317070e0,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11920,a227157792e94c669148c3c2a09072fb317070e0,/8.0/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11921,a227157792e94c669148c3c2a09072fb317070e0,/8.0/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11922,a227157792e94c669148c3c2a09072fb317070e0,/8.0/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11923,a227157792e94c669148c3c2a09072fb317070e0,/8.0/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
11924,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre7-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11925,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre7-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
11926,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre7-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
11927,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre7-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
11928,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre7-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
11929,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre7-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11930,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre7-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11931,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre7-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
11932,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre7-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11933,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre7-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11934,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre7-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11935,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre7-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
11936,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11937,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11938,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11939,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11940,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
11941,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
11942,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
11943,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11944,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11945,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11946,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11947,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
11948,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11949,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11950,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11951,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11952,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
11953,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
11954,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
11955,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11956,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11957,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11958,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11959,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
11960,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11961,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11962,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11963,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11964,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11965,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11966,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11967,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11968,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
11969,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre7-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11970,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre7-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
11971,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre7-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
11972,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre7-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
11973,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre7-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
11974,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre7-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11975,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre7-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11976,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre7-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
11977,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre7-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11978,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre7-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11979,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre7-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11980,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre7-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
11981,4b8ed1747ba0a6e5c9f859e518cecced13335d82,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11982,4b8ed1747ba0a6e5c9f859e518cecced13335d82,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11983,4b8ed1747ba0a6e5c9f859e518cecced13335d82,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11984,4b8ed1747ba0a6e5c9f859e518cecced13335d82,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11985,4b8ed1747ba0a6e5c9f859e518cecced13335d82,/7/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
11986,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11987,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11988,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11989,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11990,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
11991,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
11992,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11993,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11994,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11995,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11996,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
11997,4e9726eb5182dd6fe93402485b9db4aae22177e1,/8-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
11998,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11999,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12000,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12001,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
12002,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
12003,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
12004,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
12005,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12006,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12007,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12008,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12009,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
12010,7c4365e43f352c981a97eae5090bb055a68ff6a9,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
12011,7c4365e43f352c981a97eae5090bb055a68ff6a9,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
12012,7c4365e43f352c981a97eae5090bb055a68ff6a9,/7/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
12013,7c4365e43f352c981a97eae5090bb055a68ff6a9,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
12014,7c4365e43f352c981a97eae5090bb055a68ff6a9,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
12015,9b435c815366378b65a78fa84d3bed5642fddaa6,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12016,9b435c815366378b65a78fa84d3bed5642fddaa6,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
12017,9b435c815366378b65a78fa84d3bed5642fddaa6,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12018,9b435c815366378b65a78fa84d3bed5642fddaa6,/8.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
12019,9b435c815366378b65a78fa84d3bed5642fddaa6,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12020,9b435c815366378b65a78fa84d3bed5642fddaa6,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12021,9b435c815366378b65a78fa84d3bed5642fddaa6,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12022,9b435c815366378b65a78fa84d3bed5642fddaa6,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
12023,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre11-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12024,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre11-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
12025,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre11-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
12026,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre11-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12027,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre11-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
12028,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre11-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12029,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre11-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12030,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre11-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12031,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre11-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12032,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre11-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12033,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre11-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12034,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre11-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12035,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre11-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12036,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre11-slim/Dockerfile,"# verify Tomcat Native is working properly
"
12037,437ad1d98f2ca7667df856d13922b23a22b719d0,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12038,437ad1d98f2ca7667df856d13922b23a22b719d0,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
12039,437ad1d98f2ca7667df856d13922b23a22b719d0,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12040,437ad1d98f2ca7667df856d13922b23a22b719d0,/7/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
12041,437ad1d98f2ca7667df856d13922b23a22b719d0,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12042,437ad1d98f2ca7667df856d13922b23a22b719d0,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12043,437ad1d98f2ca7667df856d13922b23a22b719d0,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12044,437ad1d98f2ca7667df856d13922b23a22b719d0,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
12045,a436a06d8fb281a85596dab283a1ee41193b97b3,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12046,a436a06d8fb281a85596dab283a1ee41193b97b3,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
12047,a436a06d8fb281a85596dab283a1ee41193b97b3,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12048,a436a06d8fb281a85596dab283a1ee41193b97b3,/7/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
12049,a436a06d8fb281a85596dab283a1ee41193b97b3,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12050,a436a06d8fb281a85596dab283a1ee41193b97b3,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12051,a436a06d8fb281a85596dab283a1ee41193b97b3,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12052,a436a06d8fb281a85596dab283a1ee41193b97b3,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
12053,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12054,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
12055,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
12056,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/8.5/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
12057,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
12058,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
12059,35e89070548111261cf6a9e9398556d5b2c4f7f7,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12060,35e89070548111261cf6a9e9398556d5b2c4f7f7,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
12061,35e89070548111261cf6a9e9398556d5b2c4f7f7,/7/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
12062,35e89070548111261cf6a9e9398556d5b2c4f7f7,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12063,35e89070548111261cf6a9e9398556d5b2c4f7f7,/7/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
12064,35e89070548111261cf6a9e9398556d5b2c4f7f7,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12065,35e89070548111261cf6a9e9398556d5b2c4f7f7,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12066,35e89070548111261cf6a9e9398556d5b2c4f7f7,/7/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12067,35e89070548111261cf6a9e9398556d5b2c4f7f7,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12068,35e89070548111261cf6a9e9398556d5b2c4f7f7,/7/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12069,35e89070548111261cf6a9e9398556d5b2c4f7f7,/7/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
12070,b1a8927025d9a0c01494d7fbc1ae06cd269bb2f8,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12071,b1a8927025d9a0c01494d7fbc1ae06cd269bb2f8,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
12072,b1a8927025d9a0c01494d7fbc1ae06cd269bb2f8,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12073,b1a8927025d9a0c01494d7fbc1ae06cd269bb2f8,/8.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
12074,b1a8927025d9a0c01494d7fbc1ae06cd269bb2f8,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12075,b1a8927025d9a0c01494d7fbc1ae06cd269bb2f8,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12076,b1a8927025d9a0c01494d7fbc1ae06cd269bb2f8,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12077,b1a8927025d9a0c01494d7fbc1ae06cd269bb2f8,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
12078,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12079,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12080,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12081,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12082,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12083,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
12084,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12085,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
12086,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12087,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12088,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12089,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
12090,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
12091,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
12092,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12093,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12094,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12095,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12096,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
12097,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12098,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
12099,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
12100,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12101,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
12102,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12103,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12104,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12105,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12106,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12107,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12108,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
12109,989f50ed5db788921a4954109b90362e2209295e,/6/jre7/Dockerfile,"# runtime dependency for Tomcat Native Libraries
"
12110,989f50ed5db788921a4954109b90362e2209295e,/6/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
12111,989f50ed5db788921a4954109b90362e2209295e,/6/jre7/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
12112,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12113,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12114,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12115,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
12116,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
12117,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
12118,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12119,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12120,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12121,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12122,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
12123,989f50ed5db788921a4954109b90362e2209295e,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12124,989f50ed5db788921a4954109b90362e2209295e,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
12125,989f50ed5db788921a4954109b90362e2209295e,/9.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
12126,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12127,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12128,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12129,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12130,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12131,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
12132,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12133,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
12134,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12135,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
12136,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
12137,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12138,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
12139,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12140,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12141,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12142,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12143,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12144,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12145,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
12146,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12147,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12148,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12149,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
12150,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12151,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12152,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12153,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12154,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
12155,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12156,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12157,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
12158,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
12159,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
12160,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12161,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
12162,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
12163,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
12164,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
12165,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# mark any explicit dependencies as manually installed
"
12166,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
12167,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12168,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12169,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12170,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# verify Tomcat Native is working properly
"
12171,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/Dockerfile-alpine.template,"# let ""Tomcat Native"" live somewhere isolated
"
12172,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/Dockerfile-alpine.template,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
12173,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/Dockerfile-alpine.template,"# verify Tomcat Native is working properly
"
12174,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12175,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
12176,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/9.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
12177,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre10-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12178,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre10-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
12179,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre10-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
12180,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre10-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12181,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre10-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
12182,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre10-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12183,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre10-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12184,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre10-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12185,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre10-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12186,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre10-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12187,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre10-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12188,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre10-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
12189,8c3a43c1c4f400ab9dfe6c5fe638b9c5264392c5,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12190,8c3a43c1c4f400ab9dfe6c5fe638b9c5264392c5,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
12191,8c3a43c1c4f400ab9dfe6c5fe638b9c5264392c5,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
12192,8c3a43c1c4f400ab9dfe6c5fe638b9c5264392c5,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12193,8c3a43c1c4f400ab9dfe6c5fe638b9c5264392c5,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
12194,8c3a43c1c4f400ab9dfe6c5fe638b9c5264392c5,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12195,8c3a43c1c4f400ab9dfe6c5fe638b9c5264392c5,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12196,8c3a43c1c4f400ab9dfe6c5fe638b9c5264392c5,/9.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12197,8c3a43c1c4f400ab9dfe6c5fe638b9c5264392c5,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12198,8c3a43c1c4f400ab9dfe6c5fe638b9c5264392c5,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12199,8c3a43c1c4f400ab9dfe6c5fe638b9c5264392c5,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
12200,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12201,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre9/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
12202,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre9/Dockerfile,"# only add stretch if we're not already building from within stretch
"
12203,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre9/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12204,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre9/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
12205,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12206,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12207,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre9/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12208,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre9/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12209,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12210,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12211,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
12212,a3690c7d71d468e51f0c01ded83f79c7686a2a35,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12213,a3690c7d71d468e51f0c01ded83f79c7686a2a35,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12214,a3690c7d71d468e51f0c01ded83f79c7686a2a35,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12215,a3690c7d71d468e51f0c01ded83f79c7686a2a35,/9.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12216,a3690c7d71d468e51f0c01ded83f79c7686a2a35,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12217,a3690c7d71d468e51f0c01ded83f79c7686a2a35,/9.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
12218,a3690c7d71d468e51f0c01ded83f79c7686a2a35,/9.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12219,a3690c7d71d468e51f0c01ded83f79c7686a2a35,/9.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12220,a3690c7d71d468e51f0c01ded83f79c7686a2a35,/9.0/jre8-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12221,a3690c7d71d468e51f0c01ded83f79c7686a2a35,/9.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
12222,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12223,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
12224,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
12225,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12226,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
12227,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12228,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12229,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12230,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12231,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12232,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12233,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12234,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12235,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
12236,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12237,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12238,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12239,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
12240,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
12241,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
12242,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12243,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12244,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12245,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12246,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
12247,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12248,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
12249,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
12250,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12251,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
12252,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12253,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12254,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12255,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12256,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12257,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12258,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
12259,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12260,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12261,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12262,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
12263,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
12264,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
12265,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12266,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12267,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12268,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12269,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
12270,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12271,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
12272,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
12273,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12274,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
12275,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12276,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12277,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12278,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12279,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre7/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12280,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12281,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
12282,4b8ed1747ba0a6e5c9f859e518cecced13335d82,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12283,4b8ed1747ba0a6e5c9f859e518cecced13335d82,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12284,4b8ed1747ba0a6e5c9f859e518cecced13335d82,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12285,4b8ed1747ba0a6e5c9f859e518cecced13335d82,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12286,4b8ed1747ba0a6e5c9f859e518cecced13335d82,/7/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
12287,cd46dd92802bc82fb544906ae8b0108996c5de65,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12288,cd46dd92802bc82fb544906ae8b0108996c5de65,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12289,cd46dd92802bc82fb544906ae8b0108996c5de65,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12290,cd46dd92802bc82fb544906ae8b0108996c5de65,/8.5/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12291,cd46dd92802bc82fb544906ae8b0108996c5de65,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12292,cd46dd92802bc82fb544906ae8b0108996c5de65,/8.5/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
12293,cd46dd92802bc82fb544906ae8b0108996c5de65,/8.5/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12294,cd46dd92802bc82fb544906ae8b0108996c5de65,/8.5/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
12295,a227157792e94c669148c3c2a09072fb317070e0,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12296,a227157792e94c669148c3c2a09072fb317070e0,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12297,a227157792e94c669148c3c2a09072fb317070e0,/8.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12298,a227157792e94c669148c3c2a09072fb317070e0,/8.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12299,a227157792e94c669148c3c2a09072fb317070e0,/8.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12300,a227157792e94c669148c3c2a09072fb317070e0,/8.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
12301,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12302,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12303,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12304,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
12305,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12306,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12307,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12308,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12309,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
12310,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12311,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
12312,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
12313,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12314,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
12315,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12316,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12317,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12318,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12319,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12320,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12321,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
12322,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre7-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12323,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre7-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
12324,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre7-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
12325,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre7-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12326,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre7-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
12327,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre7-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12328,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre7-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12329,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre7-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12330,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre7-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12331,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre7-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12332,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre7-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12333,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre7-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12334,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre7-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12335,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre7-slim/Dockerfile,"# verify Tomcat Native is working properly
"
12336,81c66e2e695ad5548b726841c00512a9acf18eb5,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12337,81c66e2e695ad5548b726841c00512a9acf18eb5,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
12338,81c66e2e695ad5548b726841c00512a9acf18eb5,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
12339,81c66e2e695ad5548b726841c00512a9acf18eb5,/7/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
12340,81c66e2e695ad5548b726841c00512a9acf18eb5,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
12341,81c66e2e695ad5548b726841c00512a9acf18eb5,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12342,81c66e2e695ad5548b726841c00512a9acf18eb5,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12343,81c66e2e695ad5548b726841c00512a9acf18eb5,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
12344,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12345,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12346,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12347,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
12348,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12349,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12350,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12351,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12352,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
12353,06a7e79e30595058df3c2fec9c769e47e2bca56d,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12354,06a7e79e30595058df3c2fec9c769e47e2bca56d,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
12355,06a7e79e30595058df3c2fec9c769e47e2bca56d,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12356,06a7e79e30595058df3c2fec9c769e47e2bca56d,/8.5/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
12357,06a7e79e30595058df3c2fec9c769e47e2bca56d,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12358,06a7e79e30595058df3c2fec9c769e47e2bca56d,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12359,06a7e79e30595058df3c2fec9c769e47e2bca56d,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12360,06a7e79e30595058df3c2fec9c769e47e2bca56d,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
12361,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12362,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
12363,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
12364,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/8.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
12365,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
12366,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
12367,496bb4416155dff1cb794498fd003e74a22c55fa,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12368,496bb4416155dff1cb794498fd003e74a22c55fa,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12369,496bb4416155dff1cb794498fd003e74a22c55fa,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12370,496bb4416155dff1cb794498fd003e74a22c55fa,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12371,496bb4416155dff1cb794498fd003e74a22c55fa,/8.5/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
12372,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12373,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12374,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12375,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
12376,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12377,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12378,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12379,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12380,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
12381,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12382,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
12383,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
12384,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12385,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
12386,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12387,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12388,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12389,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12390,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12391,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12392,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
12393,7fe8b97db15cdd3139efe72fcaeee53910560e19,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12394,7fe8b97db15cdd3139efe72fcaeee53910560e19,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12395,7fe8b97db15cdd3139efe72fcaeee53910560e19,/8.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12396,7fe8b97db15cdd3139efe72fcaeee53910560e19,/8.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12397,7fe8b97db15cdd3139efe72fcaeee53910560e19,/8.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12398,7fe8b97db15cdd3139efe72fcaeee53910560e19,/8.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
12399,7fe8b97db15cdd3139efe72fcaeee53910560e19,/8.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12400,7fe8b97db15cdd3139efe72fcaeee53910560e19,/8.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
12401,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12402,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12403,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
12404,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
12405,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
12406,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12407,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
12408,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
12409,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
12410,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
12411,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
12412,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12413,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12414,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12415,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
12416,86d4d5031e14a9274e1fa2bd4211ab03440e883d,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12417,86d4d5031e14a9274e1fa2bd4211ab03440e883d,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12418,86d4d5031e14a9274e1fa2bd4211ab03440e883d,/8.0/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12419,86d4d5031e14a9274e1fa2bd4211ab03440e883d,/8.0/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12420,86d4d5031e14a9274e1fa2bd4211ab03440e883d,/8.0/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
12421,0f87a57ed953808a7c8d4ffaab5b112c42fb7431,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12422,0f87a57ed953808a7c8d4ffaab5b112c42fb7431,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12423,0f87a57ed953808a7c8d4ffaab5b112c42fb7431,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12424,0f87a57ed953808a7c8d4ffaab5b112c42fb7431,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12425,0f87a57ed953808a7c8d4ffaab5b112c42fb7431,/9.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
12426,c5b4144188006445b32a9897f6ecd617afce7929,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12427,c5b4144188006445b32a9897f6ecd617afce7929,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
12428,c5b4144188006445b32a9897f6ecd617afce7929,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12429,c5b4144188006445b32a9897f6ecd617afce7929,/9.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
12430,c5b4144188006445b32a9897f6ecd617afce7929,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12431,c5b4144188006445b32a9897f6ecd617afce7929,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12432,c5b4144188006445b32a9897f6ecd617afce7929,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12433,c5b4144188006445b32a9897f6ecd617afce7929,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
12434,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12435,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12436,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12437,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
12438,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
12439,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
12440,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
12441,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12442,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12443,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12444,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12445,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
12446,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12447,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
12448,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
12449,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12450,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
12451,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12452,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12453,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12454,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12455,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12456,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12457,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12458,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12459,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
12460,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12461,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12462,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12463,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
12464,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
12465,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
12466,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
12467,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12468,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12469,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12470,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12471,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
12472,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre10-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12473,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre10-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
12474,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre10-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
12475,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre10-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12476,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre10-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
12477,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre10-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12478,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre10-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12479,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre10-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12480,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre10-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12481,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre10-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12482,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre10-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12483,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre10-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
12484,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12485,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
12486,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
12487,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12488,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
12489,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12490,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12491,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12492,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12493,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12494,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12495,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12496,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12497,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
12498,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre11/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12499,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre11/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
12500,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre11/Dockerfile,"# only add stretch if we're not already building from within stretch
"
12501,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre11/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12502,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre11/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
12503,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre11/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12504,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre11/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12505,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre11/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12506,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre11/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12507,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre11/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12508,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre11/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12509,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre11/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12510,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre11/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12511,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre11/Dockerfile,"# verify Tomcat Native is working properly
"
12512,2b55df5b9feaa7b8354e8b2419a88e494a110621,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12513,2b55df5b9feaa7b8354e8b2419a88e494a110621,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
12514,2b55df5b9feaa7b8354e8b2419a88e494a110621,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
12515,2b55df5b9feaa7b8354e8b2419a88e494a110621,/8.5/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
12516,2b55df5b9feaa7b8354e8b2419a88e494a110621,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
12517,2b55df5b9feaa7b8354e8b2419a88e494a110621,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12518,2b55df5b9feaa7b8354e8b2419a88e494a110621,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12519,2b55df5b9feaa7b8354e8b2419a88e494a110621,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
12520,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12521,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12522,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12523,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
12524,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
12525,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
12526,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12527,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12528,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12529,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12530,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
12531,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12532,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12533,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12534,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
12535,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
12536,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
12537,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12538,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12539,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12540,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12541,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
12542,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12543,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12544,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12545,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
12546,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
12547,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
12548,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
12549,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12550,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12551,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12552,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12553,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
12554,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12555,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
12556,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
12557,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12558,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
12559,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12560,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12561,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12562,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12563,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12564,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12565,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
12566,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12567,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12568,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
12569,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
12570,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
12571,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12572,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
12573,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
12574,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
12575,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
12576,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
12577,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
12578,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12579,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12580,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12581,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
12582,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre10/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12583,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre10/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
12584,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre10/Dockerfile,"# only add stretch if we're not already building from within stretch
"
12585,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre10/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12586,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre10/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
12587,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre10/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12588,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre10/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12589,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre10/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12590,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre10/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12591,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre10/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12592,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre10/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12593,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre10/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
12594,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12595,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12596,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12597,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
12598,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12599,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12600,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12601,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12602,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
12603,de721901dcf99bedb89af3cde8711fe84b8c680c,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12604,de721901dcf99bedb89af3cde8711fe84b8c680c,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12605,de721901dcf99bedb89af3cde8711fe84b8c680c,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12606,de721901dcf99bedb89af3cde8711fe84b8c680c,/9.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12607,de721901dcf99bedb89af3cde8711fe84b8c680c,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12608,de721901dcf99bedb89af3cde8711fe84b8c680c,/9.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
12609,de721901dcf99bedb89af3cde8711fe84b8c680c,/9.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12610,de721901dcf99bedb89af3cde8711fe84b8c680c,/9.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12611,de721901dcf99bedb89af3cde8711fe84b8c680c,/9.0/jre8-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12612,de721901dcf99bedb89af3cde8711fe84b8c680c,/9.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
12613,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12614,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12615,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12616,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
12617,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12618,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12619,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12620,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12621,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
12622,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12623,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12624,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
12625,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
12626,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
12627,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12628,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
12629,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
12630,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
12631,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
12632,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
12633,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12634,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12635,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12636,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
12637,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12638,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
12639,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
12640,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12641,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
12642,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12643,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12644,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12645,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12646,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12647,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12648,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
12649,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12650,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12651,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12652,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
12653,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
12654,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
12655,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
12656,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12657,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12658,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12659,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12660,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
12661,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/6/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12662,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/6/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
12663,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/6/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12664,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/6/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
12665,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/6/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12666,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/6/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12667,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/6/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12668,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/6/jre7/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
12669,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12670,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12671,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12672,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
12673,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
12674,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
12675,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12676,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12677,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12678,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12679,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
12680,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12681,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12682,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12683,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
12684,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12685,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12686,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12687,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12688,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
12689,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12690,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12691,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12692,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
12693,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
12694,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
12695,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
12696,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12697,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12698,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12699,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12700,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
12701,ed98c30c1cd42c53831f64dffa78a0abf7db8e9a,/6-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
12702,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12703,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12704,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12705,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12706,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12707,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
12708,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12709,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
12710,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12711,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
12712,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
12713,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12714,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
12715,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12716,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12717,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12718,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12719,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12720,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12721,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
12722,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre11/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12723,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre11/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
12724,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre11/Dockerfile,"# only add stretch if we're not already building from within stretch
"
12725,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre11/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12726,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre11/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
12727,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre11/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12728,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre11/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12729,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre11/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12730,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre11/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12731,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre11/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12732,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre11/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12733,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre11/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12734,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre11/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12735,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre11/Dockerfile,"# verify Tomcat Native is working properly
"
12736,64166c6cb450e6701d7b493d1d296c6c1c972a1e,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12737,64166c6cb450e6701d7b493d1d296c6c1c972a1e,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
12738,64166c6cb450e6701d7b493d1d296c6c1c972a1e,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12739,64166c6cb450e6701d7b493d1d296c6c1c972a1e,/8.5/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
12740,64166c6cb450e6701d7b493d1d296c6c1c972a1e,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12741,64166c6cb450e6701d7b493d1d296c6c1c972a1e,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12742,64166c6cb450e6701d7b493d1d296c6c1c972a1e,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12743,64166c6cb450e6701d7b493d1d296c6c1c972a1e,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
12744,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre9-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12745,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre9-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
12746,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre9-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
12747,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre9-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12748,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre9-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
12749,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre9-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12750,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre9-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12751,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre9-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12752,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre9-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12753,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre9-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12754,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre9-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12755,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre9-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
12756,989f50ed5db788921a4954109b90362e2209295e,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12757,989f50ed5db788921a4954109b90362e2209295e,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
12758,989f50ed5db788921a4954109b90362e2209295e,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
12759,989f50ed5db788921a4954109b90362e2209295e,/8.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
12760,989f50ed5db788921a4954109b90362e2209295e,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
12761,989f50ed5db788921a4954109b90362e2209295e,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
12762,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12763,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12764,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12765,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
12766,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12767,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12768,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12769,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12770,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
12771,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12772,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12773,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12774,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
12775,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/openjdk-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
12776,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
12777,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
12778,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12779,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12780,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12781,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12782,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
12783,59c92f282053ececa51e2afe06b6c979abae9922,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12784,59c92f282053ececa51e2afe06b6c979abae9922,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
12785,59c92f282053ececa51e2afe06b6c979abae9922,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
12786,59c92f282053ececa51e2afe06b6c979abae9922,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12787,59c92f282053ececa51e2afe06b6c979abae9922,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
12788,59c92f282053ececa51e2afe06b6c979abae9922,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12789,59c92f282053ececa51e2afe06b6c979abae9922,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12790,59c92f282053ececa51e2afe06b6c979abae9922,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12791,59c92f282053ececa51e2afe06b6c979abae9922,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12792,59c92f282053ececa51e2afe06b6c979abae9922,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
12793,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12794,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
12795,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
12796,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.0/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
12797,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12798,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12799,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12800,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
12801,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12802,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12803,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12804,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
12805,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
12806,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
12807,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
12808,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12809,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12810,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12811,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12812,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
12813,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12814,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12815,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12816,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
12817,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12818,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12819,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12820,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12821,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
12822,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12823,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12824,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12825,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
12826,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12827,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12828,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12829,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12830,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
12831,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12832,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12833,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12834,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
12835,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12836,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12837,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12838,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12839,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
12840,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre10-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12841,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre10-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
12842,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre10-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
12843,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre10-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12844,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre10-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
12845,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre10-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12846,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre10-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12847,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre10-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12848,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre10-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12849,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre10-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12850,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre10-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12851,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre10-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12852,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre10-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12853,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre10-slim/Dockerfile,"# verify Tomcat Native is working properly
"
12854,fcc0cd5d0992ec4a07f5844c98b0e3112a0568de,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12855,fcc0cd5d0992ec4a07f5844c98b0e3112a0568de,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
12856,fcc0cd5d0992ec4a07f5844c98b0e3112a0568de,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12857,fcc0cd5d0992ec4a07f5844c98b0e3112a0568de,/8.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
12858,fcc0cd5d0992ec4a07f5844c98b0e3112a0568de,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12859,fcc0cd5d0992ec4a07f5844c98b0e3112a0568de,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12860,fcc0cd5d0992ec4a07f5844c98b0e3112a0568de,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12861,fcc0cd5d0992ec4a07f5844c98b0e3112a0568de,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
12862,77323f32b92405944da026c68428e3180e6bc33a,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12863,77323f32b92405944da026c68428e3180e6bc33a,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
12864,77323f32b92405944da026c68428e3180e6bc33a,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
12865,77323f32b92405944da026c68428e3180e6bc33a,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12866,77323f32b92405944da026c68428e3180e6bc33a,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
12867,77323f32b92405944da026c68428e3180e6bc33a,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12868,77323f32b92405944da026c68428e3180e6bc33a,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12869,77323f32b92405944da026c68428e3180e6bc33a,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12870,77323f32b92405944da026c68428e3180e6bc33a,/9.0/jre8/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
12871,77323f32b92405944da026c68428e3180e6bc33a,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12872,77323f32b92405944da026c68428e3180e6bc33a,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
12873,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12874,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12875,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.0/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12876,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.0/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12877,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.0/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
12878,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12879,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12880,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12881,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
12882,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
12883,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
12884,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
12885,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12886,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12887,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12888,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12889,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
12890,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12891,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12892,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12893,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
12894,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
12895,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
12896,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
12897,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12898,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12899,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12900,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12901,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
12902,fe11a5d3316d12d4b68c05f2006fb35a8c8a80c1,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12903,fe11a5d3316d12d4b68c05f2006fb35a8c8a80c1,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12904,fe11a5d3316d12d4b68c05f2006fb35a8c8a80c1,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12905,fe11a5d3316d12d4b68c05f2006fb35a8c8a80c1,/9.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12906,fe11a5d3316d12d4b68c05f2006fb35a8c8a80c1,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12907,fe11a5d3316d12d4b68c05f2006fb35a8c8a80c1,/9.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
12908,fe11a5d3316d12d4b68c05f2006fb35a8c8a80c1,/9.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12909,fe11a5d3316d12d4b68c05f2006fb35a8c8a80c1,/9.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
12910,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12911,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
12912,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/8.0/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
12913,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12914,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/8.0/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
12915,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12916,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12917,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12918,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
12919,7eae995786f14b4e96010bcc11338724706e30eb,/Dockerfile.template,"# let ""Tomcat Native"" live somewhere isolated
"
12920,7eae995786f14b4e96010bcc11338724706e30eb,/Dockerfile.template,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
12921,7eae995786f14b4e96010bcc11338724706e30eb,/Dockerfile.template,"# only add stretch if we're not already building from within stretch
"
12922,7eae995786f14b4e96010bcc11338724706e30eb,/Dockerfile.template,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12923,7eae995786f14b4e96010bcc11338724706e30eb,/Dockerfile.template,"# ... except OpenSSL, which is the reason we're here
"
12924,7eae995786f14b4e96010bcc11338724706e30eb,/Dockerfile.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12925,7eae995786f14b4e96010bcc11338724706e30eb,/Dockerfile.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12926,7eae995786f14b4e96010bcc11338724706e30eb,/Dockerfile.template,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12927,7eae995786f14b4e96010bcc11338724706e30eb,/Dockerfile.template,"# not all the mirrors actually carry the .asc files :'(
"
12928,7eae995786f14b4e96010bcc11338724706e30eb,/Dockerfile.template,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12929,7eae995786f14b4e96010bcc11338724706e30eb,/Dockerfile.template,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12930,7eae995786f14b4e96010bcc11338724706e30eb,/Dockerfile.template,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12931,7eae995786f14b4e96010bcc11338724706e30eb,/Dockerfile.template,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12932,7eae995786f14b4e96010bcc11338724706e30eb,/Dockerfile.template,"# verify Tomcat Native is working properly
"
12933,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12934,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
12935,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12936,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/8.0/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
12937,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12938,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12939,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12940,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
12941,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre7-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12942,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre7-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
12943,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre7-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
12944,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre7-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12945,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre7-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
12946,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre7-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12947,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre7-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12948,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre7-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12949,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre7-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12950,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre7-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12951,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre7-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12952,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre7-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12953,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre7-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12954,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre7-slim/Dockerfile,"# verify Tomcat Native is working properly
"
12955,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk13/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12956,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk13/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12957,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk13/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
12958,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk13/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
12959,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk13/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
12960,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk13/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12961,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk13/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
12962,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk13/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
12963,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk13/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
12964,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk13/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12965,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk13/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12966,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk13/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12967,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk13/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
12968,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre7-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12969,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre7-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
12970,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre7-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
12971,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre7-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12972,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre7-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
12973,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre7-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12974,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre7-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12975,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre7-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12976,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre7-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12977,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre7-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12978,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre7-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12979,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre7-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12980,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre7-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12981,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre7-slim/Dockerfile,"# verify Tomcat Native is working properly
"
12982,d183e24a7f4239f84bf521ac96690904adb21a86,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12983,d183e24a7f4239f84bf521ac96690904adb21a86,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12984,d183e24a7f4239f84bf521ac96690904adb21a86,/8.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12985,d183e24a7f4239f84bf521ac96690904adb21a86,/8.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12986,d183e24a7f4239f84bf521ac96690904adb21a86,/8.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12987,d183e24a7f4239f84bf521ac96690904adb21a86,/8.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
12988,d183e24a7f4239f84bf521ac96690904adb21a86,/8.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12989,d183e24a7f4239f84bf521ac96690904adb21a86,/8.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
12990,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12991,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
12992,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/8.5/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
12993,3b05667011a600a2f46422dd533467eff8e7fecf,/6-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
12994,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12995,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12996,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
12997,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
12998,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
12999,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13000,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13001,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
13002,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
13003,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13004,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13005,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13006,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
13007,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13008,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
13009,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/7/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
13010,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
13011,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/7/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
13012,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13013,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13014,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13015,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
13016,f26c14147f9affae8f32100430130271fc82bd3e,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13017,f26c14147f9affae8f32100430130271fc82bd3e,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
13018,f26c14147f9affae8f32100430130271fc82bd3e,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
13019,f26c14147f9affae8f32100430130271fc82bd3e,/8.5/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
13020,f26c14147f9affae8f32100430130271fc82bd3e,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13021,f26c14147f9affae8f32100430130271fc82bd3e,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13022,f26c14147f9affae8f32100430130271fc82bd3e,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13023,f26c14147f9affae8f32100430130271fc82bd3e,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
13024,81c66e2e695ad5548b726841c00512a9acf18eb5,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13025,81c66e2e695ad5548b726841c00512a9acf18eb5,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
13026,81c66e2e695ad5548b726841c00512a9acf18eb5,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13027,81c66e2e695ad5548b726841c00512a9acf18eb5,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13028,81c66e2e695ad5548b726841c00512a9acf18eb5,/9.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
13029,aceabe036433c68b278767811bac728c6db4f8b3,/Dockerfile-alpine.template,"# let ""Tomcat Native"" live somewhere isolated
"
13030,aceabe036433c68b278767811bac728c6db4f8b3,/Dockerfile-alpine.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13031,aceabe036433c68b278767811bac728c6db4f8b3,/Dockerfile-alpine.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13032,aceabe036433c68b278767811bac728c6db4f8b3,/Dockerfile-alpine.template,"# not all the mirrors actually carry the .asc files :'(
"
13033,aceabe036433c68b278767811bac728c6db4f8b3,/Dockerfile-alpine.template,"# verify Tomcat Native is working properly
"
13034,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13035,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13036,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
13037,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
13038,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
13039,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13040,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13041,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
13042,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
13043,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
13044,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
13045,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13046,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13047,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13048,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
13049,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13050,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13051,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
13052,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
13053,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
13054,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13055,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13056,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
13057,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
13058,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
13059,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
13060,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
13061,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13062,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13063,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13064,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
13065,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13066,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13067,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13068,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13069,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13070,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13071,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13072,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13073,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
13074,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13075,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13076,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13077,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13078,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13079,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13080,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13081,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13082,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
13083,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13084,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13085,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13086,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13087,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
13088,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
13089,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
13090,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13091,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13092,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13093,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13094,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
13095,a227157792e94c669148c3c2a09072fb317070e0,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13096,a227157792e94c669148c3c2a09072fb317070e0,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
13097,a227157792e94c669148c3c2a09072fb317070e0,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
13098,a227157792e94c669148c3c2a09072fb317070e0,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
13099,a227157792e94c669148c3c2a09072fb317070e0,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
13100,a227157792e94c669148c3c2a09072fb317070e0,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13101,a227157792e94c669148c3c2a09072fb317070e0,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13102,a227157792e94c669148c3c2a09072fb317070e0,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13103,a227157792e94c669148c3c2a09072fb317070e0,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13104,a227157792e94c669148c3c2a09072fb317070e0,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
13105,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13106,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
13107,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
13108,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
13109,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
13110,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13111,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13112,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
13113,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13114,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13115,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13116,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13117,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13118,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7-slim/Dockerfile,"# verify Tomcat Native is working properly
"
13119,31289c61ce9a5ad829ca9ad8adabf0e3160f16e8,/6-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
13120,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13121,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
13122,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
13123,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
13124,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
13125,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13126,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13127,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
13128,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13129,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13130,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13131,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
13132,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13133,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13134,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13135,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13136,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/8.5/jre8-alpine/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
13137,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/8.5/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
13138,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/8.5/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13139,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/8.5/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
13140,42acf24d6056b82d396da6658943f5c26e7b5cc1,/8-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
13141,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13142,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13143,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13144,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13145,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
13146,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
13147,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13148,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13149,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13150,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13151,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
13152,8323df4824d3661f094a1a6c30ed7e13c0536b9e,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
13153,8323df4824d3661f094a1a6c30ed7e13c0536b9e,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
13154,8323df4824d3661f094a1a6c30ed7e13c0536b9e,/8.0/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
13155,8323df4824d3661f094a1a6c30ed7e13c0536b9e,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
13156,8323df4824d3661f094a1a6c30ed7e13c0536b9e,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
13157,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre10/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13158,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre10/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
13159,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre10/Dockerfile,"# only add stretch if we're not already building from within stretch
"
13160,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre10/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
13161,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre10/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
13162,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre10/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13163,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre10/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13164,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre10/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
13165,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre10/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13166,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre10/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13167,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre10/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13168,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre10/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13169,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre10/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13170,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre10/Dockerfile,"# verify Tomcat Native is working properly
"
13171,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13172,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
13173,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
13174,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
13175,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
13176,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13177,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13178,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
13179,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13180,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13181,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13182,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
13183,ba5a6d7b9fb9fa08480cc53a4ed707ea73cdc4ce,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13184,ba5a6d7b9fb9fa08480cc53a4ed707ea73cdc4ce,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13185,ba5a6d7b9fb9fa08480cc53a4ed707ea73cdc4ce,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13186,ba5a6d7b9fb9fa08480cc53a4ed707ea73cdc4ce,/9.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
13187,ba5a6d7b9fb9fa08480cc53a4ed707ea73cdc4ce,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13188,ba5a6d7b9fb9fa08480cc53a4ed707ea73cdc4ce,/9.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
13189,ba5a6d7b9fb9fa08480cc53a4ed707ea73cdc4ce,/9.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13190,ba5a6d7b9fb9fa08480cc53a4ed707ea73cdc4ce,/9.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
13191,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre10/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13192,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre10/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
13193,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre10/Dockerfile,"# only add stretch if we're not already building from within stretch
"
13194,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre10/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
13195,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre10/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
13196,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre10/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13197,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre10/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13198,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre10/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
13199,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre10/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13200,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre10/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13201,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre10/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13202,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre10/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
13203,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13204,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
13205,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
13206,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
13207,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
13208,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13209,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13210,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
13211,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13212,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13213,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13214,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13215,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13216,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
13217,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13218,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13219,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
13220,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
13221,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
13222,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13223,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13224,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
13225,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
13226,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13227,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13228,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13229,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
13230,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/6/jre7/Dockerfile,"# runtime dependency for Tomcat Native Libraries
"
13231,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/6/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13232,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/6/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13233,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/6/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13234,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/6/jre7/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
13235,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13236,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13237,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13238,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13239,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13240,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13241,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13242,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13243,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
13244,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre10/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13245,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre10/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
13246,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre10/Dockerfile,"# only add stretch if we're not already building from within stretch
"
13247,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre10/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
13248,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre10/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
13249,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre10/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13250,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre10/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13251,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre10/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
13252,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre10/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13253,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre10/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13254,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre10/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13255,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre10/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
13256,be9bb25a8bec9027dc11a05531ecd1f4171c8411,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13257,be9bb25a8bec9027dc11a05531ecd1f4171c8411,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
13258,be9bb25a8bec9027dc11a05531ecd1f4171c8411,/8.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
13259,be9bb25a8bec9027dc11a05531ecd1f4171c8411,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
13260,be9bb25a8bec9027dc11a05531ecd1f4171c8411,/8.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
13261,be9bb25a8bec9027dc11a05531ecd1f4171c8411,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13262,be9bb25a8bec9027dc11a05531ecd1f4171c8411,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13263,be9bb25a8bec9027dc11a05531ecd1f4171c8411,/8.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
13264,be9bb25a8bec9027dc11a05531ecd1f4171c8411,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13265,be9bb25a8bec9027dc11a05531ecd1f4171c8411,/8.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13266,be9bb25a8bec9027dc11a05531ecd1f4171c8411,/8.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
13267,460dd07bda6a533d8ad7ca8c03ad78d715575056,/8-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
13268,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13269,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
13270,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
13271,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.0/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
13272,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
13273,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13274,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13275,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
13276,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13277,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
13278,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
13279,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.0/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
13280,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13281,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13282,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13283,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
13284,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13285,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
13286,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
13287,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
13288,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
13289,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13290,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13291,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
13292,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13293,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13294,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13295,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
13296,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre10/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13297,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre10/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
13298,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre10/Dockerfile,"# only add stretch if we're not already building from within stretch
"
13299,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre10/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
13300,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre10/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
13301,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre10/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13302,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre10/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13303,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre10/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
13304,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre10/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13305,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre10/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13306,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre10/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13307,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre10/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13308,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre10/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13309,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre10/Dockerfile,"# verify Tomcat Native is working properly
"
13310,68ba169d29cbe2a68b3bc8549daadd9b0cb831c6,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13311,68ba169d29cbe2a68b3bc8549daadd9b0cb831c6,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
13312,68ba169d29cbe2a68b3bc8549daadd9b0cb831c6,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
13313,68ba169d29cbe2a68b3bc8549daadd9b0cb831c6,/7/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
13314,68ba169d29cbe2a68b3bc8549daadd9b0cb831c6,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13315,68ba169d29cbe2a68b3bc8549daadd9b0cb831c6,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13316,68ba169d29cbe2a68b3bc8549daadd9b0cb831c6,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13317,68ba169d29cbe2a68b3bc8549daadd9b0cb831c6,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
13318,d183e24a7f4239f84bf521ac96690904adb21a86,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13319,d183e24a7f4239f84bf521ac96690904adb21a86,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13320,d183e24a7f4239f84bf521ac96690904adb21a86,/8.0/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13321,d183e24a7f4239f84bf521ac96690904adb21a86,/8.0/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
13322,d183e24a7f4239f84bf521ac96690904adb21a86,/8.0/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13323,d183e24a7f4239f84bf521ac96690904adb21a86,/8.0/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
13324,d183e24a7f4239f84bf521ac96690904adb21a86,/8.0/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13325,d183e24a7f4239f84bf521ac96690904adb21a86,/8.0/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
13326,2f17559d7a1c62dbc17b63750b31a0beea205120,/8-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
13327,eba2c31453300691978be256d5416821a788850d,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13328,eba2c31453300691978be256d5416821a788850d,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
13329,eba2c31453300691978be256d5416821a788850d,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
13330,eba2c31453300691978be256d5416821a788850d,/8.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
13331,eba2c31453300691978be256d5416821a788850d,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13332,eba2c31453300691978be256d5416821a788850d,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13333,eba2c31453300691978be256d5416821a788850d,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13334,eba2c31453300691978be256d5416821a788850d,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
13335,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13336,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13337,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13338,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13339,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
13340,ec75141e3cb6276b07d66c16042152e2d4de119c,/6/jre8/Dockerfile,"# runtime dependency for Tomcat Native Libraries
"
13341,ec75141e3cb6276b07d66c16042152e2d4de119c,/6/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
13342,ec75141e3cb6276b07d66c16042152e2d4de119c,/6/jre8/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
13343,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13344,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13345,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
13346,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
13347,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
13348,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13349,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13350,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
13351,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
13352,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
13353,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
13354,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
13355,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13356,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13357,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13358,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
13359,5696723b951467b0bcd46c4a830ddb95afb45a5f,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13360,5696723b951467b0bcd46c4a830ddb95afb45a5f,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
13361,5696723b951467b0bcd46c4a830ddb95afb45a5f,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
13362,5696723b951467b0bcd46c4a830ddb95afb45a5f,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
13363,5696723b951467b0bcd46c4a830ddb95afb45a5f,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
13364,5696723b951467b0bcd46c4a830ddb95afb45a5f,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13365,5696723b951467b0bcd46c4a830ddb95afb45a5f,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13366,5696723b951467b0bcd46c4a830ddb95afb45a5f,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13367,5696723b951467b0bcd46c4a830ddb95afb45a5f,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
13368,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13369,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13370,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13371,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13372,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13373,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13374,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13375,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13376,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
13377,e06e384de299e232670c398deb8b87cec1893eaf,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13378,e06e384de299e232670c398deb8b87cec1893eaf,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13379,e06e384de299e232670c398deb8b87cec1893eaf,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13380,e06e384de299e232670c398deb8b87cec1893eaf,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13381,e06e384de299e232670c398deb8b87cec1893eaf,/8.5/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
13382,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13383,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13384,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13385,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13386,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
13387,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
13388,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
13389,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13390,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13391,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13392,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13393,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
13394,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13395,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13396,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13397,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.5/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
13398,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13399,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.5/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
13400,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.5/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13401,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.5/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
13402,58c79694a83a12077150ad57b8dd46296548b958,/9.0/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13403,58c79694a83a12077150ad57b8dd46296548b958,/9.0/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13404,58c79694a83a12077150ad57b8dd46296548b958,/9.0/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13405,58c79694a83a12077150ad57b8dd46296548b958,/9.0/jdk11/corretto/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
13406,58c79694a83a12077150ad57b8dd46296548b958,/9.0/jdk11/corretto/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13407,58c79694a83a12077150ad57b8dd46296548b958,/9.0/jdk11/corretto/Dockerfile,"# TODO should we leave these installed, or remove them too?
"
13408,58c79694a83a12077150ad57b8dd46296548b958,/9.0/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html (updating ""reason"" to ""user"" for tomcat-native build dependencies)
# TODO find a better/cleaner way to generically interact with the yumdb for the purposes of marking things as automatically/manually installed
"
13409,58c79694a83a12077150ad57b8dd46296548b958,/9.0/jdk11/corretto/Dockerfile,"# TODO handle ""$nativeBuildDeps"" in a similarly generic way?
"
13410,58c79694a83a12077150ad57b8dd46296548b958,/9.0/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13411,58c79694a83a12077150ad57b8dd46296548b958,/9.0/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13412,58c79694a83a12077150ad57b8dd46296548b958,/9.0/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13413,58c79694a83a12077150ad57b8dd46296548b958,/9.0/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
13414,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13415,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13416,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13417,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13418,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13419,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13420,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13421,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13422,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
13423,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13424,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13425,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13426,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
13427,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13428,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
13429,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13430,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
13431,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13432,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13433,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
13434,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
13435,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
13436,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13437,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13438,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
13439,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
13440,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13441,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13442,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13443,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
13444,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13445,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13446,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13447,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13448,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13449,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13450,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13451,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13452,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
13453,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13454,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
13455,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
13456,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/8.0/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
13457,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
13458,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
13459,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre9-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13460,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre9-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
13461,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre9-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
13462,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre9-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
13463,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre9-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
13464,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre9-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13465,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre9-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13466,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre9-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
13467,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre9-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13468,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre9-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13469,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre9-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13470,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre9-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
13471,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13472,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13473,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13474,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13475,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
13476,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
13477,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
13478,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13479,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13480,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13481,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13482,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
13483,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13484,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13485,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13486,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13487,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
13488,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
13489,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
13490,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13491,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13492,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13493,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13494,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
13495,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13496,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13497,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
13498,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
13499,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
13500,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13501,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13502,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
13503,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
13504,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13505,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13506,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13507,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
13508,fee7a58cbf4e48b97bdea6f2547058ce662ca3b4,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13509,fee7a58cbf4e48b97bdea6f2547058ce662ca3b4,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13510,fee7a58cbf4e48b97bdea6f2547058ce662ca3b4,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13511,fee7a58cbf4e48b97bdea6f2547058ce662ca3b4,/9.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
13512,fee7a58cbf4e48b97bdea6f2547058ce662ca3b4,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13513,fee7a58cbf4e48b97bdea6f2547058ce662ca3b4,/9.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
13514,fee7a58cbf4e48b97bdea6f2547058ce662ca3b4,/9.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13515,fee7a58cbf4e48b97bdea6f2547058ce662ca3b4,/9.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
13516,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13517,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13518,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13519,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13520,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
13521,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
13522,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
13523,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13524,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13525,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13526,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13527,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
13528,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre7-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13529,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre7-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
13530,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre7-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
13531,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre7-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
13532,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre7-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
13533,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre7-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13534,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre7-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13535,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre7-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
13536,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre7-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13537,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre7-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13538,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre7-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13539,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre7-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
13540,aceabe036433c68b278767811bac728c6db4f8b3,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13541,aceabe036433c68b278767811bac728c6db4f8b3,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13542,aceabe036433c68b278767811bac728c6db4f8b3,/8.0/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13543,aceabe036433c68b278767811bac728c6db4f8b3,/8.0/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13544,aceabe036433c68b278767811bac728c6db4f8b3,/8.0/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
13545,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13546,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13547,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13548,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13549,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13550,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13551,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13552,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13553,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
13554,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13555,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13556,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13557,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13558,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13559,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13560,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13561,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13562,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
13563,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13564,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13565,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13566,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13567,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
13568,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
13569,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13570,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13571,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13572,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13573,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
13574,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13575,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13576,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13577,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13578,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
13579,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
13580,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
13581,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13582,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13583,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13584,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13585,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
13586,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13587,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13588,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
13589,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
13590,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
13591,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13592,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13593,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
13594,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
13595,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13596,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13597,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13598,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
13599,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13600,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13601,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
13602,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
13603,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
13604,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13605,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13606,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
13607,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
13608,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
13609,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
13610,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
13611,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13612,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13613,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13614,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
13615,f6240449622b7a185d13cb19604282e7c56476ae,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13616,f6240449622b7a185d13cb19604282e7c56476ae,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
13617,f6240449622b7a185d13cb19604282e7c56476ae,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
13618,f6240449622b7a185d13cb19604282e7c56476ae,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
13619,f6240449622b7a185d13cb19604282e7c56476ae,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
13620,f6240449622b7a185d13cb19604282e7c56476ae,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13621,f6240449622b7a185d13cb19604282e7c56476ae,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13622,f6240449622b7a185d13cb19604282e7c56476ae,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13623,f6240449622b7a185d13cb19604282e7c56476ae,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
13624,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13625,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
13626,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
13627,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
13628,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
13629,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13630,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13631,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
13632,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13633,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre7/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13634,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13635,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
13636,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13637,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13638,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13639,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13640,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13641,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13642,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13643,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13644,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
13645,d485a5c4bfdb50a93ae36e212bbf6b2e6e1bdd9e,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13646,d485a5c4bfdb50a93ae36e212bbf6b2e6e1bdd9e,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13647,d485a5c4bfdb50a93ae36e212bbf6b2e6e1bdd9e,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13648,d485a5c4bfdb50a93ae36e212bbf6b2e6e1bdd9e,/8.5/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
13649,d485a5c4bfdb50a93ae36e212bbf6b2e6e1bdd9e,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13650,d485a5c4bfdb50a93ae36e212bbf6b2e6e1bdd9e,/8.5/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
13651,d485a5c4bfdb50a93ae36e212bbf6b2e6e1bdd9e,/8.5/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13652,d485a5c4bfdb50a93ae36e212bbf6b2e6e1bdd9e,/8.5/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
13653,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13654,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13655,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13656,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13657,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
13658,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
13659,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13660,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13661,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13662,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13663,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
13664,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/Dockerfile.template,"# let ""Tomcat Native"" live somewhere isolated
"
13665,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/Dockerfile.template,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
13666,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/Dockerfile.template,"# only add stretch if we're not already building from within stretch
"
13667,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/Dockerfile.template,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
13668,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/Dockerfile.template,"# ... except OpenSSL, which is the reason we're here
"
13669,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/Dockerfile.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13670,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/Dockerfile.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13671,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/Dockerfile.template,"# if the version is outdated, we might have to pull from the dist/archive :/
"
13672,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/Dockerfile.template,"# not all the mirrors actually carry the .asc files :'(
"
13673,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/Dockerfile.template,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13674,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/Dockerfile.template,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13675,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/Dockerfile.template,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
13676,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13677,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13678,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13679,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13680,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
13681,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
13682,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13683,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13684,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13685,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13686,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
13687,a7f6cf3172b5875be5108bfbbea87ecb94bc4626,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13688,a7f6cf3172b5875be5108bfbbea87ecb94bc4626,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13689,a7f6cf3172b5875be5108bfbbea87ecb94bc4626,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13690,a7f6cf3172b5875be5108bfbbea87ecb94bc4626,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13691,a7f6cf3172b5875be5108bfbbea87ecb94bc4626,/9.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
13692,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13693,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13694,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13695,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13696,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13697,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13698,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13699,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13700,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
13701,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13702,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
13703,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
13704,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
13705,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
13706,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13707,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13708,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
13709,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13710,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre7/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13711,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13712,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13713,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre7/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13714,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
13715,4f193f544a7deb2dc95a33f8ea447c235c7d180a,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13716,4f193f544a7deb2dc95a33f8ea447c235c7d180a,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13717,4f193f544a7deb2dc95a33f8ea447c235c7d180a,/8.0/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13718,4f193f544a7deb2dc95a33f8ea447c235c7d180a,/8.0/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13719,4f193f544a7deb2dc95a33f8ea447c235c7d180a,/8.0/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
13720,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13721,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13722,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13723,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13724,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
13725,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
13726,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
13727,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13728,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13729,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13730,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13731,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
13732,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13733,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre9/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
13734,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre9/Dockerfile,"# only add stretch if we're not already building from within stretch
"
13735,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre9/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
13736,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre9/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
13737,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13738,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13739,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre9/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
13740,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre9/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13741,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13742,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13743,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
13744,e826a7e6953f03f8fa03a9faed70721d6de1d3df,/6-jre8/Dockerfile,"# add our user and group first to make sure their IDs get assigned consistently, regardless of whatever dependencies get added
"
13745,e826a7e6953f03f8fa03a9faed70721d6de1d3df,/6-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
13746,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13747,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13748,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13749,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13750,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
13751,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
13752,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
13753,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13754,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13755,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13756,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13757,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
13758,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13759,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
13760,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
13761,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/8.0/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
13762,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
13763,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
13764,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13765,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13766,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13767,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13768,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13769,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13770,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13771,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13772,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
13773,2b8ccaf69e5f338e04a04ee934a69c37384dd1e2,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13774,2b8ccaf69e5f338e04a04ee934a69c37384dd1e2,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
13775,2b8ccaf69e5f338e04a04ee934a69c37384dd1e2,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
13776,2b8ccaf69e5f338e04a04ee934a69c37384dd1e2,/8.5/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
13777,2b8ccaf69e5f338e04a04ee934a69c37384dd1e2,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13778,2b8ccaf69e5f338e04a04ee934a69c37384dd1e2,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13779,2b8ccaf69e5f338e04a04ee934a69c37384dd1e2,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13780,2b8ccaf69e5f338e04a04ee934a69c37384dd1e2,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
13781,81c66e2e695ad5548b726841c00512a9acf18eb5,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13782,81c66e2e695ad5548b726841c00512a9acf18eb5,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
13783,81c66e2e695ad5548b726841c00512a9acf18eb5,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
13784,81c66e2e695ad5548b726841c00512a9acf18eb5,/7/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
13785,81c66e2e695ad5548b726841c00512a9acf18eb5,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
13786,81c66e2e695ad5548b726841c00512a9acf18eb5,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13787,81c66e2e695ad5548b726841c00512a9acf18eb5,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13788,81c66e2e695ad5548b726841c00512a9acf18eb5,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
13789,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13790,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
13791,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
13792,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
13793,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
13794,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13795,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13796,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
13797,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13798,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre7/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13799,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13800,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
13801,d44c35d4ec4907263cdfad76d6c56e6676ddd382,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13802,d44c35d4ec4907263cdfad76d6c56e6676ddd382,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
13803,d44c35d4ec4907263cdfad76d6c56e6676ddd382,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
13804,d44c35d4ec4907263cdfad76d6c56e6676ddd382,/8.5/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
13805,d44c35d4ec4907263cdfad76d6c56e6676ddd382,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13806,d44c35d4ec4907263cdfad76d6c56e6676ddd382,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13807,d44c35d4ec4907263cdfad76d6c56e6676ddd382,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13808,d44c35d4ec4907263cdfad76d6c56e6676ddd382,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
13809,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13810,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13811,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13812,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13813,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
13814,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
13815,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
13816,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13817,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13818,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13819,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13820,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
13821,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13822,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13823,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13824,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
13825,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13826,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
13827,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13828,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13829,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13830,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
13831,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13832,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
13833,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
13834,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
13835,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
13836,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13837,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13838,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
13839,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13840,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13841,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13842,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13843,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13844,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
13845,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13846,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13847,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13848,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13849,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
13850,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
13851,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
13852,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13853,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13854,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13855,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13856,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
13857,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13858,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
13859,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
13860,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
13861,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
13862,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13863,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13864,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
13865,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13866,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13867,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13868,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
13869,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13870,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
13871,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
13872,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
13873,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
13874,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13875,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13876,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
13877,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13878,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13879,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13880,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13881,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13882,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
13883,a0377566c7141395d74420b93c94f8fde72c7aa9,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13884,a0377566c7141395d74420b93c94f8fde72c7aa9,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13885,a0377566c7141395d74420b93c94f8fde72c7aa9,/8.0/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13886,a0377566c7141395d74420b93c94f8fde72c7aa9,/8.0/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
13887,a0377566c7141395d74420b93c94f8fde72c7aa9,/8.0/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13888,a0377566c7141395d74420b93c94f8fde72c7aa9,/8.0/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
13889,a0377566c7141395d74420b93c94f8fde72c7aa9,/8.0/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13890,a0377566c7141395d74420b93c94f8fde72c7aa9,/8.0/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
13891,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13892,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13893,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13894,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13895,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
13896,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
13897,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
13898,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13899,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13900,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13901,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13902,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
13903,9440e94bb99dbb82354c6e46a86a4f3228021956,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13904,9440e94bb99dbb82354c6e46a86a4f3228021956,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
13905,9440e94bb99dbb82354c6e46a86a4f3228021956,/8.0/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13906,9440e94bb99dbb82354c6e46a86a4f3228021956,/8.0/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13907,9440e94bb99dbb82354c6e46a86a4f3228021956,/8.0/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
13908,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13909,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13910,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
13911,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
13912,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
13913,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13914,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13915,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-oracle/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
13916,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-oracle/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
13917,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-oracle/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
13918,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
13919,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
13920,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13921,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13922,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13923,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
13924,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13925,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13926,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13927,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13928,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13929,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13930,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13931,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13932,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
13933,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13934,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
13935,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
13936,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
13937,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
13938,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13939,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13940,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
13941,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13942,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13943,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13944,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13945,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13946,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
13947,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13948,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13949,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13950,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13951,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13952,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13953,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13954,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13955,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
13956,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13957,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13958,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13959,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13960,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
13961,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
13962,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
13963,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13964,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13965,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13966,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13967,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
13968,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13969,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13970,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13971,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
13972,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13973,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
13974,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13975,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
13976,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13977,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13978,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13979,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13980,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13981,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13982,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13983,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13984,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
13985,989f50ed5db788921a4954109b90362e2209295e,/6/jre8/Dockerfile,"# runtime dependency for Tomcat Native Libraries
"
13986,989f50ed5db788921a4954109b90362e2209295e,/6/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
13987,989f50ed5db788921a4954109b90362e2209295e,/6/jre8/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
13988,0e7ff602f64ffc447c210dcf72ffa073d17ffed4,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13989,0e7ff602f64ffc447c210dcf72ffa073d17ffed4,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13990,0e7ff602f64ffc447c210dcf72ffa073d17ffed4,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13991,0e7ff602f64ffc447c210dcf72ffa073d17ffed4,/8.5/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
13992,0e7ff602f64ffc447c210dcf72ffa073d17ffed4,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13993,0e7ff602f64ffc447c210dcf72ffa073d17ffed4,/8.5/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
13994,0e7ff602f64ffc447c210dcf72ffa073d17ffed4,/8.5/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13995,0e7ff602f64ffc447c210dcf72ffa073d17ffed4,/8.5/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13996,0e7ff602f64ffc447c210dcf72ffa073d17ffed4,/8.5/jre8-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13997,0e7ff602f64ffc447c210dcf72ffa073d17ffed4,/8.5/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
13998,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre11/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13999,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre11/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
14000,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre11/Dockerfile,"# only add stretch if we're not already building from within stretch
"
14001,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre11/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
14002,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre11/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
14003,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre11/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14004,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre11/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14005,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre11/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
14006,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre11/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14007,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre11/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14008,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre11/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14009,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre11/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14010,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre11/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14011,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre11/Dockerfile,"# verify Tomcat Native is working properly
"
14012,b1a8927025d9a0c01494d7fbc1ae06cd269bb2f8,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14013,b1a8927025d9a0c01494d7fbc1ae06cd269bb2f8,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
14014,b1a8927025d9a0c01494d7fbc1ae06cd269bb2f8,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
14015,b1a8927025d9a0c01494d7fbc1ae06cd269bb2f8,/8.0/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
14016,b1a8927025d9a0c01494d7fbc1ae06cd269bb2f8,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14017,b1a8927025d9a0c01494d7fbc1ae06cd269bb2f8,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14018,b1a8927025d9a0c01494d7fbc1ae06cd269bb2f8,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14019,b1a8927025d9a0c01494d7fbc1ae06cd269bb2f8,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
14020,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14021,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14022,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14023,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
14024,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14025,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
14026,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14027,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
14028,35e89070548111261cf6a9e9398556d5b2c4f7f7,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14029,35e89070548111261cf6a9e9398556d5b2c4f7f7,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
14030,35e89070548111261cf6a9e9398556d5b2c4f7f7,/7/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
14031,35e89070548111261cf6a9e9398556d5b2c4f7f7,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
14032,35e89070548111261cf6a9e9398556d5b2c4f7f7,/7/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
14033,35e89070548111261cf6a9e9398556d5b2c4f7f7,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14034,35e89070548111261cf6a9e9398556d5b2c4f7f7,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14035,35e89070548111261cf6a9e9398556d5b2c4f7f7,/7/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
14036,35e89070548111261cf6a9e9398556d5b2c4f7f7,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14037,35e89070548111261cf6a9e9398556d5b2c4f7f7,/7/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14038,35e89070548111261cf6a9e9398556d5b2c4f7f7,/7/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
14039,a436a06d8fb281a85596dab283a1ee41193b97b3,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14040,a436a06d8fb281a85596dab283a1ee41193b97b3,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
14041,a436a06d8fb281a85596dab283a1ee41193b97b3,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
14042,a436a06d8fb281a85596dab283a1ee41193b97b3,/7/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
14043,a436a06d8fb281a85596dab283a1ee41193b97b3,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14044,a436a06d8fb281a85596dab283a1ee41193b97b3,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14045,a436a06d8fb281a85596dab283a1ee41193b97b3,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14046,a436a06d8fb281a85596dab283a1ee41193b97b3,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
14047,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14048,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14049,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14050,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14051,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14052,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14053,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14054,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14055,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
14056,9440e94bb99dbb82354c6e46a86a4f3228021956,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14057,9440e94bb99dbb82354c6e46a86a4f3228021956,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
14058,9440e94bb99dbb82354c6e46a86a4f3228021956,/8.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14059,9440e94bb99dbb82354c6e46a86a4f3228021956,/8.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14060,9440e94bb99dbb82354c6e46a86a4f3228021956,/8.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
14061,437ad1d98f2ca7667df856d13922b23a22b719d0,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14062,437ad1d98f2ca7667df856d13922b23a22b719d0,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
14063,437ad1d98f2ca7667df856d13922b23a22b719d0,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
14064,437ad1d98f2ca7667df856d13922b23a22b719d0,/7/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
14065,437ad1d98f2ca7667df856d13922b23a22b719d0,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14066,437ad1d98f2ca7667df856d13922b23a22b719d0,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14067,437ad1d98f2ca7667df856d13922b23a22b719d0,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14068,437ad1d98f2ca7667df856d13922b23a22b719d0,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
14069,9b435c815366378b65a78fa84d3bed5642fddaa6,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14070,9b435c815366378b65a78fa84d3bed5642fddaa6,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
14071,9b435c815366378b65a78fa84d3bed5642fddaa6,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
14072,9b435c815366378b65a78fa84d3bed5642fddaa6,/8.0/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
14073,9b435c815366378b65a78fa84d3bed5642fddaa6,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14074,9b435c815366378b65a78fa84d3bed5642fddaa6,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14075,9b435c815366378b65a78fa84d3bed5642fddaa6,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14076,9b435c815366378b65a78fa84d3bed5642fddaa6,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
14077,7c4365e43f352c981a97eae5090bb055a68ff6a9,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
14078,7c4365e43f352c981a97eae5090bb055a68ff6a9,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
14079,7c4365e43f352c981a97eae5090bb055a68ff6a9,/7/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
14080,7c4365e43f352c981a97eae5090bb055a68ff6a9,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
14081,7c4365e43f352c981a97eae5090bb055a68ff6a9,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
14082,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk12/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14083,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk12/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14084,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk12/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
14085,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk12/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
14086,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk12/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
14087,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk12/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14088,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk12/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14089,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk12/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
14090,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk12/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
14091,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk12/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14092,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk12/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14093,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk12/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14094,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk12/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
14095,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14096,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14097,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14098,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14099,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
14100,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
14101,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14102,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14103,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14104,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14105,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
14106,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14107,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14108,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14109,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14110,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
14111,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
14112,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
14113,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14114,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14115,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14116,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14117,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
14118,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14119,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14120,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14121,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14122,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14123,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14124,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14125,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14126,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
14127,a0377566c7141395d74420b93c94f8fde72c7aa9,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14128,a0377566c7141395d74420b93c94f8fde72c7aa9,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14129,a0377566c7141395d74420b93c94f8fde72c7aa9,/8.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14130,a0377566c7141395d74420b93c94f8fde72c7aa9,/8.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
14131,a0377566c7141395d74420b93c94f8fde72c7aa9,/8.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14132,a0377566c7141395d74420b93c94f8fde72c7aa9,/8.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
14133,a0377566c7141395d74420b93c94f8fde72c7aa9,/8.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14134,a0377566c7141395d74420b93c94f8fde72c7aa9,/8.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
14135,4e9726eb5182dd6fe93402485b9db4aae22177e1,/8-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
14136,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14137,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14138,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14139,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14140,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14141,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14142,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14143,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14144,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
14145,29f8484d577632d5124082f87719d7ee28ab939e,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14146,29f8484d577632d5124082f87719d7ee28ab939e,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
14147,29f8484d577632d5124082f87719d7ee28ab939e,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
14148,29f8484d577632d5124082f87719d7ee28ab939e,/9.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
14149,29f8484d577632d5124082f87719d7ee28ab939e,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14150,29f8484d577632d5124082f87719d7ee28ab939e,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14151,29f8484d577632d5124082f87719d7ee28ab939e,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14152,29f8484d577632d5124082f87719d7ee28ab939e,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
14153,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/Dockerfile-yum.template,"# let ""Tomcat Native"" live somewhere isolated
"
14154,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/Dockerfile-yum.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14155,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/Dockerfile-yum.template,"# http://yum.baseurl.org/wiki/YumDB.html
"
14156,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/Dockerfile-yum.template,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
14157,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/Dockerfile-yum.template,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
14158,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/Dockerfile-yum.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14159,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/Dockerfile-yum.template,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14160,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/Dockerfile-yum.template,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
14161,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/Dockerfile-yum.template,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
14162,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/Dockerfile-yum.template,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
14163,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/Dockerfile-yum.template,"# mark any explicit dependencies as manually installed
"
14164,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/Dockerfile-yum.template,"# clean up anything added temporarily and not later marked as necessary
"
14165,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/Dockerfile-yum.template,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14166,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/Dockerfile-yum.template,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14167,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/Dockerfile-yum.template,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14168,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/Dockerfile-yum.template,"# verify Tomcat Native is working properly
"
14169,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14170,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14171,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14172,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14173,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14174,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14175,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14176,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14177,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
14178,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14179,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14180,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
14181,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
14182,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
14183,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14184,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14185,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
14186,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
14187,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14188,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14189,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14190,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
14191,f4c146bcc2f16fd1d2919a392adb46c737851dc9,/6/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14192,f4c146bcc2f16fd1d2919a392adb46c737851dc9,/6/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
14193,f4c146bcc2f16fd1d2919a392adb46c737851dc9,/6/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
14194,f4c146bcc2f16fd1d2919a392adb46c737851dc9,/6/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
14195,f4c146bcc2f16fd1d2919a392adb46c737851dc9,/6/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14196,f4c146bcc2f16fd1d2919a392adb46c737851dc9,/6/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14197,f4c146bcc2f16fd1d2919a392adb46c737851dc9,/6/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14198,f4c146bcc2f16fd1d2919a392adb46c737851dc9,/6/jre8/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
14199,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14200,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14201,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
14202,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
14203,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
14204,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14205,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14206,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
14207,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
14208,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14209,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14210,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14211,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
14212,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14213,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14214,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14215,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14216,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14217,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14218,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14219,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14220,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
14221,82551c9d60c48d35a68b8eb2cc069913be9078ae,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
14222,19bdd962a61b69e3a35ddc0a8936854cc2e405f6,/8.0/jre7/Dockerfile,"# runtime dependency for Tomcat Native Libraries
"
14223,19bdd962a61b69e3a35ddc0a8936854cc2e405f6,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
14224,19bdd962a61b69e3a35ddc0a8936854cc2e405f6,/8.0/jre7/Dockerfile,"# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)

"
14225,19bdd962a61b69e3a35ddc0a8936854cc2e405f6,/8.0/jre7/Dockerfile,"# http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5048274.html (ie, HACK HACK HACK)
"
14226,19bdd962a61b69e3a35ddc0a8936854cc2e405f6,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
14227,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14228,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
14229,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
14230,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
14231,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
14232,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14233,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14234,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
14235,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14236,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14237,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14238,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14239,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14240,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
14241,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14242,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
14243,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
14244,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
14245,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
14246,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14247,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14248,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
14249,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14250,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14251,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14252,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
14253,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14254,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14255,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14256,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14257,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14258,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14259,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14260,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14261,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
14262,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14263,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14264,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14265,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14266,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.5/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
14267,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre10-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14268,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre10-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
14269,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre10-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
14270,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre10-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
14271,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre10-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
14272,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre10-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14273,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre10-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14274,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre10-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
14275,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre10-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14276,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre10-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14277,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre10-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14278,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre10-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
14279,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre11/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14280,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre11/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
14281,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre11/Dockerfile,"# only add stretch if we're not already building from within stretch
"
14282,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre11/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
14283,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre11/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
14284,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre11/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14285,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre11/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14286,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre11/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
14287,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre11/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14288,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre11/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14289,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre11/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14290,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre11/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14291,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre11/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14292,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre11/Dockerfile,"# verify Tomcat Native is working properly
"
14293,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14294,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14295,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14296,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14297,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14298,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14299,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14300,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14301,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
14302,4f193f544a7deb2dc95a33f8ea447c235c7d180a,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14303,4f193f544a7deb2dc95a33f8ea447c235c7d180a,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14304,4f193f544a7deb2dc95a33f8ea447c235c7d180a,/8.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14305,4f193f544a7deb2dc95a33f8ea447c235c7d180a,/8.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14306,4f193f544a7deb2dc95a33f8ea447c235c7d180a,/8.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
14307,07b235d59c6a87e8c8ca14918105de993797435a,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14308,07b235d59c6a87e8c8ca14918105de993797435a,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14309,07b235d59c6a87e8c8ca14918105de993797435a,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14310,07b235d59c6a87e8c8ca14918105de993797435a,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14311,07b235d59c6a87e8c8ca14918105de993797435a,/9.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
14312,aceabe036433c68b278767811bac728c6db4f8b3,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14313,aceabe036433c68b278767811bac728c6db4f8b3,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
14314,aceabe036433c68b278767811bac728c6db4f8b3,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
14315,aceabe036433c68b278767811bac728c6db4f8b3,/9.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
14316,aceabe036433c68b278767811bac728c6db4f8b3,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14317,aceabe036433c68b278767811bac728c6db4f8b3,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14318,aceabe036433c68b278767811bac728c6db4f8b3,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14319,aceabe036433c68b278767811bac728c6db4f8b3,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
14320,ac840829bd52309030c8811d292776888109df63,/8.5/jdk13/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14321,ac840829bd52309030c8811d292776888109df63,/8.5/jdk13/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14322,ac840829bd52309030c8811d292776888109df63,/8.5/jdk13/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
14323,ac840829bd52309030c8811d292776888109df63,/8.5/jdk13/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
14324,ac840829bd52309030c8811d292776888109df63,/8.5/jdk13/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
14325,ac840829bd52309030c8811d292776888109df63,/8.5/jdk13/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14326,ac840829bd52309030c8811d292776888109df63,/8.5/jdk13/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14327,ac840829bd52309030c8811d292776888109df63,/8.5/jdk13/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
14328,ac840829bd52309030c8811d292776888109df63,/8.5/jdk13/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
14329,ac840829bd52309030c8811d292776888109df63,/8.5/jdk13/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14330,ac840829bd52309030c8811d292776888109df63,/8.5/jdk13/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14331,ac840829bd52309030c8811d292776888109df63,/8.5/jdk13/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14332,ac840829bd52309030c8811d292776888109df63,/8.5/jdk13/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
14333,9440e94bb99dbb82354c6e46a86a4f3228021956,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14334,9440e94bb99dbb82354c6e46a86a4f3228021956,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
14335,9440e94bb99dbb82354c6e46a86a4f3228021956,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
14336,9440e94bb99dbb82354c6e46a86a4f3228021956,/8.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
14337,9440e94bb99dbb82354c6e46a86a4f3228021956,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
14338,9440e94bb99dbb82354c6e46a86a4f3228021956,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14339,9440e94bb99dbb82354c6e46a86a4f3228021956,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14340,9440e94bb99dbb82354c6e46a86a4f3228021956,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
14341,c60667e01a4992662254338882cfd3acb94e692c,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14342,c60667e01a4992662254338882cfd3acb94e692c,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14343,c60667e01a4992662254338882cfd3acb94e692c,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14344,c60667e01a4992662254338882cfd3acb94e692c,/9.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
14345,c60667e01a4992662254338882cfd3acb94e692c,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14346,c60667e01a4992662254338882cfd3acb94e692c,/9.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
14347,c60667e01a4992662254338882cfd3acb94e692c,/9.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14348,c60667e01a4992662254338882cfd3acb94e692c,/9.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14349,c60667e01a4992662254338882cfd3acb94e692c,/9.0/jre8-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14350,c60667e01a4992662254338882cfd3acb94e692c,/9.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
14351,ac48cbb92d2664675929d013fd163fbc153697d9,/8.5/jdk13/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14352,ac48cbb92d2664675929d013fd163fbc153697d9,/8.5/jdk13/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14353,ac48cbb92d2664675929d013fd163fbc153697d9,/8.5/jdk13/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14354,ac48cbb92d2664675929d013fd163fbc153697d9,/8.5/jdk13/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14355,ac48cbb92d2664675929d013fd163fbc153697d9,/8.5/jdk13/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
14356,ac48cbb92d2664675929d013fd163fbc153697d9,/8.5/jdk13/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
14357,ac48cbb92d2664675929d013fd163fbc153697d9,/8.5/jdk13/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14358,ac48cbb92d2664675929d013fd163fbc153697d9,/8.5/jdk13/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14359,ac48cbb92d2664675929d013fd163fbc153697d9,/8.5/jdk13/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14360,ac48cbb92d2664675929d013fd163fbc153697d9,/8.5/jdk13/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14361,ac48cbb92d2664675929d013fd163fbc153697d9,/8.5/jdk13/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
14362,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14363,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
14364,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
14365,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
14366,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
14367,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14368,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14369,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
14370,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14371,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14372,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14373,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
14374,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14375,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14376,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
14377,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
14378,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
14379,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14380,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14381,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
14382,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
14383,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
14384,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
14385,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
14386,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14387,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14388,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14389,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
14390,2d96f919237f0211d39409da5b2d0de7e3d8733b,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14391,2d96f919237f0211d39409da5b2d0de7e3d8733b,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14392,2d96f919237f0211d39409da5b2d0de7e3d8733b,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14393,2d96f919237f0211d39409da5b2d0de7e3d8733b,/8.5/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
14394,2d96f919237f0211d39409da5b2d0de7e3d8733b,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14395,2d96f919237f0211d39409da5b2d0de7e3d8733b,/8.5/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
14396,2d96f919237f0211d39409da5b2d0de7e3d8733b,/8.5/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14397,2d96f919237f0211d39409da5b2d0de7e3d8733b,/8.5/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14398,2d96f919237f0211d39409da5b2d0de7e3d8733b,/8.5/jre8-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14399,2d96f919237f0211d39409da5b2d0de7e3d8733b,/8.5/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
14400,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14401,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
14402,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
14403,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
14404,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
14405,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14406,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14407,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
14408,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14409,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14410,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14411,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
14412,1691653797eb1f26b4e1d4898c71094ff9104e0e,/6-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
14413,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/Dockerfile.template,"# let ""Tomcat Native"" live somewhere isolated
"
14414,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/Dockerfile.template,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
14415,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/Dockerfile.template,"# only add stretch if we're not already building from within stretch
"
14416,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/Dockerfile.template,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
14417,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/Dockerfile.template,"# ... except OpenSSL, which is the reason we're here
"
14418,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/Dockerfile.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14419,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/Dockerfile.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14420,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/Dockerfile.template,"# if the version is outdated, we might have to pull from the dist/archive :/
"
14421,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/Dockerfile.template,"# not all the mirrors actually carry the .asc files :'(
"
14422,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/Dockerfile.template,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14423,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/Dockerfile.template,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14424,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/Dockerfile.template,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
14425,aceabe036433c68b278767811bac728c6db4f8b3,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14426,aceabe036433c68b278767811bac728c6db4f8b3,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14427,aceabe036433c68b278767811bac728c6db4f8b3,/8.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14428,aceabe036433c68b278767811bac728c6db4f8b3,/8.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14429,aceabe036433c68b278767811bac728c6db4f8b3,/8.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
14430,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14431,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14432,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14433,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
14434,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14435,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
14436,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14437,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14438,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14439,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
14440,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14441,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14442,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14443,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14444,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14445,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14446,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14447,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14448,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
14449,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre11/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14450,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre11/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
14451,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre11/Dockerfile,"# only add stretch if we're not already building from within stretch
"
14452,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre11/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
14453,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre11/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
14454,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre11/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14455,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre11/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14456,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre11/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
14457,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre11/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14458,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre11/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14459,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre11/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14460,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre11/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14461,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre11/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14462,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre11/Dockerfile,"# verify Tomcat Native is working properly
"
14463,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14464,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14465,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14466,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14467,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
14468,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
14469,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14470,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14471,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14472,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14473,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
14474,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14475,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
14476,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
14477,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
14478,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
14479,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14480,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14481,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
14482,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14483,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14484,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14485,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14486,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14487,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
14488,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14489,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14490,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14491,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14492,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
14493,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
14494,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
14495,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14496,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14497,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14498,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14499,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
14500,215ab750b637a4a8deedc03a0954a646b351758a,/9.0/jdk13/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14501,215ab750b637a4a8deedc03a0954a646b351758a,/9.0/jdk13/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14502,215ab750b637a4a8deedc03a0954a646b351758a,/9.0/jdk13/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14503,215ab750b637a4a8deedc03a0954a646b351758a,/9.0/jdk13/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14504,215ab750b637a4a8deedc03a0954a646b351758a,/9.0/jdk13/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
14505,215ab750b637a4a8deedc03a0954a646b351758a,/9.0/jdk13/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
14506,215ab750b637a4a8deedc03a0954a646b351758a,/9.0/jdk13/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14507,215ab750b637a4a8deedc03a0954a646b351758a,/9.0/jdk13/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14508,215ab750b637a4a8deedc03a0954a646b351758a,/9.0/jdk13/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14509,215ab750b637a4a8deedc03a0954a646b351758a,/9.0/jdk13/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14510,215ab750b637a4a8deedc03a0954a646b351758a,/9.0/jdk13/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
14511,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14512,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14513,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14514,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14515,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
14516,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
14517,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
14518,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14519,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14520,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14521,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14522,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
14523,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14524,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
14525,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
14526,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/8.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
14527,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
14528,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
14529,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14530,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
14531,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/7/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
14532,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14533,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14534,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
14535,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
14536,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
14537,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14538,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14539,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-oracle/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
14540,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-oracle/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
14541,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
14542,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
14543,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14544,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14545,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14546,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
14547,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14548,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14549,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
14550,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
14551,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
14552,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14553,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14554,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
14555,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
14556,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14557,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14558,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14559,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
14560,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14561,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14562,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14563,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14564,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
14565,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
14566,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
14567,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14568,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14569,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14570,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14571,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
14572,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14573,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14574,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14575,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14576,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
14577,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
14578,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
14579,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14580,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14581,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14582,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14583,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
14584,ec75141e3cb6276b07d66c16042152e2d4de119c,/6/jre7/Dockerfile,"# runtime dependency for Tomcat Native Libraries
"
14585,ec75141e3cb6276b07d66c16042152e2d4de119c,/6/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
14586,ec75141e3cb6276b07d66c16042152e2d4de119c,/6/jre7/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
14587,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14588,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14589,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14590,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14591,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
14592,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
14593,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
14594,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14595,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14596,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14597,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14598,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
14599,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/Dockerfile-yum.template,"# let ""Tomcat Native"" live somewhere isolated
"
14600,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/Dockerfile-yum.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14601,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/Dockerfile-yum.template,"# http://yum.baseurl.org/wiki/YumDB.html
"
14602,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/Dockerfile-yum.template,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
14603,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/Dockerfile-yum.template,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
14604,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/Dockerfile-yum.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14605,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/Dockerfile-yum.template,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14606,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/Dockerfile-yum.template,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
14607,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/Dockerfile-yum.template,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
14608,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/Dockerfile-yum.template,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
14609,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/Dockerfile-yum.template,"# mark any explicit dependencies as manually installed
"
14610,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/Dockerfile-yum.template,"# clean up anything added temporarily and not later marked as necessary
"
14611,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/Dockerfile-yum.template,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14612,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/Dockerfile-yum.template,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14613,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/Dockerfile-yum.template,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14614,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/Dockerfile-yum.template,"# verify Tomcat Native is working properly
"
14615,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk12/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14616,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk12/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14617,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk12/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
14618,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk12/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
14619,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk12/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
14620,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk12/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14621,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk12/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14622,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk12/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
14623,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk12/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
14624,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk12/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14625,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk12/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14626,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk12/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14627,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk12/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
14628,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14629,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
14630,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
14631,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
14632,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
14633,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14634,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14635,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
14636,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14637,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14638,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14639,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14640,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14641,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
14642,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14643,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
14644,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
14645,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
14646,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
14647,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14648,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14649,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
14650,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14651,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14652,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14653,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
14654,9c280294942795515740cb6d78b1d51d95b31928,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14655,9c280294942795515740cb6d78b1d51d95b31928,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
14656,9c280294942795515740cb6d78b1d51d95b31928,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
14657,9c280294942795515740cb6d78b1d51d95b31928,/8.5/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
14658,9c280294942795515740cb6d78b1d51d95b31928,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14659,9c280294942795515740cb6d78b1d51d95b31928,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14660,9c280294942795515740cb6d78b1d51d95b31928,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14661,9c280294942795515740cb6d78b1d51d95b31928,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
14662,eba2c31453300691978be256d5416821a788850d,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14663,eba2c31453300691978be256d5416821a788850d,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
14664,eba2c31453300691978be256d5416821a788850d,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
14665,eba2c31453300691978be256d5416821a788850d,/8.0/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
14666,eba2c31453300691978be256d5416821a788850d,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14667,eba2c31453300691978be256d5416821a788850d,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14668,eba2c31453300691978be256d5416821a788850d,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14669,eba2c31453300691978be256d5416821a788850d,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
14670,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14671,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14672,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14673,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
14674,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14675,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
14676,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14677,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
14678,2f17559d7a1c62dbc17b63750b31a0beea205120,/8-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
14679,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre10-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14680,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre10-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
14681,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre10-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
14682,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre10-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
14683,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre10-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
14684,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre10-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14685,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre10-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14686,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre10-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
14687,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre10-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14688,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre10-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14689,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre10-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14690,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre10-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
14691,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14692,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14693,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14694,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14695,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
14696,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
14697,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
14698,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14699,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14700,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14701,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14702,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
14703,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14704,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
14705,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
14706,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
14707,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
14708,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14709,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14710,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
14711,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14712,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14713,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14714,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14715,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14716,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
14717,68ba169d29cbe2a68b3bc8549daadd9b0cb831c6,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14718,68ba169d29cbe2a68b3bc8549daadd9b0cb831c6,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
14719,68ba169d29cbe2a68b3bc8549daadd9b0cb831c6,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
14720,68ba169d29cbe2a68b3bc8549daadd9b0cb831c6,/7/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
14721,68ba169d29cbe2a68b3bc8549daadd9b0cb831c6,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14722,68ba169d29cbe2a68b3bc8549daadd9b0cb831c6,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14723,68ba169d29cbe2a68b3bc8549daadd9b0cb831c6,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14724,68ba169d29cbe2a68b3bc8549daadd9b0cb831c6,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
14725,fae008566295d1eec89de04385215fdd54eceda5,/9.0/jre10-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14726,fae008566295d1eec89de04385215fdd54eceda5,/9.0/jre10-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
14727,fae008566295d1eec89de04385215fdd54eceda5,/9.0/jre10-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
14728,fae008566295d1eec89de04385215fdd54eceda5,/9.0/jre10-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
14729,fae008566295d1eec89de04385215fdd54eceda5,/9.0/jre10-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
14730,fae008566295d1eec89de04385215fdd54eceda5,/9.0/jre10-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14731,fae008566295d1eec89de04385215fdd54eceda5,/9.0/jre10-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14732,fae008566295d1eec89de04385215fdd54eceda5,/9.0/jre10-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
14733,fae008566295d1eec89de04385215fdd54eceda5,/9.0/jre10-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14734,fae008566295d1eec89de04385215fdd54eceda5,/9.0/jre10-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14735,fae008566295d1eec89de04385215fdd54eceda5,/9.0/jre10-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14736,fae008566295d1eec89de04385215fdd54eceda5,/9.0/jre10-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
14737,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14738,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14739,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14740,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
14741,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14742,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
14743,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14744,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
14745,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14746,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
14747,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
14748,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
14749,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14750,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14751,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14752,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
14753,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14754,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14755,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
14756,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
14757,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
14758,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14759,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14760,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
14761,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
14762,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
14763,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
14764,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14765,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14766,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14767,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
14768,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre10-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14769,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre10-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
14770,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre10-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
14771,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre10-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
14772,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre10-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
14773,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre10-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14774,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre10-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14775,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre10-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
14776,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre10-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14777,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre10-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14778,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre10-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14779,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre10-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14780,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre10-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14781,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre10-slim/Dockerfile,"# verify Tomcat Native is working properly
"
14782,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14783,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
14784,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
14785,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
14786,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
14787,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14788,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14789,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
14790,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/Dockerfile.template,"# let ""Tomcat Native"" live somewhere isolated
"
14791,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/Dockerfile.template,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
14792,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/Dockerfile.template,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
14793,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/Dockerfile.template,"# except OpenSSL, which is the reason we're here
"
14794,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/Dockerfile.template,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
14795,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/Dockerfile.template,"# verify Tomcat Native is working properly
"
14796,460dd07bda6a533d8ad7ca8c03ad78d715575056,/8-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
14797,be9bb25a8bec9027dc11a05531ecd1f4171c8411,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14798,be9bb25a8bec9027dc11a05531ecd1f4171c8411,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
14799,be9bb25a8bec9027dc11a05531ecd1f4171c8411,/8.0/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
14800,be9bb25a8bec9027dc11a05531ecd1f4171c8411,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
14801,be9bb25a8bec9027dc11a05531ecd1f4171c8411,/8.0/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
14802,be9bb25a8bec9027dc11a05531ecd1f4171c8411,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14803,be9bb25a8bec9027dc11a05531ecd1f4171c8411,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14804,be9bb25a8bec9027dc11a05531ecd1f4171c8411,/8.0/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
14805,be9bb25a8bec9027dc11a05531ecd1f4171c8411,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14806,be9bb25a8bec9027dc11a05531ecd1f4171c8411,/8.0/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14807,be9bb25a8bec9027dc11a05531ecd1f4171c8411,/8.0/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
14808,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14809,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14810,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14811,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14812,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
14813,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
14814,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
14815,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14816,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14817,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14818,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14819,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
14820,6541873f38f72fdd2b4aab6afcf692f4a513b05d,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14821,6541873f38f72fdd2b4aab6afcf692f4a513b05d,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14822,6541873f38f72fdd2b4aab6afcf692f4a513b05d,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14823,6541873f38f72fdd2b4aab6afcf692f4a513b05d,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14824,6541873f38f72fdd2b4aab6afcf692f4a513b05d,/7/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
14825,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14826,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14827,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14828,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14829,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
14830,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
14831,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
14832,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14833,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14834,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14835,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14836,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
14837,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14838,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14839,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14840,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14841,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
14842,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
14843,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
14844,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14845,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14846,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14847,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14848,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
14849,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14850,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
14851,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
14852,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
14853,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
14854,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14855,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14856,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
14857,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14858,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14859,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14860,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14861,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14862,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
14863,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre10-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14864,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre10-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
14865,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre10-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
14866,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre10-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
14867,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre10-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
14868,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre10-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14869,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre10-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14870,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre10-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
14871,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre10-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14872,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre10-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14873,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre10-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14874,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre10-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
14875,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/6/jre8/Dockerfile,"# runtime dependency for Tomcat Native Libraries
"
14876,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/6/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14877,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/6/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14878,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/6/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14879,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/6/jre8/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
14880,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14881,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14882,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
14883,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
14884,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
14885,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14886,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14887,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
14888,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
14889,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14890,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14891,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14892,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
14893,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre11/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14894,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre11/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
14895,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre11/Dockerfile,"# only add stretch if we're not already building from within stretch
"
14896,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre11/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
14897,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre11/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
14898,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre11/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14899,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre11/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14900,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre11/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
14901,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre11/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14902,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre11/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14903,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre11/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14904,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre11/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14905,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre11/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14906,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre11/Dockerfile,"# verify Tomcat Native is working properly
"
14907,8323df4824d3661f094a1a6c30ed7e13c0536b9e,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
14908,8323df4824d3661f094a1a6c30ed7e13c0536b9e,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
14909,8323df4824d3661f094a1a6c30ed7e13c0536b9e,/8.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
14910,8323df4824d3661f094a1a6c30ed7e13c0536b9e,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
14911,8323df4824d3661f094a1a6c30ed7e13c0536b9e,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
14912,0c424e7244945e69d564fbc27f644ec20f58e193,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14913,0c424e7244945e69d564fbc27f644ec20f58e193,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14914,0c424e7244945e69d564fbc27f644ec20f58e193,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14915,0c424e7244945e69d564fbc27f644ec20f58e193,/8.5/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
14916,0c424e7244945e69d564fbc27f644ec20f58e193,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14917,0c424e7244945e69d564fbc27f644ec20f58e193,/8.5/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
14918,0c424e7244945e69d564fbc27f644ec20f58e193,/8.5/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14919,0c424e7244945e69d564fbc27f644ec20f58e193,/8.5/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14920,0c424e7244945e69d564fbc27f644ec20f58e193,/8.5/jre8-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14921,0c424e7244945e69d564fbc27f644ec20f58e193,/8.5/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
14922,42acf24d6056b82d396da6658943f5c26e7b5cc1,/8-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
14923,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14924,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14925,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
14926,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
14927,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
14928,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14929,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14930,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
14931,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
14932,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
14933,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
14934,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
14935,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14936,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14937,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14938,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
14939,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14940,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14941,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14942,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14943,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14944,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14945,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14946,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14947,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
14948,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14949,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14950,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
14951,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
14952,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
14953,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14954,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14955,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
14956,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
14957,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
14958,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
14959,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
14960,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14961,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14962,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14963,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
14964,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre7-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14965,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre7-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
14966,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre7-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
14967,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre7-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
14968,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre7-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
14969,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre7-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14970,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre7-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14971,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre7-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
14972,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre7-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14973,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre7-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14974,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre7-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14975,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre7-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
14976,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre7-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14977,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre7-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
14978,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre7-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
14979,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre7-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
14980,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre7-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
14981,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre7-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14982,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre7-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14983,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre7-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
14984,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre7-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14985,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre7-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14986,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre7-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14987,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre7-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
14988,31289c61ce9a5ad829ca9ad8adabf0e3160f16e8,/6-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
14989,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14990,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14991,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14992,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14993,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
14994,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
14995,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
14996,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14997,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14998,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14999,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15000,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
15001,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre7-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15002,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre7-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
15003,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre7-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
15004,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre7-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
15005,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre7-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
15006,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre7-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15007,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre7-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15008,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre7-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
15009,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre7-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15010,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre7-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15011,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre7-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15012,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre7-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
15013,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre10/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15014,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre10/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
15015,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre10/Dockerfile,"# only add stretch if we're not already building from within stretch
"
15016,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre10/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
15017,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre10/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
15018,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre10/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15019,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre10/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15020,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre10/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
15021,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre10/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15022,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre10/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15023,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre10/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15024,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre10/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15025,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre10/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15026,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre10/Dockerfile,"# verify Tomcat Native is working properly
"
15027,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15028,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15029,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15030,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
15031,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
15032,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
15033,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
15034,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15035,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15036,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15037,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15038,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
15039,58c79694a83a12077150ad57b8dd46296548b958,/Dockerfile-yum.template,"# let ""Tomcat Native"" live somewhere isolated
"
15040,58c79694a83a12077150ad57b8dd46296548b958,/Dockerfile-yum.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15041,58c79694a83a12077150ad57b8dd46296548b958,/Dockerfile-yum.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15042,58c79694a83a12077150ad57b8dd46296548b958,/Dockerfile-yum.template,"# if the version is outdated, we might have to pull from the dist/archive :/
"
15043,58c79694a83a12077150ad57b8dd46296548b958,/Dockerfile-yum.template,"# not all the mirrors actually carry the .asc files :'(
"
15044,58c79694a83a12077150ad57b8dd46296548b958,/Dockerfile-yum.template,"# TODO should we leave these installed, or remove them too?
"
15045,58c79694a83a12077150ad57b8dd46296548b958,/Dockerfile-yum.template,"# http://yum.baseurl.org/wiki/YumDB.html (updating ""reason"" to ""user"" for tomcat-native build dependencies)
# TODO find a better/cleaner way to generically interact with the yumdb for the purposes of marking things as automatically/manually installed
"
15046,58c79694a83a12077150ad57b8dd46296548b958,/Dockerfile-yum.template,"# TODO handle ""$nativeBuildDeps"" in a similarly generic way?
"
15047,58c79694a83a12077150ad57b8dd46296548b958,/Dockerfile-yum.template,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15048,58c79694a83a12077150ad57b8dd46296548b958,/Dockerfile-yum.template,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15049,58c79694a83a12077150ad57b8dd46296548b958,/Dockerfile-yum.template,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15050,58c79694a83a12077150ad57b8dd46296548b958,/Dockerfile-yum.template,"# verify Tomcat Native is working properly
"
15051,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15052,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15053,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
15054,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
15055,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
15056,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15057,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
15058,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
15059,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
15060,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15061,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15062,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15063,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
15064,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15065,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
15066,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/7/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
15067,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
15068,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/7/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
15069,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15070,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15071,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15072,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
15073,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15074,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre9/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
15075,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre9/Dockerfile,"# only add stretch if we're not already building from within stretch
"
15076,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre9/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
15077,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre9/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
15078,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15079,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15080,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre9/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
15081,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre9/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15082,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15083,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15084,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
15085,3b05667011a600a2f46422dd533467eff8e7fecf,/6-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
15086,6541873f38f72fdd2b4aab6afcf692f4a513b05d,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15087,6541873f38f72fdd2b4aab6afcf692f4a513b05d,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15088,6541873f38f72fdd2b4aab6afcf692f4a513b05d,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15089,6541873f38f72fdd2b4aab6afcf692f4a513b05d,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15090,6541873f38f72fdd2b4aab6afcf692f4a513b05d,/7/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
15091,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15092,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15093,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
15094,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
15095,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
15096,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15097,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
15098,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
15099,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
15100,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15101,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15102,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15103,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
15104,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15105,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
15106,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
15107,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/8.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
15108,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15109,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15110,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15111,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
15112,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15113,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15114,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15115,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
15116,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15117,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
15118,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15119,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
15120,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15121,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15122,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15123,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
15124,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15125,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15126,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15127,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15128,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
15129,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre11-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15130,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre11-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
15131,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre11-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
15132,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre11-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
15133,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre11-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
15134,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre11-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15135,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre11-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15136,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre11-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
15137,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre11-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15138,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre11-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15139,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre11-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15140,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre11-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15141,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre11-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15142,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre11-slim/Dockerfile,"# verify Tomcat Native is working properly
"
15143,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15144,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
15145,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/8.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
15146,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
15147,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/8.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
15148,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15149,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15150,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15151,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
15152,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15153,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15154,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15155,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
15156,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15157,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15158,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15159,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15160,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
15161,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15162,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15163,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15164,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
15165,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15166,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15167,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15168,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15169,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
15170,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15171,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15172,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15173,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
15174,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
15175,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
15176,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
15177,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15178,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15179,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15180,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15181,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
15182,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15183,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15184,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15185,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
15186,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
15187,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
15188,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
15189,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15190,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15191,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15192,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15193,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
15194,fcc0cd5d0992ec4a07f5844c98b0e3112a0568de,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15195,fcc0cd5d0992ec4a07f5844c98b0e3112a0568de,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
15196,fcc0cd5d0992ec4a07f5844c98b0e3112a0568de,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
15197,fcc0cd5d0992ec4a07f5844c98b0e3112a0568de,/8.0/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
15198,fcc0cd5d0992ec4a07f5844c98b0e3112a0568de,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15199,fcc0cd5d0992ec4a07f5844c98b0e3112a0568de,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15200,fcc0cd5d0992ec4a07f5844c98b0e3112a0568de,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15201,fcc0cd5d0992ec4a07f5844c98b0e3112a0568de,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
15202,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15203,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15204,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15205,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
15206,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15207,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
15208,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15209,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
15210,5985bc3fcd2479df62bdada2570651291c2e96b2,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15211,5985bc3fcd2479df62bdada2570651291c2e96b2,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15212,5985bc3fcd2479df62bdada2570651291c2e96b2,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15213,5985bc3fcd2479df62bdada2570651291c2e96b2,/8.5/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
15214,5985bc3fcd2479df62bdada2570651291c2e96b2,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15215,5985bc3fcd2479df62bdada2570651291c2e96b2,/8.5/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
15216,5985bc3fcd2479df62bdada2570651291c2e96b2,/8.5/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15217,5985bc3fcd2479df62bdada2570651291c2e96b2,/8.5/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
15218,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre10-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15219,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre10-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
15220,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre10-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
15221,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre10-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
15222,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre10-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
15223,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre10-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15224,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre10-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15225,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre10-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
15226,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre10-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15227,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre10-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15228,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre10-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15229,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre10-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
15230,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15231,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15232,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15233,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
15234,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15235,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15236,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15237,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15238,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
15239,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15240,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15241,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15242,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
15243,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15244,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15245,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15246,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15247,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
15248,a041e006c1713abd79d67de3a057b845112f19ad,/Dockerfile-yum.template,"# let ""Tomcat Native"" live somewhere isolated
"
15249,a041e006c1713abd79d67de3a057b845112f19ad,/Dockerfile-yum.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15250,a041e006c1713abd79d67de3a057b845112f19ad,/Dockerfile-yum.template,"# http://yum.baseurl.org/wiki/YumDB.html
"
15251,a041e006c1713abd79d67de3a057b845112f19ad,/Dockerfile-yum.template,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
15252,a041e006c1713abd79d67de3a057b845112f19ad,/Dockerfile-yum.template,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
15253,a041e006c1713abd79d67de3a057b845112f19ad,/Dockerfile-yum.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15254,a041e006c1713abd79d67de3a057b845112f19ad,/Dockerfile-yum.template,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
15255,a041e006c1713abd79d67de3a057b845112f19ad,/Dockerfile-yum.template,"# mark any explicit dependencies as manually installed
"
15256,a041e006c1713abd79d67de3a057b845112f19ad,/Dockerfile-yum.template,"# clean up anything added temporarily and not later marked as necessary
"
15257,a041e006c1713abd79d67de3a057b845112f19ad,/Dockerfile-yum.template,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15258,a041e006c1713abd79d67de3a057b845112f19ad,/Dockerfile-yum.template,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15259,a041e006c1713abd79d67de3a057b845112f19ad,/Dockerfile-yum.template,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15260,a041e006c1713abd79d67de3a057b845112f19ad,/Dockerfile-yum.template,"# verify Tomcat Native is working properly
"
15261,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15262,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
15263,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
15264,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
15265,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
15266,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15267,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15268,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
15269,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15270,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15271,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15272,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15273,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15274,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
15275,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15276,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
15277,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
15278,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
15279,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15280,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15281,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15282,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
15283,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15284,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15285,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15286,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
15287,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15288,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15289,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15290,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15291,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
15292,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15293,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
15294,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/7/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
15295,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15296,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15297,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
15298,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
15299,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
15300,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15301,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
15302,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
15303,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
15304,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15305,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15306,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15307,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
15308,4fddd4bc6c1656e34b0da3b374ca0f036b689adb,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15309,4fddd4bc6c1656e34b0da3b374ca0f036b689adb,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
15310,4fddd4bc6c1656e34b0da3b374ca0f036b689adb,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
15311,4fddd4bc6c1656e34b0da3b374ca0f036b689adb,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
15312,4fddd4bc6c1656e34b0da3b374ca0f036b689adb,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
15313,4fddd4bc6c1656e34b0da3b374ca0f036b689adb,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15314,4fddd4bc6c1656e34b0da3b374ca0f036b689adb,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15315,4fddd4bc6c1656e34b0da3b374ca0f036b689adb,/9.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
15316,4fddd4bc6c1656e34b0da3b374ca0f036b689adb,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15317,4fddd4bc6c1656e34b0da3b374ca0f036b689adb,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15318,4fddd4bc6c1656e34b0da3b374ca0f036b689adb,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
15319,989f50ed5db788921a4954109b90362e2209295e,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15320,989f50ed5db788921a4954109b90362e2209295e,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
15321,989f50ed5db788921a4954109b90362e2209295e,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
15322,989f50ed5db788921a4954109b90362e2209295e,/8.0/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
15323,989f50ed5db788921a4954109b90362e2209295e,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
15324,989f50ed5db788921a4954109b90362e2209295e,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
15325,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15326,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
15327,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
15328,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
15329,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
15330,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15331,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15332,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
15333,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15334,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre7/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15335,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15336,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
15337,1cb69781deeac97b2bb138054de3b2f35e9b49a0,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15338,1cb69781deeac97b2bb138054de3b2f35e9b49a0,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
15339,1cb69781deeac97b2bb138054de3b2f35e9b49a0,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
15340,1cb69781deeac97b2bb138054de3b2f35e9b49a0,/9.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
15341,1cb69781deeac97b2bb138054de3b2f35e9b49a0,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15342,1cb69781deeac97b2bb138054de3b2f35e9b49a0,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15343,1cb69781deeac97b2bb138054de3b2f35e9b49a0,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15344,1cb69781deeac97b2bb138054de3b2f35e9b49a0,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
15345,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre9-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15346,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre9-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
15347,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre9-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
15348,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre9-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
15349,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre9-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
15350,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre9-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15351,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre9-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15352,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre9-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
15353,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre9-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15354,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre9-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15355,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre9-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15356,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre9-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
15357,ed98c30c1cd42c53831f64dffa78a0abf7db8e9a,/6-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
15358,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15359,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15360,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15361,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
15362,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15363,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15364,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15365,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15366,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
15367,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15368,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15369,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15370,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
15371,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
15372,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
15373,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
15374,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15375,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15376,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15377,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15378,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
15379,19e79970b009a783033271e07dab30644ad3081c,/Dockerfile.template,"# let ""Tomcat Native"" live somewhere isolated
"
15380,19e79970b009a783033271e07dab30644ad3081c,/Dockerfile.template,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
15381,19e79970b009a783033271e07dab30644ad3081c,/Dockerfile.template,"# only add stretch if we're not already building from within stretch
"
15382,19e79970b009a783033271e07dab30644ad3081c,/Dockerfile.template,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
15383,19e79970b009a783033271e07dab30644ad3081c,/Dockerfile.template,"# ... except OpenSSL, which is the reason we're here
"
15384,19e79970b009a783033271e07dab30644ad3081c,/Dockerfile.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15385,19e79970b009a783033271e07dab30644ad3081c,/Dockerfile.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15386,19e79970b009a783033271e07dab30644ad3081c,/Dockerfile.template,"# if the version is outdated, we might have to pull from the dist/archive :/
"
15387,19e79970b009a783033271e07dab30644ad3081c,/Dockerfile.template,"# not all the mirrors actually carry the .asc files :'(
"
15388,19e79970b009a783033271e07dab30644ad3081c,/Dockerfile.template,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15389,19e79970b009a783033271e07dab30644ad3081c,/Dockerfile.template,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
15390,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/6/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15391,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/6/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
15392,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/6/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
15393,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/6/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
15394,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/6/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15395,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/6/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15396,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/6/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15397,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/6/jre8/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
15398,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15399,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15400,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
15401,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
15402,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
15403,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15404,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
15405,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
15406,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
15407,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
15408,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
15409,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
15410,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15411,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15412,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15413,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
15414,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15415,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15416,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15417,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
15418,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
15419,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
15420,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
15421,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15422,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15423,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15424,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15425,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
