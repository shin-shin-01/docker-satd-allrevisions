,CommitID,Dockerfile,Comment
0,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
5,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
6,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
11,06a7e79e30595058df3c2fec9c769e47e2bca56d,/6/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12,06a7e79e30595058df3c2fec9c769e47e2bca56d,/6/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
13,06a7e79e30595058df3c2fec9c769e47e2bca56d,/6/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
14,06a7e79e30595058df3c2fec9c769e47e2bca56d,/6/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
15,06a7e79e30595058df3c2fec9c769e47e2bca56d,/6/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16,06a7e79e30595058df3c2fec9c769e47e2bca56d,/6/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17,06a7e79e30595058df3c2fec9c769e47e2bca56d,/6/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18,06a7e79e30595058df3c2fec9c769e47e2bca56d,/6/jre7/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
19,6f1c628fa92feea8b28e98e56a990500f2326936,/6-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
20,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre11/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
21,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre11/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
22,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre11/Dockerfile,"# only add stretch if we're not already building from within stretch
"
23,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre11/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
24,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre11/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
25,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre11/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
26,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre11/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
27,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre11/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
28,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre11/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
29,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre11/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
30,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre11/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
31,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre11/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
32,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre11/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
33,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre11/Dockerfile,"# verify Tomcat Native is working properly
"
34,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
35,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
36,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
37,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
38,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
39,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
40,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
41,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
42,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
43,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
44,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
45,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
46,bd0e24fdb2c21cccb32d9ee821e0c96cf8b2f393,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
47,bd0e24fdb2c21cccb32d9ee821e0c96cf8b2f393,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
48,bd0e24fdb2c21cccb32d9ee821e0c96cf8b2f393,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
49,bd0e24fdb2c21cccb32d9ee821e0c96cf8b2f393,/8.5/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
50,bd0e24fdb2c21cccb32d9ee821e0c96cf8b2f393,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
51,bd0e24fdb2c21cccb32d9ee821e0c96cf8b2f393,/8.5/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
52,bd0e24fdb2c21cccb32d9ee821e0c96cf8b2f393,/8.5/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
53,bd0e24fdb2c21cccb32d9ee821e0c96cf8b2f393,/8.5/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
54,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
55,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
56,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
57,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
58,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
59,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
60,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
61,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
62,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
63,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
64,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
65,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
66,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
67,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
68,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
69,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
70,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
71,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
72,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre7/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
73,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
74,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
75,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk13/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
76,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk13/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
77,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk13/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
78,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk13/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
79,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk13/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
80,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk13/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
81,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk13/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
82,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk13/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
83,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk13/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
84,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk13/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
85,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk13/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
86,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk13/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
87,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk13/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
88,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk14/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
89,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk14/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
90,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk14/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
91,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk14/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
92,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk14/openjdk-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
93,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk14/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
94,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk14/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
95,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk14/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
96,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk14/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
97,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk14/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
98,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk14/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
99,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk14/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
100,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
101,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
102,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
103,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
104,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
105,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
106,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
107,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
108,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
109,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
110,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
111,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
112,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
113,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
114,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
115,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
116,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
117,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
118,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
119,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
120,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
121,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
122,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
123,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
124,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
125,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
126,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/8.0/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
127,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/8.0/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
128,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/8.0/jre7-alpine/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
129,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/8.0/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
130,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/8.0/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
131,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/8.0/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
132,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
133,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
134,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
135,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
136,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
137,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
138,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
139,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
140,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
141,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
142,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
143,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
144,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre9/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
145,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre9/Dockerfile,"# only add stretch if we're not already building from within stretch
"
146,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre9/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
147,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre9/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
148,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
149,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
150,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre9/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
151,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre9/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
152,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
153,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
154,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
155,a227157792e94c669148c3c2a09072fb317070e0,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
156,a227157792e94c669148c3c2a09072fb317070e0,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
157,a227157792e94c669148c3c2a09072fb317070e0,/8.0/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
158,a227157792e94c669148c3c2a09072fb317070e0,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
159,a227157792e94c669148c3c2a09072fb317070e0,/8.0/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
160,a227157792e94c669148c3c2a09072fb317070e0,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
161,a227157792e94c669148c3c2a09072fb317070e0,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
162,a227157792e94c669148c3c2a09072fb317070e0,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
163,a227157792e94c669148c3c2a09072fb317070e0,/8.0/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
164,a227157792e94c669148c3c2a09072fb317070e0,/8.0/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
165,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
166,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
167,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
168,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
169,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
170,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
171,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
172,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
173,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
174,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
175,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre9/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
176,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre9/Dockerfile,"# only add stretch if we're not already building from within stretch
"
177,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre9/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
178,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre9/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
179,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
180,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
181,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre9/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
182,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre9/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
183,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
184,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
185,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
186,980cfce753b4b185feda907b35648089386607af,/8-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
187,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/7/jdk8/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
188,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/7/jdk8/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
189,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/7/jdk8/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
190,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/7/jdk8/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
191,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/7/jdk8/openjdk-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
192,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/7/jdk8/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
193,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/7/jdk8/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
194,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/7/jdk8/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
195,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/7/jdk8/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
196,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/7/jdk8/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
197,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/7/jdk8/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
198,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/7/jdk8/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
199,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
200,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
201,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
202,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
203,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
204,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
205,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
206,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
207,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
208,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
209,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
210,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
211,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
212,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
213,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
214,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
215,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
216,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
217,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
218,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
219,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
220,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
221,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
222,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
223,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
224,8c174e038fe911fecc1a920a56afc10fd343bce2,/7-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
225,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
226,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
227,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
228,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
229,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
230,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
231,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
232,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
233,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
234,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
235,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
236,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
237,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
238,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
239,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
240,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
241,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
242,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
243,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
244,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
245,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
246,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
247,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
248,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
249,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
250,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
251,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
252,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
253,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
254,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
255,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
256,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
257,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
258,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
259,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
260,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
261,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre9-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
262,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre9-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
263,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre9-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
264,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre9-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
265,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre9-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
266,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre9-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
267,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre9-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
268,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre9-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
269,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre9-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
270,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre9-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
271,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre9-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
272,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre9-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
273,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
274,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
275,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
276,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/9.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
277,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
278,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
279,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
280,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
281,1ce7bd2eed038fb722527f41f0f185322d53e979,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
282,1ce7bd2eed038fb722527f41f0f185322d53e979,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
283,1ce7bd2eed038fb722527f41f0f185322d53e979,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
284,1ce7bd2eed038fb722527f41f0f185322d53e979,/8.5/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
285,1ce7bd2eed038fb722527f41f0f185322d53e979,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
286,1ce7bd2eed038fb722527f41f0f185322d53e979,/8.5/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
287,1ce7bd2eed038fb722527f41f0f185322d53e979,/8.5/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
288,1ce7bd2eed038fb722527f41f0f185322d53e979,/8.5/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
289,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
290,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
291,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
292,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
293,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
294,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
295,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
296,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
297,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
298,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk8/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
299,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk8/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
300,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk8/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
301,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk8/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
302,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk8/openjdk-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
303,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk8/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
304,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk8/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
305,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk8/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
306,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk8/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
307,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk8/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
308,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk8/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
309,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk8/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
310,9a104de6086d4a05ca08c193e25ec45a379ba4b2,/7-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
311,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
312,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
313,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
314,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
315,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
316,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
317,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
318,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
319,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
320,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
321,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
322,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
323,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
324,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
325,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
326,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
327,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
328,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
329,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
330,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
331,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
332,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
333,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
334,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
335,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
336,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
337,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
338,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
339,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
340,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/8.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
341,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
342,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
343,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
344,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
345,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
346,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
347,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
348,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
349,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
350,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
351,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
352,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
353,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
354,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
355,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
356,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
357,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
358,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
359,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
360,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
361,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
362,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
363,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
364,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
365,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
366,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
367,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
368,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
369,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
370,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/8.0/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
371,676f0e07000cd25c027b71d2433ddf531a75eefd,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
372,676f0e07000cd25c027b71d2433ddf531a75eefd,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
373,676f0e07000cd25c027b71d2433ddf531a75eefd,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
374,676f0e07000cd25c027b71d2433ddf531a75eefd,/8.5/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
375,676f0e07000cd25c027b71d2433ddf531a75eefd,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
376,676f0e07000cd25c027b71d2433ddf531a75eefd,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
377,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
378,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
379,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/8.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
380,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
381,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
382,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
383,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
384,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/7/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
385,f26c14147f9affae8f32100430130271fc82bd3e,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
386,f26c14147f9affae8f32100430130271fc82bd3e,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
387,f26c14147f9affae8f32100430130271fc82bd3e,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
388,f26c14147f9affae8f32100430130271fc82bd3e,/7/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
389,f26c14147f9affae8f32100430130271fc82bd3e,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
390,f26c14147f9affae8f32100430130271fc82bd3e,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
391,f26c14147f9affae8f32100430130271fc82bd3e,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
392,f26c14147f9affae8f32100430130271fc82bd3e,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
393,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre9-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
394,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre9-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
395,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre9-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
396,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre9-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
397,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre9-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
398,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre9-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
399,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre9-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
400,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre9-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
401,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre9-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
402,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre9-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
403,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre9-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
404,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre9-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
405,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
406,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
407,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
408,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
409,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
410,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
411,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
412,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
413,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
414,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
415,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
416,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
417,7a16673434d629938f064b5aed86df44ee49b53a,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
418,7a16673434d629938f064b5aed86df44ee49b53a,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
419,7a16673434d629938f064b5aed86df44ee49b53a,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
420,7a16673434d629938f064b5aed86df44ee49b53a,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
421,7a16673434d629938f064b5aed86df44ee49b53a,/7/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
422,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
423,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
424,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
425,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
426,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
427,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
428,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
429,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
430,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
431,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
432,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
433,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
434,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
435,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
436,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
437,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
438,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
439,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
440,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
441,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
442,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
443,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
444,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
445,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
446,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
447,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
448,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
449,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
450,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
451,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
452,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
453,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
454,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
455,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
456,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
457,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
458,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
459,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
460,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
461,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
462,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
463,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
464,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
465,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
466,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
467,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
468,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
469,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
470,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
471,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
472,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
473,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
474,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
475,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
476,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
477,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
478,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
479,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
480,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
481,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
482,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
483,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
484,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
485,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
486,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
487,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
488,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
489,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
490,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
491,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
492,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
493,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
494,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
495,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
496,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk14/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
497,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk14/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
498,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk14/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
499,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk14/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
500,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk14/openjdk-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
501,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk14/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
502,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk14/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
503,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk14/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
504,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk14/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
505,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk14/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
506,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk14/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
507,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk14/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
508,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
509,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
510,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
511,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
512,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
513,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
514,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
515,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
516,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
517,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
518,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
519,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
520,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
521,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
522,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
523,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
524,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
525,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
526,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
527,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
528,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
529,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
530,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
531,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
532,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
533,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
534,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
535,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
536,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
537,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
538,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
539,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
540,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
541,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
542,aff42b3c40f2dff08b421fce66b81983706bfc50,/8-jre7/Dockerfile,"# add our user and group first to make sure their IDs get assigned consistently, regardless of whatever dependencies get added
"
543,aff42b3c40f2dff08b421fce66b81983706bfc50,/8-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
544,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
545,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
546,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
547,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
548,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
549,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
550,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
551,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
552,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
553,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
554,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre11-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
555,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre11-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
556,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre11-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
557,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre11-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
558,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre11-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
559,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre11-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
560,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre11-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
561,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre11-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
562,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre11-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
563,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre11-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
564,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre11-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
565,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre11-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
566,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre11-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
567,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre11-slim/Dockerfile,"# verify Tomcat Native is working properly
"
568,50f4c2ff10406eec6d4a01b5490274c6024399d6,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
569,50f4c2ff10406eec6d4a01b5490274c6024399d6,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
570,50f4c2ff10406eec6d4a01b5490274c6024399d6,/7/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
571,50f4c2ff10406eec6d4a01b5490274c6024399d6,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
572,50f4c2ff10406eec6d4a01b5490274c6024399d6,/7/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
573,50f4c2ff10406eec6d4a01b5490274c6024399d6,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
574,50f4c2ff10406eec6d4a01b5490274c6024399d6,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
575,50f4c2ff10406eec6d4a01b5490274c6024399d6,/7/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
576,50f4c2ff10406eec6d4a01b5490274c6024399d6,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
577,50f4c2ff10406eec6d4a01b5490274c6024399d6,/7/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
578,50f4c2ff10406eec6d4a01b5490274c6024399d6,/7/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
579,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk14/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
580,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk14/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
581,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk14/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
582,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk14/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
583,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk14/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
584,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk14/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
585,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk14/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
586,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk14/openjdk-oracle/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
587,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk14/openjdk-oracle/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
588,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk14/openjdk-oracle/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
589,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk14/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
590,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk14/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
591,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk14/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
592,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk14/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
593,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk14/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
594,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk14/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
595,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
596,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
597,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
598,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
599,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
600,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
601,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
602,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
603,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
604,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
605,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
606,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
607,ec75141e3cb6276b07d66c16042152e2d4de119c,/8.5/jre8/Dockerfile,"# runtime dependency for Tomcat Native Libraries
"
608,ec75141e3cb6276b07d66c16042152e2d4de119c,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
609,ec75141e3cb6276b07d66c16042152e2d4de119c,/8.5/jre8/Dockerfile,"# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)

"
610,ec75141e3cb6276b07d66c16042152e2d4de119c,/8.5/jre8/Dockerfile,"# http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5048274.html (ie, HACK HACK HACK)
"
611,ec75141e3cb6276b07d66c16042152e2d4de119c,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
612,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
613,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
614,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
615,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
616,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
617,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
618,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
619,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
620,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
621,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
622,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
623,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
624,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
625,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
626,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
627,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
628,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
629,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
630,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
631,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
632,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
633,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
634,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
635,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
636,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
637,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
638,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
639,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
640,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
641,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
642,6f4b7544afb91088a666ef620e8ad5e989ed9abb,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
643,6f4b7544afb91088a666ef620e8ad5e989ed9abb,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
644,6f4b7544afb91088a666ef620e8ad5e989ed9abb,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
645,6f4b7544afb91088a666ef620e8ad5e989ed9abb,/7/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
646,6f4b7544afb91088a666ef620e8ad5e989ed9abb,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
647,6f4b7544afb91088a666ef620e8ad5e989ed9abb,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
648,6f4b7544afb91088a666ef620e8ad5e989ed9abb,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
649,6f4b7544afb91088a666ef620e8ad5e989ed9abb,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
650,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/7/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
651,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/7/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
652,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/7/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
653,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/7/jdk8/corretto/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
654,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/7/jdk8/corretto/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
655,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/7/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
656,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/7/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
657,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/7/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
658,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/7/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
659,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/7/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
660,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/7/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
661,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/7/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
662,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/7/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
663,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/7/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
664,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
665,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
666,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
667,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.5/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
668,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
669,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.5/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
670,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.5/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
671,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.5/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
672,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
673,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
674,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
675,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
676,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
677,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
678,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
679,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
680,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
681,b81ffe88c0bb6d760b6ee7d9c056469d59e68311,/7-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
682,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre11-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
683,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre11-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
684,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre11-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
685,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre11-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
686,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre11-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
687,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre11-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
688,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre11-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
689,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre11-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
690,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre11-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
691,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre11-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
692,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre11-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
693,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre11-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
694,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre11-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
695,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre11-slim/Dockerfile,"# verify Tomcat Native is working properly
"
696,62f0d3f0ded1df407b771c127fccc6d60990da8a,/7/Dockerfile,"# add our user and group first to make sure their IDs get assigned consistently, regardless of whatever dependencies get added
"
697,62f0d3f0ded1df407b771c127fccc6d60990da8a,/7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
698,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
699,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
700,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
701,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
702,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
703,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
704,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
705,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
706,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
707,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
708,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
709,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
710,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
711,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
712,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
713,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
714,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
715,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/9.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
716,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
717,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
718,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
719,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
720,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
721,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
722,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
723,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk11/openjdk/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
724,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk11/openjdk/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
725,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
726,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
727,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
728,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
729,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
730,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
731,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
732,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
733,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
734,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
735,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
736,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
737,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
738,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
739,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
740,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
741,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
742,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
743,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
744,2045c78917577ff88fbe6787a11041047eb3a3bc,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
745,4b72a0a78d129afc6c37574145c19519c977ceed,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
746,4b72a0a78d129afc6c37574145c19519c977ceed,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
747,4b72a0a78d129afc6c37574145c19519c977ceed,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
748,4b72a0a78d129afc6c37574145c19519c977ceed,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
749,4b72a0a78d129afc6c37574145c19519c977ceed,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
750,4b72a0a78d129afc6c37574145c19519c977ceed,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
751,4b72a0a78d129afc6c37574145c19519c977ceed,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
752,4b72a0a78d129afc6c37574145c19519c977ceed,/9.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
753,4b72a0a78d129afc6c37574145c19519c977ceed,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
754,4b72a0a78d129afc6c37574145c19519c977ceed,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
755,4b72a0a78d129afc6c37574145c19519c977ceed,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
756,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
757,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
758,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
759,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
760,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
761,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
762,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
763,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
764,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
765,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
766,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
767,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
768,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
769,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
770,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
771,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
772,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
773,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
774,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
775,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
776,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
777,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
778,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
779,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
780,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
781,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
782,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
783,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
784,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
785,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
786,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
787,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
788,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
789,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
790,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
791,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
792,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
793,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
794,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
795,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
796,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
797,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
798,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
799,d3d5932c4c852fa2861c68d6d1adaf0ce1b1a870,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
800,d3d5932c4c852fa2861c68d6d1adaf0ce1b1a870,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
801,d3d5932c4c852fa2861c68d6d1adaf0ce1b1a870,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
802,d3d5932c4c852fa2861c68d6d1adaf0ce1b1a870,/8.5/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
803,d3d5932c4c852fa2861c68d6d1adaf0ce1b1a870,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
804,d3d5932c4c852fa2861c68d6d1adaf0ce1b1a870,/8.5/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
805,d3d5932c4c852fa2861c68d6d1adaf0ce1b1a870,/8.5/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
806,d3d5932c4c852fa2861c68d6d1adaf0ce1b1a870,/8.5/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
807,d3d5932c4c852fa2861c68d6d1adaf0ce1b1a870,/8.5/jre8-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
808,d3d5932c4c852fa2861c68d6d1adaf0ce1b1a870,/8.5/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
809,747c33edc8015de543775ceee497c5926d05795f,/8/Dockerfile,"# add our user and group first to make sure their IDs get assigned consistently, regardless of whatever dependencies get added
"
810,747c33edc8015de543775ceee497c5926d05795f,/8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
811,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk8/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
812,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk8/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
813,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk8/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
814,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk8/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
815,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk8/openjdk-slim-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
816,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk8/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
817,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk8/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
818,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk8/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
819,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk8/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
820,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk8/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
821,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk8/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
822,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk8/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
823,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
824,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
825,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
826,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/9.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
827,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
828,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
829,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk13/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
830,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk13/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
831,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk13/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
832,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk13/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
833,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk13/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
834,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk13/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
835,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk13/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
836,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk13/openjdk-oracle/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
837,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk13/openjdk-oracle/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
838,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk13/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
839,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk13/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
840,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk13/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
841,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk13/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
842,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk13/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
843,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk13/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
844,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
845,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
846,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
847,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
848,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
849,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
850,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
851,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
852,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
853,3e2747c34ded033f4c7adf108f51f3634d025adf,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
854,3e2747c34ded033f4c7adf108f51f3634d025adf,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
855,3e2747c34ded033f4c7adf108f51f3634d025adf,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
856,3e2747c34ded033f4c7adf108f51f3634d025adf,/8.5/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
857,3e2747c34ded033f4c7adf108f51f3634d025adf,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
858,3e2747c34ded033f4c7adf108f51f3634d025adf,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
859,3e2747c34ded033f4c7adf108f51f3634d025adf,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
860,3e2747c34ded033f4c7adf108f51f3634d025adf,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
861,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
862,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
863,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
864,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
865,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
866,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
867,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
868,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
869,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
870,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
871,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
872,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
873,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
874,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
875,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/9.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
876,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
877,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
878,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
879,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
880,a227157792e94c669148c3c2a09072fb317070e0,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
881,a227157792e94c669148c3c2a09072fb317070e0,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
882,a227157792e94c669148c3c2a09072fb317070e0,/7/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
883,a227157792e94c669148c3c2a09072fb317070e0,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
884,a227157792e94c669148c3c2a09072fb317070e0,/7/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
885,a227157792e94c669148c3c2a09072fb317070e0,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
886,a227157792e94c669148c3c2a09072fb317070e0,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
887,a227157792e94c669148c3c2a09072fb317070e0,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
888,a227157792e94c669148c3c2a09072fb317070e0,/7/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
889,a227157792e94c669148c3c2a09072fb317070e0,/7/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
890,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/9.0/jdk14/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
891,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/9.0/jdk14/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
892,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/9.0/jdk14/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
893,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/9.0/jdk14/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
894,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/9.0/jdk14/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
895,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/9.0/jdk14/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
896,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/9.0/jdk14/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
897,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/9.0/jdk14/openjdk-oracle/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
898,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/9.0/jdk14/openjdk-oracle/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
899,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/9.0/jdk14/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
900,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/9.0/jdk14/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
901,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/9.0/jdk14/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
902,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/9.0/jdk14/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
903,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/9.0/jdk14/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
904,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/9.0/jdk14/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
905,09406a39e2a096338762737c2f716effee73533f,/7/jdk8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
906,09406a39e2a096338762737c2f716effee73533f,/7/jdk8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
907,09406a39e2a096338762737c2f716effee73533f,/7/jdk8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
908,09406a39e2a096338762737c2f716effee73533f,/7/jdk8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
909,09406a39e2a096338762737c2f716effee73533f,/7/jdk8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
910,09406a39e2a096338762737c2f716effee73533f,/7/jdk8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
911,09406a39e2a096338762737c2f716effee73533f,/7/jdk8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
912,09406a39e2a096338762737c2f716effee73533f,/7/jdk8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
913,09406a39e2a096338762737c2f716effee73533f,/7/jdk8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
914,09406a39e2a096338762737c2f716effee73533f,/7/jdk8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
915,09406a39e2a096338762737c2f716effee73533f,/7/jdk8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
916,09406a39e2a096338762737c2f716effee73533f,/7/jdk8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
917,09406a39e2a096338762737c2f716effee73533f,/7/jdk8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
918,09406a39e2a096338762737c2f716effee73533f,/7/jdk8/Dockerfile,"# verify Tomcat Native is working properly
"
919,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
920,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
921,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
922,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
923,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
924,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
925,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
926,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
927,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
928,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
929,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
930,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
931,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
932,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
933,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
934,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
935,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
936,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
937,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
938,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
939,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
940,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
941,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
942,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
943,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
944,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
945,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
946,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
947,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
948,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
949,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
950,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
951,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
952,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
953,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
954,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
955,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
956,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
957,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
958,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
959,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
960,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
961,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
962,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
963,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
964,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
965,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk13/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
966,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk13/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
967,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk13/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
968,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk13/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
969,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk13/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
970,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk13/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
971,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk13/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
972,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk13/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
973,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk13/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
974,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk13/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
975,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk13/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
976,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk13/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
977,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk13/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
978,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
979,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
980,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
981,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
982,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
983,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
984,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
985,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
986,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
987,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
988,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
989,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
990,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
991,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
992,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
993,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
994,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.5/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
995,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
996,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
997,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
998,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
999,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1000,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1001,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1002,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1003,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
1004,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1005,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1006,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
1007,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
1008,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
1009,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1010,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1011,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
1012,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
1013,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
1014,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
1015,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
1016,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1017,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1018,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1019,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
1020,e7a7901e48c2f4d4fd7e150623b9a9f44e14866e,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1021,e7a7901e48c2f4d4fd7e150623b9a9f44e14866e,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
1022,e7a7901e48c2f4d4fd7e150623b9a9f44e14866e,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
1023,e7a7901e48c2f4d4fd7e150623b9a9f44e14866e,/8.5/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
1024,e7a7901e48c2f4d4fd7e150623b9a9f44e14866e,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
1025,e7a7901e48c2f4d4fd7e150623b9a9f44e14866e,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1026,e7a7901e48c2f4d4fd7e150623b9a9f44e14866e,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1027,e7a7901e48c2f4d4fd7e150623b9a9f44e14866e,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
1028,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1029,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1030,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
1031,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
1032,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
1033,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1034,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1035,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
1036,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
1037,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
1038,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
1039,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
1040,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1041,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1042,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1043,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
1044,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1045,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1046,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1047,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1048,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
1049,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
1050,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
1051,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1052,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1053,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1054,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1055,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
1056,7a16673434d629938f064b5aed86df44ee49b53a,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1057,7a16673434d629938f064b5aed86df44ee49b53a,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1058,7a16673434d629938f064b5aed86df44ee49b53a,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1059,7a16673434d629938f064b5aed86df44ee49b53a,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1060,7a16673434d629938f064b5aed86df44ee49b53a,/7/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
1061,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1062,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1063,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1064,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
1065,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1066,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
1067,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1068,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
1069,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1070,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1071,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1072,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1073,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1074,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1075,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1076,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1077,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
1078,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1079,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1080,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1081,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1082,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/7/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
1083,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1084,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1085,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1086,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1087,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1088,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1089,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1090,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1091,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
1092,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1093,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1094,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
1095,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
1096,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
1097,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1098,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1099,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
1100,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
1101,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
1102,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
1103,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
1104,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1105,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1106,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1107,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
1108,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre10-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1109,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre10-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
1110,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre10-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
1111,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre10-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
1112,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre10-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
1113,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre10-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1114,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre10-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1115,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre10-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
1116,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre10-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1117,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre10-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1118,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre10-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1119,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre10-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
1120,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre11-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1121,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre11-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
1122,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre11-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
1123,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre11-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
1124,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre11-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
1125,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre11-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1126,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre11-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1127,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre11-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
1128,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre11-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1129,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre11-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1130,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre11-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1131,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre11-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1132,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre11-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1133,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre11-slim/Dockerfile,"# verify Tomcat Native is working properly
"
1134,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1135,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1136,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1137,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1138,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
1139,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
1140,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
1141,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1142,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1143,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1144,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1145,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
1146,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1147,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
1148,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
1149,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
1150,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
1151,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1152,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1153,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
1154,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1155,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1156,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1157,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1158,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1159,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
1160,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1161,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1162,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1163,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1164,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
1165,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
1166,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1167,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1168,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1169,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1170,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
1171,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1172,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
1173,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
1174,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/9.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
1175,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1176,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1177,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1178,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
1179,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1180,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1181,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1182,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1183,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
1184,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
1185,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1186,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1187,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1188,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1189,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
1190,81c66e2e695ad5548b726841c00512a9acf18eb5,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1191,81c66e2e695ad5548b726841c00512a9acf18eb5,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
1192,81c66e2e695ad5548b726841c00512a9acf18eb5,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
1193,81c66e2e695ad5548b726841c00512a9acf18eb5,/9.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
1194,81c66e2e695ad5548b726841c00512a9acf18eb5,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
1195,81c66e2e695ad5548b726841c00512a9acf18eb5,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1196,81c66e2e695ad5548b726841c00512a9acf18eb5,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1197,81c66e2e695ad5548b726841c00512a9acf18eb5,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
1198,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1199,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
1200,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/8.0/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
1201,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre10/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1202,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre10/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
1203,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre10/Dockerfile,"# only add stretch if we're not already building from within stretch
"
1204,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre10/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
1205,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre10/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
1206,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre10/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1207,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre10/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1208,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre10/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
1209,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre10/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1210,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre10/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1211,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre10/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1212,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre10/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1213,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre10/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1214,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre10/Dockerfile,"# verify Tomcat Native is working properly
"
1215,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1216,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
1217,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/8.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
1218,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1219,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1220,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1221,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
1222,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1223,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
1224,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1225,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1226,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre8-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1227,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
1228,42acf24d6056b82d396da6658943f5c26e7b5cc1,/7-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
1229,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1230,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre9/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
1231,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre9/Dockerfile,"# only add stretch if we're not already building from within stretch
"
1232,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre9/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
1233,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre9/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
1234,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1235,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1236,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre9/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
1237,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre9/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1238,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1239,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1240,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
1241,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre10/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1242,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre10/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
1243,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre10/Dockerfile,"# only add stretch if we're not already building from within stretch
"
1244,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre10/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
1245,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre10/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
1246,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre10/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1247,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre10/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1248,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre10/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
1249,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre10/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1250,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre10/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1251,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre10/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1252,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre10/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1253,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre10/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1254,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre10/Dockerfile,"# verify Tomcat Native is working properly
"
1255,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk12/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1256,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk12/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1257,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk12/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
1258,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk12/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
1259,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk12/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
1260,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk12/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1261,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk12/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1262,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk12/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
1263,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk12/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
1264,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk12/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1265,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk12/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1266,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk12/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1267,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk12/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
1268,a55c4f55b74edcf25c7a7cb8feb2b934d4724e8d,/7-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
1269,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1270,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1271,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/8.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1272,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/8.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1273,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/8.0/jre8-alpine/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
1274,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/8.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
1275,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/8.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1276,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/8.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
1277,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1278,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1279,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1280,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1281,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/9.0/jre8-alpine/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
1282,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/9.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1283,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/9.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
1284,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1285,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1286,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
1287,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
1288,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
1289,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1290,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1291,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
1292,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
1293,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1294,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1295,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1296,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
1297,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1298,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
1299,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
1300,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
1301,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
1302,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1303,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1304,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
1305,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1306,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1307,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1308,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1309,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1310,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
1311,1c1e57eac69764f7c46309d7321f381209067d9c,/7/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1312,1c1e57eac69764f7c46309d7321f381209067d9c,/7/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1313,1c1e57eac69764f7c46309d7321f381209067d9c,/7/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1314,1c1e57eac69764f7c46309d7321f381209067d9c,/7/jdk8/openjdk/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
1315,1c1e57eac69764f7c46309d7321f381209067d9c,/7/jdk8/openjdk/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1316,1c1e57eac69764f7c46309d7321f381209067d9c,/7/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1317,1c1e57eac69764f7c46309d7321f381209067d9c,/7/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1318,1c1e57eac69764f7c46309d7321f381209067d9c,/7/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1319,1c1e57eac69764f7c46309d7321f381209067d9c,/7/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1320,1c1e57eac69764f7c46309d7321f381209067d9c,/7/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
1321,8323df4824d3661f094a1a6c30ed7e13c0536b9e,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
1322,8323df4824d3661f094a1a6c30ed7e13c0536b9e,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
1323,8323df4824d3661f094a1a6c30ed7e13c0536b9e,/9.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
1324,8323df4824d3661f094a1a6c30ed7e13c0536b9e,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
1325,8323df4824d3661f094a1a6c30ed7e13c0536b9e,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
1326,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1327,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
1328,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
1329,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
1330,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
1331,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1332,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1333,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
1334,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1335,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1336,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1337,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1338,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1339,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
1340,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1341,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
1342,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
1343,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
1344,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
1345,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1346,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1347,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
1348,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1349,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1350,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1351,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
1352,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre10/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1353,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre10/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
1354,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre10/Dockerfile,"# only add stretch if we're not already building from within stretch
"
1355,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre10/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
1356,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre10/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
1357,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre10/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1358,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre10/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1359,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre10/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
1360,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre10/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1361,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre10/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1362,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre10/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1363,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre10/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
1364,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1365,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1366,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
1367,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
1368,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
1369,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1370,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1371,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
1372,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
1373,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
1374,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
1375,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1376,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1377,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1378,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
1379,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1380,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1381,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1382,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1383,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1384,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1385,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1386,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1387,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
1388,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1389,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1390,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1391,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
1392,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk11/openjdk-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1393,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1394,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1395,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1396,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1397,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
1398,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1399,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1400,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1401,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1402,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
1403,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
1404,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
1405,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1406,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1407,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1408,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1409,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
1410,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1411,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1412,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1413,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1414,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
1415,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
1416,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1417,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1418,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1419,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1420,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
1421,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1422,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1423,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1424,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1425,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
1426,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
1427,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1428,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1429,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1430,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1431,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
1432,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1433,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
1434,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
1435,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
1436,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
1437,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1438,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1439,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
1440,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1441,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1442,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1443,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
1444,9cabcf1e71b270f31b4ff4d1a30587bb75ef3b76,/9.0/jre8/Dockerfile,"# runtime dependency for Tomcat Native Libraries
"
1445,9cabcf1e71b270f31b4ff4d1a30587bb75ef3b76,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
1446,9cabcf1e71b270f31b4ff4d1a30587bb75ef3b76,/9.0/jre8/Dockerfile,"# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)

"
1447,9cabcf1e71b270f31b4ff4d1a30587bb75ef3b76,/9.0/jre8/Dockerfile,"# http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5048274.html (ie, HACK HACK HACK)
"
1448,9cabcf1e71b270f31b4ff4d1a30587bb75ef3b76,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
1449,989f50ed5db788921a4954109b90362e2209295e,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1450,989f50ed5db788921a4954109b90362e2209295e,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
1451,989f50ed5db788921a4954109b90362e2209295e,/7/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
1452,0e18eab4234afbff617aee84e7156ac1b4fd67d5,/6/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1453,0e18eab4234afbff617aee84e7156ac1b4fd67d5,/6/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
1454,0e18eab4234afbff617aee84e7156ac1b4fd67d5,/6/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
1455,0e18eab4234afbff617aee84e7156ac1b4fd67d5,/6/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
1456,0e18eab4234afbff617aee84e7156ac1b4fd67d5,/6/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
1457,0e18eab4234afbff617aee84e7156ac1b4fd67d5,/6/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1458,0e18eab4234afbff617aee84e7156ac1b4fd67d5,/6/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1459,0e18eab4234afbff617aee84e7156ac1b4fd67d5,/6/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1460,0e18eab4234afbff617aee84e7156ac1b4fd67d5,/6/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1461,0e18eab4234afbff617aee84e7156ac1b4fd67d5,/6/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
1462,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/8.5/jdk14/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1463,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/8.5/jdk14/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1464,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/8.5/jdk14/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
1465,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/8.5/jdk14/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
1466,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/8.5/jdk14/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
1467,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/8.5/jdk14/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1468,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/8.5/jdk14/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1469,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/8.5/jdk14/openjdk-oracle/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
1470,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/8.5/jdk14/openjdk-oracle/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
1471,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/8.5/jdk14/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
1472,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/8.5/jdk14/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
1473,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/8.5/jdk14/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1474,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/8.5/jdk14/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1475,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/8.5/jdk14/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1476,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/8.5/jdk14/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
1477,efe59ebe52ba94045f4923be85214f4431a982a6,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1478,efe59ebe52ba94045f4923be85214f4431a982a6,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
1479,efe59ebe52ba94045f4923be85214f4431a982a6,/7/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
1480,efe59ebe52ba94045f4923be85214f4431a982a6,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
1481,efe59ebe52ba94045f4923be85214f4431a982a6,/7/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
1482,efe59ebe52ba94045f4923be85214f4431a982a6,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1483,efe59ebe52ba94045f4923be85214f4431a982a6,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1484,efe59ebe52ba94045f4923be85214f4431a982a6,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1485,efe59ebe52ba94045f4923be85214f4431a982a6,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
1486,1ac581da0dbef3f191cbb2d5fbfc4292e32bb0dd,/6-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
1487,35e89070548111261cf6a9e9398556d5b2c4f7f7,/9.0/jre9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1488,35e89070548111261cf6a9e9398556d5b2c4f7f7,/9.0/jre9/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
1489,35e89070548111261cf6a9e9398556d5b2c4f7f7,/9.0/jre9/Dockerfile,"# only add stretch if we're not already building from within stretch
"
1490,35e89070548111261cf6a9e9398556d5b2c4f7f7,/9.0/jre9/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
1491,35e89070548111261cf6a9e9398556d5b2c4f7f7,/9.0/jre9/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
1492,35e89070548111261cf6a9e9398556d5b2c4f7f7,/9.0/jre9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1493,35e89070548111261cf6a9e9398556d5b2c4f7f7,/9.0/jre9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1494,35e89070548111261cf6a9e9398556d5b2c4f7f7,/9.0/jre9/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
1495,35e89070548111261cf6a9e9398556d5b2c4f7f7,/9.0/jre9/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1496,35e89070548111261cf6a9e9398556d5b2c4f7f7,/9.0/jre9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1497,35e89070548111261cf6a9e9398556d5b2c4f7f7,/9.0/jre9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
1498,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1499,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1500,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1501,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1502,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1503,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1504,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1505,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1506,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
1507,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1508,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1509,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1510,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1511,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
1512,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
1513,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
1514,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1515,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1516,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1517,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1518,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
1519,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1520,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
1521,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
1522,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
1523,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
1524,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1525,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1526,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
1527,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1528,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre7/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1529,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1530,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
1531,c130c5c596edced66978f54b4d7fd8b4c2637719,/9.0/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1532,c130c5c596edced66978f54b4d7fd8b4c2637719,/9.0/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1533,c130c5c596edced66978f54b4d7fd8b4c2637719,/9.0/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1534,c130c5c596edced66978f54b4d7fd8b4c2637719,/9.0/jdk8/corretto/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
1535,c130c5c596edced66978f54b4d7fd8b4c2637719,/9.0/jdk8/corretto/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1536,c130c5c596edced66978f54b4d7fd8b4c2637719,/9.0/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
1537,c130c5c596edced66978f54b4d7fd8b4c2637719,/9.0/jdk8/corretto/Dockerfile,"#?}}""; \
"
1538,c130c5c596edced66978f54b4d7fd8b4c2637719,/9.0/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
1539,c130c5c596edced66978f54b4d7fd8b4c2637719,/9.0/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
1540,c130c5c596edced66978f54b4d7fd8b4c2637719,/9.0/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
1541,c130c5c596edced66978f54b4d7fd8b4c2637719,/9.0/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1542,c130c5c596edced66978f54b4d7fd8b4c2637719,/9.0/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1543,c130c5c596edced66978f54b4d7fd8b4c2637719,/9.0/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1544,c130c5c596edced66978f54b4d7fd8b4c2637719,/9.0/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
1545,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1546,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1547,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1548,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
1549,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk8/openjdk-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1550,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1551,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1552,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1553,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1554,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
1555,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1556,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1557,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1558,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1559,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
1560,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
1561,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1562,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1563,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1564,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1565,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
1566,e4ffae4e6e76e979ad524970f80984ee4cff88d7,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1567,e4ffae4e6e76e979ad524970f80984ee4cff88d7,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
1568,e4ffae4e6e76e979ad524970f80984ee4cff88d7,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
1569,e4ffae4e6e76e979ad524970f80984ee4cff88d7,/8.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
1570,e4ffae4e6e76e979ad524970f80984ee4cff88d7,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1571,e4ffae4e6e76e979ad524970f80984ee4cff88d7,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1572,e4ffae4e6e76e979ad524970f80984ee4cff88d7,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1573,e4ffae4e6e76e979ad524970f80984ee4cff88d7,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
1574,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1575,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1576,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1577,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
1578,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1579,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
1580,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1581,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1582,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre8-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1583,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
1584,81c66e2e695ad5548b726841c00512a9acf18eb5,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1585,81c66e2e695ad5548b726841c00512a9acf18eb5,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
1586,81c66e2e695ad5548b726841c00512a9acf18eb5,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1587,81c66e2e695ad5548b726841c00512a9acf18eb5,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1588,81c66e2e695ad5548b726841c00512a9acf18eb5,/7/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
1589,6611537f66f8f1df614f86bfda5b5fc020755aad,/6-jre7/Dockerfile,"# add our user and group first to make sure their IDs get assigned consistently, regardless of whatever dependencies get added
"
1590,6611537f66f8f1df614f86bfda5b5fc020755aad,/6-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
1591,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1592,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1593,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
1594,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
1595,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
1596,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1597,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1598,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
1599,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
1600,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
1601,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
1602,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
1603,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1604,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1605,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1606,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
1607,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1608,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1609,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
1610,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
1611,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
1612,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1613,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1614,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
1615,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
1616,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
1617,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
1618,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
1619,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1620,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1621,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1622,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
1623,5c76c4a20c9192ca75d9a9739070b7030b64304b,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1624,5c76c4a20c9192ca75d9a9739070b7030b64304b,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
1625,5c76c4a20c9192ca75d9a9739070b7030b64304b,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
1626,5c76c4a20c9192ca75d9a9739070b7030b64304b,/8.5/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
1627,5c76c4a20c9192ca75d9a9739070b7030b64304b,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1628,5c76c4a20c9192ca75d9a9739070b7030b64304b,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1629,5c76c4a20c9192ca75d9a9739070b7030b64304b,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1630,5c76c4a20c9192ca75d9a9739070b7030b64304b,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
1631,8b361a27d3ea746682b8dd93327d6b5e376b8dee,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1632,8b361a27d3ea746682b8dd93327d6b5e376b8dee,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
1633,8b361a27d3ea746682b8dd93327d6b5e376b8dee,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
1634,8b361a27d3ea746682b8dd93327d6b5e376b8dee,/9.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
1635,8b361a27d3ea746682b8dd93327d6b5e376b8dee,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1636,8b361a27d3ea746682b8dd93327d6b5e376b8dee,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1637,8b361a27d3ea746682b8dd93327d6b5e376b8dee,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1638,8b361a27d3ea746682b8dd93327d6b5e376b8dee,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
1639,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1640,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1641,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1642,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
1643,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1644,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
1645,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1646,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1647,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1648,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
1649,5c8b74e495a1b63116b524407941b15eef58a7fe,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1650,5c8b74e495a1b63116b524407941b15eef58a7fe,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
1651,5c8b74e495a1b63116b524407941b15eef58a7fe,/8.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
1652,5c8b74e495a1b63116b524407941b15eef58a7fe,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
1653,5c8b74e495a1b63116b524407941b15eef58a7fe,/8.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
1654,5c8b74e495a1b63116b524407941b15eef58a7fe,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1655,5c8b74e495a1b63116b524407941b15eef58a7fe,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1656,5c8b74e495a1b63116b524407941b15eef58a7fe,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1657,5c8b74e495a1b63116b524407941b15eef58a7fe,/8.0/jre8/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
1658,5c8b74e495a1b63116b524407941b15eef58a7fe,/8.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1659,5c8b74e495a1b63116b524407941b15eef58a7fe,/8.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
1660,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/7/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1661,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/7/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1662,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/7/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1663,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/7/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
1664,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/7/jdk8/openjdk-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1665,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/7/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1666,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/7/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1667,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/7/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1668,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/7/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1669,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/7/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
1670,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1671,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1672,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1673,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1674,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
1675,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
1676,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1677,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1678,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1679,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1680,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
1681,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1682,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1683,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1684,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1685,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
1686,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
1687,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1688,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1689,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1690,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1691,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
1692,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1693,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
1694,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
1695,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
1696,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
1697,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1698,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1699,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
1700,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1701,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1702,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1703,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1704,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1705,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
1706,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1707,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
1708,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
1709,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/8.5/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
1710,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
1711,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
1712,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1713,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1714,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1715,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1716,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
1717,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
1718,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
1719,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1720,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1721,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1722,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1723,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
1724,116d0258150ad27d7141d16f7492a5215a4b8fec,/8-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
1725,1ff9d0feae228557a87285620126df53c44868ca,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1726,1ff9d0feae228557a87285620126df53c44868ca,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1727,1ff9d0feae228557a87285620126df53c44868ca,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1728,1ff9d0feae228557a87285620126df53c44868ca,/9.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
1729,1ff9d0feae228557a87285620126df53c44868ca,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1730,1ff9d0feae228557a87285620126df53c44868ca,/9.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
1731,1ff9d0feae228557a87285620126df53c44868ca,/9.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1732,1ff9d0feae228557a87285620126df53c44868ca,/9.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1733,1ff9d0feae228557a87285620126df53c44868ca,/9.0/jre8-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1734,1ff9d0feae228557a87285620126df53c44868ca,/9.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
1735,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1736,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1737,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1738,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1739,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/7/jre7-alpine/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
1740,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/7/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
1741,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/7/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1742,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/7/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
1743,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre9-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1744,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre9-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
1745,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre9-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
1746,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre9-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
1747,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre9-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
1748,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre9-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1749,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre9-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1750,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre9-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
1751,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre9-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1752,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre9-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1753,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre9-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1754,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre9-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
1755,aceabe036433c68b278767811bac728c6db4f8b3,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1756,aceabe036433c68b278767811bac728c6db4f8b3,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
1757,aceabe036433c68b278767811bac728c6db4f8b3,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
1758,aceabe036433c68b278767811bac728c6db4f8b3,/7/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
1759,aceabe036433c68b278767811bac728c6db4f8b3,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1760,aceabe036433c68b278767811bac728c6db4f8b3,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1761,aceabe036433c68b278767811bac728c6db4f8b3,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1762,aceabe036433c68b278767811bac728c6db4f8b3,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
1763,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1764,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1765,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1766,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1767,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
1768,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
1769,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
1770,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1771,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1772,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1773,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1774,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
1775,e4ffae4e6e76e979ad524970f80984ee4cff88d7,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1776,e4ffae4e6e76e979ad524970f80984ee4cff88d7,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1777,e4ffae4e6e76e979ad524970f80984ee4cff88d7,/8.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1778,e4ffae4e6e76e979ad524970f80984ee4cff88d7,/8.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1779,e4ffae4e6e76e979ad524970f80984ee4cff88d7,/8.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
1780,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1781,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1782,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1783,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1784,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
1785,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
1786,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
1787,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1788,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1789,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1790,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1791,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
1792,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre10-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1793,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre10-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
1794,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre10-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
1795,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre10-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
1796,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre10-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
1797,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre10-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1798,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre10-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1799,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre10-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
1800,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre10-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1801,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre10-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1802,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre10-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1803,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre10-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
1804,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1805,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
1806,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
1807,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
1808,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
1809,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1810,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1811,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.5/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
1812,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1813,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1814,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
1815,dcffe2c06edc7a797e20161225eb59e97877ccb0,/6/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1816,dcffe2c06edc7a797e20161225eb59e97877ccb0,/6/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
1817,dcffe2c06edc7a797e20161225eb59e97877ccb0,/6/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
1818,dcffe2c06edc7a797e20161225eb59e97877ccb0,/6/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
1819,dcffe2c06edc7a797e20161225eb59e97877ccb0,/6/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1820,dcffe2c06edc7a797e20161225eb59e97877ccb0,/6/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1821,dcffe2c06edc7a797e20161225eb59e97877ccb0,/6/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1822,dcffe2c06edc7a797e20161225eb59e97877ccb0,/6/jre7/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
1823,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1824,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1825,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1826,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1827,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
1828,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
1829,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
1830,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1831,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1832,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1833,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1834,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
1835,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1836,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
1837,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
1838,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
1839,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
1840,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1841,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1842,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
1843,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1844,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1845,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1846,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1847,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1848,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk8/Dockerfile,"# verify Tomcat Native is working properly
"
1849,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1850,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
1851,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
1852,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
1853,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
1854,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1855,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1856,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
1857,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1858,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1859,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1860,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
1861,df283818c14e8f24c294e2d3cd23099ef92e6643,/8-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
1862,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk11/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1863,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk11/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1864,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk11/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1865,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk11/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1866,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk11/openjdk-slim-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
1867,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk11/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
1868,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk11/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
1869,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk11/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1870,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk11/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1871,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk11/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1872,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk11/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1873,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk11/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
1874,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1875,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1876,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
1877,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
1878,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
1879,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1880,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1881,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-oracle/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
1882,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-oracle/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
1883,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
1884,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
1885,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1886,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1887,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1888,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
1889,b6a8794a995e0f482a3832b7c7041eec9a804f2a,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1890,b6a8794a995e0f482a3832b7c7041eec9a804f2a,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1891,b6a8794a995e0f482a3832b7c7041eec9a804f2a,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1892,b6a8794a995e0f482a3832b7c7041eec9a804f2a,/9.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
1893,b6a8794a995e0f482a3832b7c7041eec9a804f2a,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1894,b6a8794a995e0f482a3832b7c7041eec9a804f2a,/9.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
1895,b6a8794a995e0f482a3832b7c7041eec9a804f2a,/9.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1896,b6a8794a995e0f482a3832b7c7041eec9a804f2a,/9.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
1897,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1898,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
1899,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/7/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
1900,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
1901,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/7/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
1902,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1903,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1904,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/7/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
1905,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1906,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/7/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1907,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/7/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
1908,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1909,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1910,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1911,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1912,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
1913,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
1914,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1915,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1916,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1917,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1918,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
1919,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1920,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
1921,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
1922,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
1923,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
1924,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1925,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1926,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
1927,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1928,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1929,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1930,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
1931,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre10-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1932,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre10-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
1933,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre10-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
1934,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre10-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
1935,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre10-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
1936,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre10-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1937,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre10-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1938,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre10-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
1939,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre10-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1940,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre10-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1941,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre10-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1942,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre10-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1943,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre10-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1944,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre10-slim/Dockerfile,"# verify Tomcat Native is working properly
"
1945,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1946,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1947,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1948,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
1949,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1950,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
1951,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1952,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
1953,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1954,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1955,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1956,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1957,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/openjdk-slim-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
1958,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
1959,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
1960,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1961,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1962,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1963,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1964,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
1965,41b2a08dbf016a551c859559a4e27c4f4fce2964,/8-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
1966,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1967,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1968,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
1969,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
1970,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
1971,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1972,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1973,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
1974,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
1975,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
1976,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# mark any explicit dependencies as manually installed
"
1977,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
1978,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1979,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1980,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1981,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# verify Tomcat Native is working properly
"
1982,221fa4f6f1abfa3f033d4be781fa48faecbee212,/7-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
1983,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1984,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
1985,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
1986,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/7/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
1987,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1988,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1989,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1990,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
1991,de50f0009a7a3ca6929890241d0a0f5d5a071f23,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1992,de50f0009a7a3ca6929890241d0a0f5d5a071f23,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1993,de50f0009a7a3ca6929890241d0a0f5d5a071f23,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1994,de50f0009a7a3ca6929890241d0a0f5d5a071f23,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1995,de50f0009a7a3ca6929890241d0a0f5d5a071f23,/8.5/jre8-alpine/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
1996,de50f0009a7a3ca6929890241d0a0f5d5a071f23,/8.5/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1997,de50f0009a7a3ca6929890241d0a0f5d5a071f23,/8.5/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
1998,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1999,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2000,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2001,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2002,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
2003,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
2004,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2005,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2006,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2007,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2008,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
2009,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2010,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
2011,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
2012,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
2013,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
2014,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2015,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2016,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2017,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.5/jre8/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
2018,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2019,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
2020,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk12/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2021,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk12/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2022,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk12/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
2023,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk12/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
2024,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk12/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
2025,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk12/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2026,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk12/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2027,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk12/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
2028,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk12/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
2029,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk12/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2030,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk12/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2031,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk12/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2032,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk12/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
2033,aceabe036433c68b278767811bac728c6db4f8b3,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2034,aceabe036433c68b278767811bac728c6db4f8b3,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
2035,aceabe036433c68b278767811bac728c6db4f8b3,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
2036,aceabe036433c68b278767811bac728c6db4f8b3,/8.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
2037,aceabe036433c68b278767811bac728c6db4f8b3,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2038,aceabe036433c68b278767811bac728c6db4f8b3,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2039,aceabe036433c68b278767811bac728c6db4f8b3,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2040,aceabe036433c68b278767811bac728c6db4f8b3,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
2041,124c504d29896db286570ad835d7746e0d3ebca9,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2042,124c504d29896db286570ad835d7746e0d3ebca9,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
2043,124c504d29896db286570ad835d7746e0d3ebca9,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
2044,124c504d29896db286570ad835d7746e0d3ebca9,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
2045,124c504d29896db286570ad835d7746e0d3ebca9,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
2046,124c504d29896db286570ad835d7746e0d3ebca9,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2047,124c504d29896db286570ad835d7746e0d3ebca9,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2048,124c504d29896db286570ad835d7746e0d3ebca9,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2049,124c504d29896db286570ad835d7746e0d3ebca9,/9.0/jre8/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
2050,124c504d29896db286570ad835d7746e0d3ebca9,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2051,124c504d29896db286570ad835d7746e0d3ebca9,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
2052,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2053,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
2054,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
2055,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
2056,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
2057,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2058,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2059,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.5/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
2060,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2061,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2062,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
2063,278a10ace50c5e7addd879fae5c5332e57b2fe37,/7-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
2064,6be7d97a528019fd7cedb0f3ef0dca674713512b,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2065,6be7d97a528019fd7cedb0f3ef0dca674713512b,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
2066,6be7d97a528019fd7cedb0f3ef0dca674713512b,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
2067,6be7d97a528019fd7cedb0f3ef0dca674713512b,/8.0/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
2068,6be7d97a528019fd7cedb0f3ef0dca674713512b,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2069,6be7d97a528019fd7cedb0f3ef0dca674713512b,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2070,6be7d97a528019fd7cedb0f3ef0dca674713512b,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2071,6be7d97a528019fd7cedb0f3ef0dca674713512b,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
2072,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2073,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2074,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2075,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2076,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
2077,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
2078,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
2079,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2080,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2081,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2082,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2083,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
2084,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2085,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2086,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2087,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2088,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
2089,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
2090,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
2091,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2092,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2093,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2094,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2095,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
2096,5802aa060091bb2b18aee4f98a83a155540b978a,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2097,5802aa060091bb2b18aee4f98a83a155540b978a,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
2098,5802aa060091bb2b18aee4f98a83a155540b978a,/7/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
2099,5802aa060091bb2b18aee4f98a83a155540b978a,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
2100,5802aa060091bb2b18aee4f98a83a155540b978a,/7/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
2101,5802aa060091bb2b18aee4f98a83a155540b978a,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2102,5802aa060091bb2b18aee4f98a83a155540b978a,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2103,5802aa060091bb2b18aee4f98a83a155540b978a,/7/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
2104,5802aa060091bb2b18aee4f98a83a155540b978a,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2105,5802aa060091bb2b18aee4f98a83a155540b978a,/7/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2106,5802aa060091bb2b18aee4f98a83a155540b978a,/7/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
2107,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre10-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2108,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre10-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
2109,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre10-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
2110,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre10-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
2111,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre10-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
2112,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre10-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2113,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre10-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2114,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre10-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
2115,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre10-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2116,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre10-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2117,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre10-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2118,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre10-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
2119,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk13/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2120,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk13/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2121,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk13/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
2122,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk13/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
2123,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk13/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
2124,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk13/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2125,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk13/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2126,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk13/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
2127,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk13/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
2128,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk13/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2129,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk13/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2130,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk13/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2131,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk13/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
2132,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk8/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2133,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk8/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2134,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk8/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2135,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk8/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2136,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk8/openjdk-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
2137,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk8/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
2138,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk8/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
2139,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk8/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2140,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk8/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2141,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk8/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2142,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk8/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2143,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk8/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
2144,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2145,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
2146,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
2147,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
2148,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
2149,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2150,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2151,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
2152,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2153,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2154,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2155,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
2156,0c9673eb76c50568e1aa026255b85077eb88714e,/8.5/jdk13/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2157,0c9673eb76c50568e1aa026255b85077eb88714e,/8.5/jdk13/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2158,0c9673eb76c50568e1aa026255b85077eb88714e,/8.5/jdk13/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2159,0c9673eb76c50568e1aa026255b85077eb88714e,/8.5/jdk13/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2160,0c9673eb76c50568e1aa026255b85077eb88714e,/8.5/jdk13/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
2161,0c9673eb76c50568e1aa026255b85077eb88714e,/8.5/jdk13/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
2162,0c9673eb76c50568e1aa026255b85077eb88714e,/8.5/jdk13/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2163,0c9673eb76c50568e1aa026255b85077eb88714e,/8.5/jdk13/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2164,0c9673eb76c50568e1aa026255b85077eb88714e,/8.5/jdk13/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2165,0c9673eb76c50568e1aa026255b85077eb88714e,/8.5/jdk13/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2166,0c9673eb76c50568e1aa026255b85077eb88714e,/8.5/jdk13/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
2167,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2168,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2169,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2170,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2171,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
2172,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
2173,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
2174,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2175,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2176,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2177,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2178,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
2179,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2180,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
2181,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
2182,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
2183,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
2184,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2185,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2186,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
2187,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2188,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2189,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2190,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2191,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2192,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
2193,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk14/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2194,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk14/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2195,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk14/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2196,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk14/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2197,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk14/openjdk-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
2198,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk14/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
2199,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk14/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
2200,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk14/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2201,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk14/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2202,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk14/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2203,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk14/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2204,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk14/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
2205,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk13/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2206,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk13/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2207,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk13/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
2208,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk13/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
2209,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk13/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
2210,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk13/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2211,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk13/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2212,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk13/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
2213,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk13/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
2214,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk13/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2215,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk13/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2216,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk13/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2217,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk13/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
2218,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2219,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2220,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
2221,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
2222,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
2223,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2224,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2225,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-oracle/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
2226,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-oracle/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
2227,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
2228,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
2229,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2230,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2231,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2232,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
2233,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2234,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2235,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2236,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
2237,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2238,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
2239,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2240,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
2241,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2242,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
2243,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
2244,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
2245,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
2246,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2247,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2248,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
2249,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2250,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2251,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2252,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2253,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2254,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
2255,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre7-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2256,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre7-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
2257,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre7-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
2258,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre7-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
2259,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre7-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
2260,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre7-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2261,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre7-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2262,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre7-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
2263,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre7-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2264,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre7-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2265,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre7-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2266,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre7-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
2267,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2268,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2269,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2270,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2271,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2272,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2273,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2274,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2275,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
2276,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2277,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2278,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2279,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2280,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
2281,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
2282,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
2283,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2284,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2285,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2286,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2287,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
2288,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2289,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
2290,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
2291,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
2292,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
2293,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2294,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2295,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
2296,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2297,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2298,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2299,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2300,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2301,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
2302,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2303,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2304,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
2305,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
2306,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
2307,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2308,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2309,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
2310,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
2311,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2312,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2313,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2314,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
2315,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2316,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2317,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2318,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
2319,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2320,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
2321,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2322,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
2323,637e4b66a8b8b077f6aca548d369c9fbcbbfe522,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2324,637e4b66a8b8b077f6aca548d369c9fbcbbfe522,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2325,637e4b66a8b8b077f6aca548d369c9fbcbbfe522,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2326,637e4b66a8b8b077f6aca548d369c9fbcbbfe522,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2327,637e4b66a8b8b077f6aca548d369c9fbcbbfe522,/8.5/jre8-alpine/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
2328,637e4b66a8b8b077f6aca548d369c9fbcbbfe522,/8.5/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
2329,637e4b66a8b8b077f6aca548d369c9fbcbbfe522,/8.5/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2330,637e4b66a8b8b077f6aca548d369c9fbcbbfe522,/8.5/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
2331,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2332,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2333,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2334,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2335,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/7/jre8-alpine/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
2336,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/7/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
2337,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/7/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2338,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/7/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
2339,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2340,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2341,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
2342,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
2343,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
2344,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2345,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2346,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
2347,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
2348,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2349,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2350,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2351,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
2352,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk14/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2353,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk14/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2354,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk14/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2355,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk14/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2356,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk14/openjdk-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
2357,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk14/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
2358,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk14/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
2359,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk14/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2360,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk14/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2361,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk14/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2362,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk14/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2363,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk14/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
2364,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2365,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2366,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2367,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk11/corretto/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
2368,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk11/corretto/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2369,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
2370,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
2371,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
2372,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
2373,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
2374,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2375,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2376,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2377,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
2378,9c280294942795515740cb6d78b1d51d95b31928,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2379,9c280294942795515740cb6d78b1d51d95b31928,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2380,9c280294942795515740cb6d78b1d51d95b31928,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2381,9c280294942795515740cb6d78b1d51d95b31928,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2382,9c280294942795515740cb6d78b1d51d95b31928,/8.5/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
2383,0338217187e764d8dfee6a35dce9e4e130fbb85b,/6/jre8/Dockerfile,"# runtime dependency for Tomcat Native Libraries
"
2384,0338217187e764d8dfee6a35dce9e4e130fbb85b,/6/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2385,0338217187e764d8dfee6a35dce9e4e130fbb85b,/6/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2386,0338217187e764d8dfee6a35dce9e4e130fbb85b,/6/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2387,0338217187e764d8dfee6a35dce9e4e130fbb85b,/6/jre8/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
2388,e4ffae4e6e76e979ad524970f80984ee4cff88d7,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2389,e4ffae4e6e76e979ad524970f80984ee4cff88d7,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2390,e4ffae4e6e76e979ad524970f80984ee4cff88d7,/8.0/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2391,e4ffae4e6e76e979ad524970f80984ee4cff88d7,/8.0/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2392,e4ffae4e6e76e979ad524970f80984ee4cff88d7,/8.0/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
2393,a227157792e94c669148c3c2a09072fb317070e0,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2394,a227157792e94c669148c3c2a09072fb317070e0,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2395,a227157792e94c669148c3c2a09072fb317070e0,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2396,a227157792e94c669148c3c2a09072fb317070e0,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2397,a227157792e94c669148c3c2a09072fb317070e0,/8.5/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2398,a227157792e94c669148c3c2a09072fb317070e0,/8.5/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
2399,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre11/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2400,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre11/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
2401,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre11/Dockerfile,"# only add stretch if we're not already building from within stretch
"
2402,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre11/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
2403,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre11/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
2404,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre11/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2405,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre11/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2406,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre11/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
2407,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre11/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2408,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre11/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2409,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre11/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2410,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre11/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2411,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre11/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2412,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre11/Dockerfile,"# verify Tomcat Native is working properly
"
2413,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2414,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
2415,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
2416,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/7/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
2417,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2418,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2419,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2420,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
2421,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2422,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2423,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2424,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
2425,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2426,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
2427,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2428,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2429,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2430,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
2431,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2432,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
2433,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
2434,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
2435,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
2436,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2437,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2438,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
2439,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2440,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2441,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2442,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2443,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2444,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
2445,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2446,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2447,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2448,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2449,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2450,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2451,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2452,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2453,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
2454,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2455,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2456,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2457,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2458,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2459,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2460,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2461,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2462,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
2463,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre7-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2464,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre7-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
2465,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre7-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
2466,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre7-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
2467,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre7-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
2468,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre7-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2469,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre7-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2470,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre7-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
2471,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre7-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2472,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre7-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2473,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre7-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2474,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre7-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
2475,844072d81f9970fa1229fb971340ef49978a3533,/8/Dockerfile,"# add our user and group first to make sure their IDs get assigned consistently, regardless of whatever dependencies get added
"
2476,844072d81f9970fa1229fb971340ef49978a3533,/8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
2477,1b5b0791e065d9bfdfe84235faf7f77c157ff70d,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2478,1b5b0791e065d9bfdfe84235faf7f77c157ff70d,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
2479,1b5b0791e065d9bfdfe84235faf7f77c157ff70d,/8.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
2480,1b5b0791e065d9bfdfe84235faf7f77c157ff70d,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
2481,1b5b0791e065d9bfdfe84235faf7f77c157ff70d,/8.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
2482,1b5b0791e065d9bfdfe84235faf7f77c157ff70d,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2483,1b5b0791e065d9bfdfe84235faf7f77c157ff70d,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2484,1b5b0791e065d9bfdfe84235faf7f77c157ff70d,/8.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
2485,1b5b0791e065d9bfdfe84235faf7f77c157ff70d,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2486,1b5b0791e065d9bfdfe84235faf7f77c157ff70d,/8.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2487,1b5b0791e065d9bfdfe84235faf7f77c157ff70d,/8.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
2488,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2489,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2490,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2491,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2492,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
2493,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
2494,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
2495,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2496,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2497,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2498,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2499,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
2500,af1646c18d6398e6cf27a29d32ff58b994d2566e,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2501,af1646c18d6398e6cf27a29d32ff58b994d2566e,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2502,af1646c18d6398e6cf27a29d32ff58b994d2566e,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2503,af1646c18d6398e6cf27a29d32ff58b994d2566e,/8.5/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
2504,af1646c18d6398e6cf27a29d32ff58b994d2566e,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2505,af1646c18d6398e6cf27a29d32ff58b994d2566e,/8.5/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
2506,af1646c18d6398e6cf27a29d32ff58b994d2566e,/8.5/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2507,af1646c18d6398e6cf27a29d32ff58b994d2566e,/8.5/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2508,af1646c18d6398e6cf27a29d32ff58b994d2566e,/8.5/jre8-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2509,af1646c18d6398e6cf27a29d32ff58b994d2566e,/8.5/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
2510,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2511,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2512,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2513,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2514,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
2515,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
2516,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2517,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2518,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2519,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2520,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
2521,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2522,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2523,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2524,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2525,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
2526,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
2527,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
2528,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2529,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2530,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2531,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2532,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
2533,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2534,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2535,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2536,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2537,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
2538,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
2539,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
2540,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2541,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2542,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2543,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2544,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
2545,ef856d48e431a9b83730b5c14c0d9a84d70156a5,/8-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
2546,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2547,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2548,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2549,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2550,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2551,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2552,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2553,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2554,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
2555,81c66e2e695ad5548b726841c00512a9acf18eb5,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2556,81c66e2e695ad5548b726841c00512a9acf18eb5,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
2557,81c66e2e695ad5548b726841c00512a9acf18eb5,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2558,81c66e2e695ad5548b726841c00512a9acf18eb5,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2559,81c66e2e695ad5548b726841c00512a9acf18eb5,/7/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
2560,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2561,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
2562,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/7/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
2563,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
2564,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/7/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
2565,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2566,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2567,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2568,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/7/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2569,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/7/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
2570,989f50ed5db788921a4954109b90362e2209295e,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2571,989f50ed5db788921a4954109b90362e2209295e,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
2572,989f50ed5db788921a4954109b90362e2209295e,/7/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
2573,efe59ebe52ba94045f4923be85214f4431a982a6,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2574,efe59ebe52ba94045f4923be85214f4431a982a6,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
2575,efe59ebe52ba94045f4923be85214f4431a982a6,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
2576,efe59ebe52ba94045f4923be85214f4431a982a6,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
2577,efe59ebe52ba94045f4923be85214f4431a982a6,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
2578,efe59ebe52ba94045f4923be85214f4431a982a6,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2579,efe59ebe52ba94045f4923be85214f4431a982a6,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2580,efe59ebe52ba94045f4923be85214f4431a982a6,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2581,efe59ebe52ba94045f4923be85214f4431a982a6,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
2582,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2583,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2584,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2585,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2586,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
2587,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
2588,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
2589,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2590,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2591,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2592,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2593,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
2594,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2595,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2596,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2597,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2598,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
2599,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
2600,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
2601,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2602,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2603,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2604,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2605,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
2606,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2607,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2608,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
2609,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
2610,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
2611,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2612,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2613,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
2614,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
2615,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
2616,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# mark any explicit dependencies as manually installed
"
2617,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
2618,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2619,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2620,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2621,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# verify Tomcat Native is working properly
"
2622,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2623,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2624,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2625,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2626,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
2627,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
2628,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
2629,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2630,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2631,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2632,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2633,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
2634,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2635,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2636,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2637,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2638,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
2639,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
2640,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
2641,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2642,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2643,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2644,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2645,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
2646,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2647,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2648,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2649,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2650,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
2651,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
2652,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
2653,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2654,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2655,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2656,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2657,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
2658,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2659,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
2660,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
2661,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
2662,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
2663,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2664,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2665,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
2666,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2667,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2668,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2669,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
2670,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2671,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2672,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2673,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
2674,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2675,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2676,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2677,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2678,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2679,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
2680,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2681,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2682,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2683,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2684,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
2685,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
2686,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2687,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2688,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2689,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2690,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
2691,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre11/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2692,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre11/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
2693,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre11/Dockerfile,"# only add stretch if we're not already building from within stretch
"
2694,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre11/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
2695,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre11/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
2696,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre11/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2697,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre11/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2698,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre11/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
2699,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre11/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2700,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre11/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2701,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre11/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2702,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre11/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2703,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre11/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2704,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre11/Dockerfile,"# verify Tomcat Native is working properly
"
2705,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2706,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2707,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2708,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2709,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2710,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2711,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2712,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2713,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
2714,0e8cf7367b4e3f3d77e8bc98fcec509bb7a8d7be,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2715,0e8cf7367b4e3f3d77e8bc98fcec509bb7a8d7be,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2716,0e8cf7367b4e3f3d77e8bc98fcec509bb7a8d7be,/8.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2717,0e8cf7367b4e3f3d77e8bc98fcec509bb7a8d7be,/8.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
2718,0e8cf7367b4e3f3d77e8bc98fcec509bb7a8d7be,/8.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2719,0e8cf7367b4e3f3d77e8bc98fcec509bb7a8d7be,/8.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
2720,0e8cf7367b4e3f3d77e8bc98fcec509bb7a8d7be,/8.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2721,0e8cf7367b4e3f3d77e8bc98fcec509bb7a8d7be,/8.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
2722,6a91f7af8b2449372ad234ed5303160e9be54c18,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2723,6a91f7af8b2449372ad234ed5303160e9be54c18,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2724,6a91f7af8b2449372ad234ed5303160e9be54c18,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2725,6a91f7af8b2449372ad234ed5303160e9be54c18,/7/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
2726,6a91f7af8b2449372ad234ed5303160e9be54c18,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2727,6a91f7af8b2449372ad234ed5303160e9be54c18,/7/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
2728,6a91f7af8b2449372ad234ed5303160e9be54c18,/7/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2729,6a91f7af8b2449372ad234ed5303160e9be54c18,/7/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2730,6a91f7af8b2449372ad234ed5303160e9be54c18,/7/jre7-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2731,6a91f7af8b2449372ad234ed5303160e9be54c18,/7/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
2732,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2733,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
2734,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
2735,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/8.5/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
2736,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2737,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2738,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2739,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
2740,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2741,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2742,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2743,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2744,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2745,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2746,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2747,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2748,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
2749,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2750,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2751,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2752,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2753,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2754,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2755,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2756,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2757,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
2758,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2759,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
2760,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
2761,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
2762,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
2763,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2764,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2765,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
2766,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2767,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2768,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2769,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2770,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2771,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
2772,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2773,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
2774,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
2775,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
2776,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
2777,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2778,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2779,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
2780,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2781,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2782,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2783,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
2784,a55c4f55b74edcf25c7a7cb8feb2b934d4724e8d,/7-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
2785,b0cb4ee4d375ade382d77c450903b7c3a0c2b39f,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2786,b0cb4ee4d375ade382d77c450903b7c3a0c2b39f,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
2787,b0cb4ee4d375ade382d77c450903b7c3a0c2b39f,/9.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
2788,e7a7901e48c2f4d4fd7e150623b9a9f44e14866e,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2789,e7a7901e48c2f4d4fd7e150623b9a9f44e14866e,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
2790,e7a7901e48c2f4d4fd7e150623b9a9f44e14866e,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2791,e7a7901e48c2f4d4fd7e150623b9a9f44e14866e,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2792,e7a7901e48c2f4d4fd7e150623b9a9f44e14866e,/8.5/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
2793,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2794,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2795,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2796,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
2797,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2798,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
2799,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2800,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
2801,42acf24d6056b82d396da6658943f5c26e7b5cc1,/7-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
2802,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2803,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
2804,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2805,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2806,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/8.5/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
2807,8fffa7246aacceb0e7390aafe978efeea9c104e3,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2808,8fffa7246aacceb0e7390aafe978efeea9c104e3,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2809,8fffa7246aacceb0e7390aafe978efeea9c104e3,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2810,8fffa7246aacceb0e7390aafe978efeea9c104e3,/9.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
2811,8fffa7246aacceb0e7390aafe978efeea9c104e3,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2812,8fffa7246aacceb0e7390aafe978efeea9c104e3,/9.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
2813,8fffa7246aacceb0e7390aafe978efeea9c104e3,/9.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2814,8fffa7246aacceb0e7390aafe978efeea9c104e3,/9.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
2815,85d2a6e22292644d22d4dda933c56c7821e61b7c,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2816,85d2a6e22292644d22d4dda933c56c7821e61b7c,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2817,85d2a6e22292644d22d4dda933c56c7821e61b7c,/8.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2818,85d2a6e22292644d22d4dda933c56c7821e61b7c,/8.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2819,85d2a6e22292644d22d4dda933c56c7821e61b7c,/8.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
2820,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2821,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
2822,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
2823,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
2824,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
2825,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2826,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2827,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
2828,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2829,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2830,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2831,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2832,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2833,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
2834,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2835,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2836,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
2837,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
2838,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
2839,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2840,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2841,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
2842,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
2843,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
2844,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
2845,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2846,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2847,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2848,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
2849,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2850,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2851,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2852,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
2853,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2854,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
2855,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2856,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
2857,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2858,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2859,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2860,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2861,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
2862,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
2863,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
2864,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2865,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2866,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2867,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2868,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
2869,1c81097952f3ba0f4c84f7b7160ccdac34c3b4cf,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2870,1c81097952f3ba0f4c84f7b7160ccdac34c3b4cf,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
2871,1c81097952f3ba0f4c84f7b7160ccdac34c3b4cf,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
2872,1c81097952f3ba0f4c84f7b7160ccdac34c3b4cf,/8.5/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
2873,1c81097952f3ba0f4c84f7b7160ccdac34c3b4cf,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2874,1c81097952f3ba0f4c84f7b7160ccdac34c3b4cf,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2875,1c81097952f3ba0f4c84f7b7160ccdac34c3b4cf,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2876,1c81097952f3ba0f4c84f7b7160ccdac34c3b4cf,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
2877,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2878,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre9/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
2879,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre9/Dockerfile,"# only add stretch if we're not already building from within stretch
"
2880,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre9/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
2881,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre9/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
2882,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2883,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2884,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre9/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
2885,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre9/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2886,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2887,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2888,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
2889,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2890,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2891,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2892,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2893,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
2894,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
2895,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
2896,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2897,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2898,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2899,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2900,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
2901,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2902,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2903,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2904,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2905,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2906,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2907,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2908,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2909,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
2910,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2911,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2912,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2913,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2914,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2915,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2916,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2917,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2918,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
2919,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk13/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2920,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk13/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2921,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk13/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
2922,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk13/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
2923,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk13/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
2924,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk13/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2925,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk13/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2926,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk13/openjdk-oracle/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
2927,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk13/openjdk-oracle/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
2928,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk13/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
2929,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk13/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
2930,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk13/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2931,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk13/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2932,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk13/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2933,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk13/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
2934,f5fc6e54e0ce5cd54254074a0fe152a541ef29c5,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2935,f5fc6e54e0ce5cd54254074a0fe152a541ef29c5,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2936,f5fc6e54e0ce5cd54254074a0fe152a541ef29c5,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2937,f5fc6e54e0ce5cd54254074a0fe152a541ef29c5,/9.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
2938,f5fc6e54e0ce5cd54254074a0fe152a541ef29c5,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2939,f5fc6e54e0ce5cd54254074a0fe152a541ef29c5,/9.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
2940,f5fc6e54e0ce5cd54254074a0fe152a541ef29c5,/9.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2941,f5fc6e54e0ce5cd54254074a0fe152a541ef29c5,/9.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2942,f5fc6e54e0ce5cd54254074a0fe152a541ef29c5,/9.0/jre8-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2943,f5fc6e54e0ce5cd54254074a0fe152a541ef29c5,/9.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
2944,676f0e07000cd25c027b71d2433ddf531a75eefd,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2945,676f0e07000cd25c027b71d2433ddf531a75eefd,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
2946,676f0e07000cd25c027b71d2433ddf531a75eefd,/8.5/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
2947,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2948,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2949,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2950,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2951,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
2952,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
2953,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
2954,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2955,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2956,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2957,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2958,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
2959,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2960,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2961,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2962,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2963,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
2964,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
2965,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
2966,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2967,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2968,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2969,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2970,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
2971,4b72a0a78d129afc6c37574145c19519c977ceed,/8.5/jre9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2972,4b72a0a78d129afc6c37574145c19519c977ceed,/8.5/jre9/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
2973,4b72a0a78d129afc6c37574145c19519c977ceed,/8.5/jre9/Dockerfile,"# only add stretch if we're not already building from within stretch
"
2974,4b72a0a78d129afc6c37574145c19519c977ceed,/8.5/jre9/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
2975,4b72a0a78d129afc6c37574145c19519c977ceed,/8.5/jre9/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
2976,4b72a0a78d129afc6c37574145c19519c977ceed,/8.5/jre9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2977,4b72a0a78d129afc6c37574145c19519c977ceed,/8.5/jre9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2978,4b72a0a78d129afc6c37574145c19519c977ceed,/8.5/jre9/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
2979,4b72a0a78d129afc6c37574145c19519c977ceed,/8.5/jre9/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2980,4b72a0a78d129afc6c37574145c19519c977ceed,/8.5/jre9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2981,4b72a0a78d129afc6c37574145c19519c977ceed,/8.5/jre9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
2982,888959b490387f1f7fcb8c117b23b4423f9f1bef,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2983,888959b490387f1f7fcb8c117b23b4423f9f1bef,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
2984,888959b490387f1f7fcb8c117b23b4423f9f1bef,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
2985,888959b490387f1f7fcb8c117b23b4423f9f1bef,/9.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
2986,888959b490387f1f7fcb8c117b23b4423f9f1bef,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2987,888959b490387f1f7fcb8c117b23b4423f9f1bef,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2988,888959b490387f1f7fcb8c117b23b4423f9f1bef,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2989,888959b490387f1f7fcb8c117b23b4423f9f1bef,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
2990,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk11/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2991,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk11/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
2992,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk11/Dockerfile,"# only add stretch if we're not already building from within stretch
"
2993,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk11/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
2994,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk11/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
2995,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk11/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2996,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk11/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2997,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk11/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
2998,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk11/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2999,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk11/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3000,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk11/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3001,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk11/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3002,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk11/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3003,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk11/Dockerfile,"# verify Tomcat Native is working properly
"
3004,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3005,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3006,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3007,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
3008,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3009,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
3010,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3011,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
3012,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3013,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3014,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3015,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3016,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
3017,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
3018,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
3019,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3020,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3021,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3022,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3023,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
3024,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3025,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre9/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
3026,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre9/Dockerfile,"# only add stretch if we're not already building from within stretch
"
3027,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre9/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
3028,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre9/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
3029,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3030,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3031,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre9/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
3032,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre9/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3033,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3034,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3035,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
3036,47c20041e3021753525bce2c127f183eac7082f0,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3037,47c20041e3021753525bce2c127f183eac7082f0,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3038,47c20041e3021753525bce2c127f183eac7082f0,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3039,47c20041e3021753525bce2c127f183eac7082f0,/7/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
3040,47c20041e3021753525bce2c127f183eac7082f0,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3041,47c20041e3021753525bce2c127f183eac7082f0,/7/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
3042,47c20041e3021753525bce2c127f183eac7082f0,/7/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3043,47c20041e3021753525bce2c127f183eac7082f0,/7/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3044,47c20041e3021753525bce2c127f183eac7082f0,/7/jre7-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3045,47c20041e3021753525bce2c127f183eac7082f0,/7/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
3046,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3047,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3048,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3049,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3050,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3051,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3052,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3053,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3054,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
3055,a227157792e94c669148c3c2a09072fb317070e0,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3056,a227157792e94c669148c3c2a09072fb317070e0,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
3057,a227157792e94c669148c3c2a09072fb317070e0,/7/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
3058,a227157792e94c669148c3c2a09072fb317070e0,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
3059,a227157792e94c669148c3c2a09072fb317070e0,/7/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
3060,a227157792e94c669148c3c2a09072fb317070e0,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3061,a227157792e94c669148c3c2a09072fb317070e0,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3062,a227157792e94c669148c3c2a09072fb317070e0,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3063,a227157792e94c669148c3c2a09072fb317070e0,/7/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3064,a227157792e94c669148c3c2a09072fb317070e0,/7/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
3065,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3066,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3067,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3068,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3069,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
3070,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
3071,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3072,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3073,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3074,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3075,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
3076,644ae253d0e833410fde43bf71b442294cc33613,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
3077,644ae253d0e833410fde43bf71b442294cc33613,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
3078,644ae253d0e833410fde43bf71b442294cc33613,/9.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
3079,644ae253d0e833410fde43bf71b442294cc33613,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
3080,644ae253d0e833410fde43bf71b442294cc33613,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
3081,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk11/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3082,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk11/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
3083,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk11/Dockerfile,"# only add stretch if we're not already building from within stretch
"
3084,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk11/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
3085,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk11/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
3086,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk11/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3087,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk11/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3088,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk11/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
3089,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk11/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3090,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk11/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3091,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk11/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3092,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk11/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3093,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk11/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3094,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk11/Dockerfile,"# verify Tomcat Native is working properly
"
3095,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3096,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3097,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3098,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3099,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
3100,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
3101,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
3102,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3103,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3104,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3105,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3106,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
3107,075a394e34f7329415e87ad5f0d77d46aac24876,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3108,075a394e34f7329415e87ad5f0d77d46aac24876,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
3109,075a394e34f7329415e87ad5f0d77d46aac24876,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
3110,075a394e34f7329415e87ad5f0d77d46aac24876,/9.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
3111,075a394e34f7329415e87ad5f0d77d46aac24876,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3112,075a394e34f7329415e87ad5f0d77d46aac24876,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3113,075a394e34f7329415e87ad5f0d77d46aac24876,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3114,075a394e34f7329415e87ad5f0d77d46aac24876,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
3115,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3116,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3117,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3118,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3119,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
3120,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
3121,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
3122,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3123,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3124,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3125,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3126,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
3127,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3128,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3129,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
3130,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
3131,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
3132,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3133,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3134,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-oracle/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
3135,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-oracle/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
3136,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-oracle/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
3137,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
3138,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
3139,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3140,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3141,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3142,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
3143,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3144,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3145,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3146,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3147,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3148,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3149,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3150,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3151,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
3152,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3153,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3154,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3155,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3156,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
3157,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
3158,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
3159,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3160,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3161,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3162,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3163,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
3164,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3165,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3166,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3167,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
3168,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3169,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3170,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3171,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3172,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3173,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
3174,747c33edc8015de543775ceee497c5926d05795f,/7/Dockerfile,"# add our user and group first to make sure their IDs get assigned consistently, regardless of whatever dependencies get added
"
3175,747c33edc8015de543775ceee497c5926d05795f,/7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
3176,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3177,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3178,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3179,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3180,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
3181,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
3182,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
3183,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3184,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3185,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3186,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3187,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
3188,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3189,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
3190,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
3191,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
3192,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
3193,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3194,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3195,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
3196,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3197,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3198,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3199,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3200,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3201,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
3202,6d19b06d7ddb8964823867867b55cac2d2cd57a1,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3203,6d19b06d7ddb8964823867867b55cac2d2cd57a1,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3204,6d19b06d7ddb8964823867867b55cac2d2cd57a1,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3205,6d19b06d7ddb8964823867867b55cac2d2cd57a1,/7/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
3206,6d19b06d7ddb8964823867867b55cac2d2cd57a1,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3207,6d19b06d7ddb8964823867867b55cac2d2cd57a1,/7/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
3208,6d19b06d7ddb8964823867867b55cac2d2cd57a1,/7/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3209,6d19b06d7ddb8964823867867b55cac2d2cd57a1,/7/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
3210,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3211,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3212,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3213,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3214,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/7/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
3215,989f50ed5db788921a4954109b90362e2209295e,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3216,989f50ed5db788921a4954109b90362e2209295e,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
3217,989f50ed5db788921a4954109b90362e2209295e,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
3218,989f50ed5db788921a4954109b90362e2209295e,/9.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
3219,989f50ed5db788921a4954109b90362e2209295e,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
3220,989f50ed5db788921a4954109b90362e2209295e,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
3221,2045c78917577ff88fbe6787a11041047eb3a3bc,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
3222,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3223,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3224,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3225,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3226,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
3227,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
3228,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
3229,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3230,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3231,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3232,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3233,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
3234,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3235,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3236,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
3237,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
3238,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
3239,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3240,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3241,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
3242,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
3243,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
3244,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
3245,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
3246,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3247,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3248,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3249,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
3250,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3251,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
3252,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
3253,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
3254,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
3255,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3256,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3257,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
3258,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3259,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre7/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3260,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3261,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3262,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre7/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3263,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
3264,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3265,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
3266,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
3267,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
3268,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
3269,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3270,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3271,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
3272,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3273,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3274,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3275,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3276,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3277,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
3278,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3279,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3280,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3281,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3282,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/7/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
3283,62f0d3f0ded1df407b771c127fccc6d60990da8a,/8/Dockerfile,"# add our user and group first to make sure their IDs get assigned consistently, regardless of whatever dependencies get added
"
3284,62f0d3f0ded1df407b771c127fccc6d60990da8a,/8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
3285,6d19b06d7ddb8964823867867b55cac2d2cd57a1,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3286,6d19b06d7ddb8964823867867b55cac2d2cd57a1,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3287,6d19b06d7ddb8964823867867b55cac2d2cd57a1,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3288,6d19b06d7ddb8964823867867b55cac2d2cd57a1,/7/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
3289,6d19b06d7ddb8964823867867b55cac2d2cd57a1,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3290,6d19b06d7ddb8964823867867b55cac2d2cd57a1,/7/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
3291,6d19b06d7ddb8964823867867b55cac2d2cd57a1,/7/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3292,6d19b06d7ddb8964823867867b55cac2d2cd57a1,/7/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
3293,b81ffe88c0bb6d760b6ee7d9c056469d59e68311,/7-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
3294,6f4b7544afb91088a666ef620e8ad5e989ed9abb,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3295,6f4b7544afb91088a666ef620e8ad5e989ed9abb,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
3296,6f4b7544afb91088a666ef620e8ad5e989ed9abb,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
3297,6f4b7544afb91088a666ef620e8ad5e989ed9abb,/7/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
3298,6f4b7544afb91088a666ef620e8ad5e989ed9abb,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3299,6f4b7544afb91088a666ef620e8ad5e989ed9abb,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3300,6f4b7544afb91088a666ef620e8ad5e989ed9abb,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3301,6f4b7544afb91088a666ef620e8ad5e989ed9abb,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
3302,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3303,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3304,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3305,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3306,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3307,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3308,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3309,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3310,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
3311,47c20041e3021753525bce2c127f183eac7082f0,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3312,47c20041e3021753525bce2c127f183eac7082f0,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3313,47c20041e3021753525bce2c127f183eac7082f0,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3314,47c20041e3021753525bce2c127f183eac7082f0,/7/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
3315,47c20041e3021753525bce2c127f183eac7082f0,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3316,47c20041e3021753525bce2c127f183eac7082f0,/7/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
3317,47c20041e3021753525bce2c127f183eac7082f0,/7/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3318,47c20041e3021753525bce2c127f183eac7082f0,/7/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3319,47c20041e3021753525bce2c127f183eac7082f0,/7/jre8-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3320,47c20041e3021753525bce2c127f183eac7082f0,/7/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
3321,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3322,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3323,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
3324,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
3325,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
3326,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3327,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3328,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
3329,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
3330,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
3331,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
3332,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
3333,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3334,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3335,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3336,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
3337,62e08b2f650bc7c097740bef4f1cda0e138a8827,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3338,62e08b2f650bc7c097740bef4f1cda0e138a8827,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
3339,62e08b2f650bc7c097740bef4f1cda0e138a8827,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
3340,62e08b2f650bc7c097740bef4f1cda0e138a8827,/9.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
3341,62e08b2f650bc7c097740bef4f1cda0e138a8827,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3342,62e08b2f650bc7c097740bef4f1cda0e138a8827,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3343,62e08b2f650bc7c097740bef4f1cda0e138a8827,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3344,62e08b2f650bc7c097740bef4f1cda0e138a8827,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
3345,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3346,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3347,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3348,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3349,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3350,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3351,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3352,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3353,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
3354,09406a39e2a096338762737c2f716effee73533f,/7/jdk8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3355,09406a39e2a096338762737c2f716effee73533f,/7/jdk8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
3356,09406a39e2a096338762737c2f716effee73533f,/7/jdk8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
3357,09406a39e2a096338762737c2f716effee73533f,/7/jdk8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
3358,09406a39e2a096338762737c2f716effee73533f,/7/jdk8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
3359,09406a39e2a096338762737c2f716effee73533f,/7/jdk8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3360,09406a39e2a096338762737c2f716effee73533f,/7/jdk8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3361,09406a39e2a096338762737c2f716effee73533f,/7/jdk8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
3362,09406a39e2a096338762737c2f716effee73533f,/7/jdk8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3363,09406a39e2a096338762737c2f716effee73533f,/7/jdk8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3364,09406a39e2a096338762737c2f716effee73533f,/7/jdk8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3365,09406a39e2a096338762737c2f716effee73533f,/7/jdk8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3366,09406a39e2a096338762737c2f716effee73533f,/7/jdk8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3367,09406a39e2a096338762737c2f716effee73533f,/7/jdk8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
3368,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3369,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3370,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3371,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3372,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
3373,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
3374,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
3375,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3376,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3377,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3378,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3379,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
3380,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3381,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3382,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3383,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3384,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3385,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3386,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3387,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3388,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
3389,50f4c2ff10406eec6d4a01b5490274c6024399d6,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3390,50f4c2ff10406eec6d4a01b5490274c6024399d6,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
3391,50f4c2ff10406eec6d4a01b5490274c6024399d6,/7/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
3392,50f4c2ff10406eec6d4a01b5490274c6024399d6,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
3393,50f4c2ff10406eec6d4a01b5490274c6024399d6,/7/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
3394,50f4c2ff10406eec6d4a01b5490274c6024399d6,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3395,50f4c2ff10406eec6d4a01b5490274c6024399d6,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3396,50f4c2ff10406eec6d4a01b5490274c6024399d6,/7/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
3397,50f4c2ff10406eec6d4a01b5490274c6024399d6,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3398,50f4c2ff10406eec6d4a01b5490274c6024399d6,/7/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3399,50f4c2ff10406eec6d4a01b5490274c6024399d6,/7/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
3400,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk12/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3401,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk12/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3402,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk12/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
3403,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk12/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
3404,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk12/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
3405,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk12/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3406,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk12/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3407,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk12/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
3408,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk12/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
3409,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk12/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3410,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk12/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3411,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk12/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3412,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk12/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
3413,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3414,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3415,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3416,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3417,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3418,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3419,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3420,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3421,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
3422,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3423,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
3424,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
3425,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
3426,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
3427,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3428,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3429,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.5/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
3430,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3431,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3432,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
3433,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3434,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
3435,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
3436,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
3437,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
3438,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3439,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3440,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
3441,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3442,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre7/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3443,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3444,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3445,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre7/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3446,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
3447,f34b65f30d1f1dd1c85390ea095eef4dad8fc819,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3448,f34b65f30d1f1dd1c85390ea095eef4dad8fc819,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
3449,f34b65f30d1f1dd1c85390ea095eef4dad8fc819,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
3450,f34b65f30d1f1dd1c85390ea095eef4dad8fc819,/9.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
3451,f34b65f30d1f1dd1c85390ea095eef4dad8fc819,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3452,f34b65f30d1f1dd1c85390ea095eef4dad8fc819,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3453,f34b65f30d1f1dd1c85390ea095eef4dad8fc819,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3454,f34b65f30d1f1dd1c85390ea095eef4dad8fc819,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
3455,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3456,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3457,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
3458,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
3459,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
3460,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3461,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3462,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
3463,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
3464,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
3465,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
3466,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3467,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3468,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3469,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
3470,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3471,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3472,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3473,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3474,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
3475,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
3476,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
3477,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3478,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3479,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3480,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3481,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
3482,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3483,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
3484,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
3485,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
3486,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
3487,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3488,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3489,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
3490,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3491,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3492,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3493,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
3494,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3495,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
3496,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
3497,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
3498,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
3499,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3500,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3501,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
3502,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3503,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3504,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3505,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3506,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3507,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
3508,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3509,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3510,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3511,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3512,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
3513,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
3514,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
3515,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3516,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3517,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3518,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3519,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
3520,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre9-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3521,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre9-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
3522,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre9-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
3523,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre9-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
3524,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre9-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
3525,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre9-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3526,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre9-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3527,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre9-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
3528,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre9-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3529,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre9-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3530,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre9-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3531,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre9-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
3532,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk12/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3533,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk12/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3534,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk12/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3535,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk12/openjdk-oracle/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
3536,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk12/openjdk-oracle/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3537,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk12/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
3538,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk12/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
3539,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk12/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
3540,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk12/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
3541,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk12/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
3542,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk12/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3543,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk12/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3544,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk12/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3545,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk12/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
3546,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3547,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3548,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3549,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3550,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3551,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3552,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3553,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3554,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
3555,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3556,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3557,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
3558,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
3559,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
3560,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3561,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3562,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
3563,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
3564,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
3565,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
3566,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3567,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3568,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3569,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
3570,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3571,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3572,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3573,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3574,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3575,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3576,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3577,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3578,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
3579,f26c14147f9affae8f32100430130271fc82bd3e,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3580,f26c14147f9affae8f32100430130271fc82bd3e,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
3581,f26c14147f9affae8f32100430130271fc82bd3e,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
3582,f26c14147f9affae8f32100430130271fc82bd3e,/7/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
3583,f26c14147f9affae8f32100430130271fc82bd3e,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3584,f26c14147f9affae8f32100430130271fc82bd3e,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3585,f26c14147f9affae8f32100430130271fc82bd3e,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3586,f26c14147f9affae8f32100430130271fc82bd3e,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
3587,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre11-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3588,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre11-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
3589,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre11-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
3590,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre11-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
3591,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre11-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
3592,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre11-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3593,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre11-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3594,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre11-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
3595,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre11-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3596,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre11-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3597,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre11-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3598,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre11-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3599,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre11-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3600,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre11-slim/Dockerfile,"# verify Tomcat Native is working properly
"
3601,85d2a6e22292644d22d4dda933c56c7821e61b7c,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3602,85d2a6e22292644d22d4dda933c56c7821e61b7c,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3603,85d2a6e22292644d22d4dda933c56c7821e61b7c,/8.0/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3604,85d2a6e22292644d22d4dda933c56c7821e61b7c,/8.0/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3605,85d2a6e22292644d22d4dda933c56c7821e61b7c,/8.0/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
3606,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3607,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3608,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3609,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3610,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3611,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3612,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3613,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3614,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
3615,6579c4d21893ec4043387a906ac6d22394a06d22,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3616,6579c4d21893ec4043387a906ac6d22394a06d22,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
3617,6579c4d21893ec4043387a906ac6d22394a06d22,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
3618,6579c4d21893ec4043387a906ac6d22394a06d22,/9.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
3619,6579c4d21893ec4043387a906ac6d22394a06d22,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
3620,6579c4d21893ec4043387a906ac6d22394a06d22,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3621,6579c4d21893ec4043387a906ac6d22394a06d22,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3622,6579c4d21893ec4043387a906ac6d22394a06d22,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
3623,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre11/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3624,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre11/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
3625,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre11/Dockerfile,"# only add stretch if we're not already building from within stretch
"
3626,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre11/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
3627,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre11/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
3628,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre11/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3629,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre11/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3630,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre11/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
3631,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre11/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3632,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre11/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3633,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre11/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3634,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre11/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3635,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre11/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3636,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre11/Dockerfile,"# verify Tomcat Native is working properly
"
3637,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3638,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3639,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3640,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3641,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
3642,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
3643,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
3644,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3645,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3646,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3647,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3648,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
3649,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3650,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
3651,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
3652,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/8.0/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
3653,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
3654,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3655,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3656,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
3657,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk13/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3658,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk13/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3659,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk13/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
3660,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk13/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
3661,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk13/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
3662,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk13/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3663,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk13/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3664,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk13/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
3665,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk13/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
3666,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk13/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3667,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk13/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3668,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk13/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3669,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk13/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
3670,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3671,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3672,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3673,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3674,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
3675,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
3676,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
3677,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3678,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3679,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3680,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3681,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
3682,9a104de6086d4a05ca08c193e25ec45a379ba4b2,/7-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
3683,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3684,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
3685,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
3686,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
3687,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
3688,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3689,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3690,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3691,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3692,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
3693,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3694,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3695,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3696,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
3697,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk8/openjdk-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3698,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3699,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3700,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3701,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3702,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
3703,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3704,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
3705,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
3706,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
3707,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
3708,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3709,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3710,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
3711,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3712,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3713,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3714,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3715,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3716,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
3717,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3718,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
3719,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
3720,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
3721,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
3722,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3723,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3724,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
3725,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3726,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3727,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3728,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3729,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3730,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
3731,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3732,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3733,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3734,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3735,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
3736,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
3737,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
3738,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3739,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3740,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3741,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3742,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
3743,8c174e038fe911fecc1a920a56afc10fd343bce2,/7-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
3744,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3745,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3746,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
3747,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
3748,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
3749,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3750,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3751,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
3752,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
3753,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
3754,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
3755,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
3756,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3757,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3758,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3759,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
3760,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3761,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
3762,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
3763,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
3764,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
3765,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3766,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3767,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
3768,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3769,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3770,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3771,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3772,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3773,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
3774,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3775,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3776,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3777,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3778,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3779,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3780,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3781,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3782,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
3783,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre11/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3784,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre11/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
3785,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre11/Dockerfile,"# only add stretch if we're not already building from within stretch
"
3786,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre11/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
3787,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre11/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
3788,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre11/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3789,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre11/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3790,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre11/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
3791,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre11/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3792,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre11/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3793,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre11/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3794,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre11/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3795,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre11/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3796,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre11/Dockerfile,"# verify Tomcat Native is working properly
"
3797,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3798,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
3799,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
3800,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
3801,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
3802,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3803,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3804,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
3805,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3806,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3807,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3808,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3809,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3810,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
3811,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3812,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3813,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
3814,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
3815,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
3816,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3817,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3818,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
3819,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
3820,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
3821,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
3822,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3823,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3824,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3825,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
3826,980cfce753b4b185feda907b35648089386607af,/8-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
3827,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3828,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3829,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3830,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3831,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3832,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3833,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3834,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3835,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
3836,a227157792e94c669148c3c2a09072fb317070e0,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3837,a227157792e94c669148c3c2a09072fb317070e0,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
3838,a227157792e94c669148c3c2a09072fb317070e0,/8.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
3839,a227157792e94c669148c3c2a09072fb317070e0,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
3840,a227157792e94c669148c3c2a09072fb317070e0,/8.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
3841,a227157792e94c669148c3c2a09072fb317070e0,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3842,a227157792e94c669148c3c2a09072fb317070e0,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3843,a227157792e94c669148c3c2a09072fb317070e0,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3844,a227157792e94c669148c3c2a09072fb317070e0,/8.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3845,a227157792e94c669148c3c2a09072fb317070e0,/8.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
3846,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3847,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3848,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3849,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3850,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
3851,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
3852,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
3853,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3854,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3855,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3856,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3857,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
3858,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3859,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3860,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3861,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3862,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
3863,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
3864,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
3865,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3866,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3867,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3868,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3869,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
3870,6a91f7af8b2449372ad234ed5303160e9be54c18,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3871,6a91f7af8b2449372ad234ed5303160e9be54c18,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3872,6a91f7af8b2449372ad234ed5303160e9be54c18,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3873,6a91f7af8b2449372ad234ed5303160e9be54c18,/7/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
3874,6a91f7af8b2449372ad234ed5303160e9be54c18,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3875,6a91f7af8b2449372ad234ed5303160e9be54c18,/7/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
3876,6a91f7af8b2449372ad234ed5303160e9be54c18,/7/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3877,6a91f7af8b2449372ad234ed5303160e9be54c18,/7/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3878,6a91f7af8b2449372ad234ed5303160e9be54c18,/7/jre8-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3879,6a91f7af8b2449372ad234ed5303160e9be54c18,/7/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
3880,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3881,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
3882,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
3883,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
3884,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
3885,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3886,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3887,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
3888,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3889,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3890,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3891,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
3892,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3893,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3894,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
3895,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
3896,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
3897,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3898,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3899,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
3900,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
3901,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
3902,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
3903,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
3904,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3905,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3906,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3907,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
3908,0e8cf7367b4e3f3d77e8bc98fcec509bb7a8d7be,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3909,0e8cf7367b4e3f3d77e8bc98fcec509bb7a8d7be,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3910,0e8cf7367b4e3f3d77e8bc98fcec509bb7a8d7be,/8.0/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3911,0e8cf7367b4e3f3d77e8bc98fcec509bb7a8d7be,/8.0/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
3912,0e8cf7367b4e3f3d77e8bc98fcec509bb7a8d7be,/8.0/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3913,0e8cf7367b4e3f3d77e8bc98fcec509bb7a8d7be,/8.0/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
3914,0e8cf7367b4e3f3d77e8bc98fcec509bb7a8d7be,/8.0/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3915,0e8cf7367b4e3f3d77e8bc98fcec509bb7a8d7be,/8.0/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
3916,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3917,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
3918,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
3919,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
3920,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
3921,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3922,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3923,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
3924,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3925,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3926,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3927,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
3928,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3929,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3930,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3931,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3932,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3933,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3934,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3935,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3936,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
3937,6f1c628fa92feea8b28e98e56a990500f2326936,/6-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
3938,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3939,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3940,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3941,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3942,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
3943,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
3944,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3945,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3946,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3947,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3948,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
3949,06a7e79e30595058df3c2fec9c769e47e2bca56d,/6/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3950,06a7e79e30595058df3c2fec9c769e47e2bca56d,/6/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
3951,06a7e79e30595058df3c2fec9c769e47e2bca56d,/6/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
3952,06a7e79e30595058df3c2fec9c769e47e2bca56d,/6/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
3953,06a7e79e30595058df3c2fec9c769e47e2bca56d,/6/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3954,06a7e79e30595058df3c2fec9c769e47e2bca56d,/6/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3955,06a7e79e30595058df3c2fec9c769e47e2bca56d,/6/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3956,06a7e79e30595058df3c2fec9c769e47e2bca56d,/6/jre8/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
3957,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3958,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3959,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3960,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3961,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
3962,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
3963,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
3964,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3965,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3966,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3967,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3968,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
3969,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre9-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3970,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre9-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
3971,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre9-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
3972,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre9-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
3973,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre9-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
3974,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre9-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3975,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre9-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3976,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre9-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
3977,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre9-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3978,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre9-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3979,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre9-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3980,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre9-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
3981,d543d4f0d7d7dffee5ad625e08bcc517e72489bb,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3982,d543d4f0d7d7dffee5ad625e08bcc517e72489bb,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3983,d543d4f0d7d7dffee5ad625e08bcc517e72489bb,/8.0/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3984,d543d4f0d7d7dffee5ad625e08bcc517e72489bb,/8.0/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
3985,d543d4f0d7d7dffee5ad625e08bcc517e72489bb,/8.0/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3986,d543d4f0d7d7dffee5ad625e08bcc517e72489bb,/8.0/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
3987,d543d4f0d7d7dffee5ad625e08bcc517e72489bb,/8.0/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3988,d543d4f0d7d7dffee5ad625e08bcc517e72489bb,/8.0/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
3989,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3990,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
3991,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
3992,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
3993,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
3994,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3995,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3996,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
3997,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3998,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3999,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4000,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4001,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4002,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
4003,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4004,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4005,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4006,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4007,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
4008,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
4009,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4010,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4011,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4012,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4013,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
4014,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4015,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
4016,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/7/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
4017,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
4018,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/7/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
4019,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4020,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4021,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4022,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/7/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4023,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/7/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
4024,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4025,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4026,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4027,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4028,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4029,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4030,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4031,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4032,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
4033,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre9-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4034,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre9-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
4035,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre9-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
4036,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre9-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
4037,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre9-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
4038,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre9-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4039,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre9-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4040,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre9-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
4041,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre9-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4042,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre9-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4043,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre9-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4044,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre9-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
4045,ef856d48e431a9b83730b5c14c0d9a84d70156a5,/8-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
4046,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4047,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4048,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4049,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4050,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4051,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4052,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4053,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4054,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
4055,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4056,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4057,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
4058,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
4059,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
4060,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4061,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4062,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
4063,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
4064,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4065,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4066,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4067,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
4068,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4069,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4070,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4071,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.5/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
4072,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4073,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.5/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
4074,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.5/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4075,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.5/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
4076,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4077,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4078,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4079,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4080,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
4081,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
4082,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
4083,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4084,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4085,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4086,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4087,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
4088,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4089,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4090,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4091,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
4092,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4093,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4094,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4095,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4096,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4097,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
4098,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4099,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4100,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4101,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4102,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4103,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4104,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4105,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4106,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
4107,85113c9c4b08f19200b286b858703410d1c7bb76,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4108,85113c9c4b08f19200b286b858703410d1c7bb76,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
4109,85113c9c4b08f19200b286b858703410d1c7bb76,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
4110,85113c9c4b08f19200b286b858703410d1c7bb76,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
4111,85113c9c4b08f19200b286b858703410d1c7bb76,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
4112,85113c9c4b08f19200b286b858703410d1c7bb76,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4113,85113c9c4b08f19200b286b858703410d1c7bb76,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4114,85113c9c4b08f19200b286b858703410d1c7bb76,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4115,85113c9c4b08f19200b286b858703410d1c7bb76,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4116,85113c9c4b08f19200b286b858703410d1c7bb76,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
4117,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4118,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
4119,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
4120,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
4121,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
4122,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4123,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4124,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
4125,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4126,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4127,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4128,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
4129,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4130,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4131,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
4132,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
4133,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
4134,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4135,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4136,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
4137,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
4138,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
4139,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
4140,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
4141,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4142,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4143,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4144,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
4145,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4146,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4147,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4148,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4149,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4150,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4151,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4152,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4153,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
4154,1b5b0791e065d9bfdfe84235faf7f77c157ff70d,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4155,1b5b0791e065d9bfdfe84235faf7f77c157ff70d,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
4156,1b5b0791e065d9bfdfe84235faf7f77c157ff70d,/8.0/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
4157,1b5b0791e065d9bfdfe84235faf7f77c157ff70d,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
4158,1b5b0791e065d9bfdfe84235faf7f77c157ff70d,/8.0/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
4159,1b5b0791e065d9bfdfe84235faf7f77c157ff70d,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4160,1b5b0791e065d9bfdfe84235faf7f77c157ff70d,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4161,1b5b0791e065d9bfdfe84235faf7f77c157ff70d,/8.0/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
4162,1b5b0791e065d9bfdfe84235faf7f77c157ff70d,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4163,1b5b0791e065d9bfdfe84235faf7f77c157ff70d,/8.0/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4164,1b5b0791e065d9bfdfe84235faf7f77c157ff70d,/8.0/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
4165,844072d81f9970fa1229fb971340ef49978a3533,/7/Dockerfile,"# add our user and group first to make sure their IDs get assigned consistently, regardless of whatever dependencies get added
"
4166,844072d81f9970fa1229fb971340ef49978a3533,/7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
4167,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4168,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4169,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4170,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4171,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
4172,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
4173,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
4174,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4175,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4176,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4177,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4178,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
4179,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4180,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4181,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4182,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4183,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4184,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4185,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4186,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4187,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
4188,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4189,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4190,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4191,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4192,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4193,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4194,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4195,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4196,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
4197,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4198,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4199,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4200,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4201,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/7/jre8-alpine/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
4202,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/7/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4203,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/7/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
4204,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4205,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
4206,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
4207,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/7/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
4208,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4209,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4210,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4211,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
4212,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4213,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
4214,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
4215,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
4216,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
4217,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4218,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4219,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
4220,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4221,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4222,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4223,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4224,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4225,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
4226,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4227,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
4228,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
4229,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
4230,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
4231,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4232,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4233,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
4234,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4235,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4236,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4237,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4238,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4239,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
4240,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk12/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4241,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk12/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4242,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk12/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4243,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk12/openjdk-oracle/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
4244,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk12/openjdk-oracle/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4245,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk12/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
4246,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk12/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
4247,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk12/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
4248,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk12/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
4249,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk12/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
4250,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk12/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4251,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk12/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4252,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk12/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4253,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk12/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
4254,0338217187e764d8dfee6a35dce9e4e130fbb85b,/6/jre7/Dockerfile,"# runtime dependency for Tomcat Native Libraries
"
4255,0338217187e764d8dfee6a35dce9e4e130fbb85b,/6/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4256,0338217187e764d8dfee6a35dce9e4e130fbb85b,/6/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4257,0338217187e764d8dfee6a35dce9e4e130fbb85b,/6/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4258,0338217187e764d8dfee6a35dce9e4e130fbb85b,/6/jre7/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
4259,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre10-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4260,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre10-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
4261,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre10-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
4262,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre10-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
4263,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre10-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
4264,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre10-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4265,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre10-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4266,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre10-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
4267,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre10-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4268,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre10-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4269,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre10-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4270,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre10-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4271,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre10-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4272,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre10-slim/Dockerfile,"# verify Tomcat Native is working properly
"
4273,749503f817a760ff76549305dc68c0abf42f4453,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4274,749503f817a760ff76549305dc68c0abf42f4453,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4275,749503f817a760ff76549305dc68c0abf42f4453,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4276,749503f817a760ff76549305dc68c0abf42f4453,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4277,749503f817a760ff76549305dc68c0abf42f4453,/9.0/jre8-alpine/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
4278,749503f817a760ff76549305dc68c0abf42f4453,/9.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4279,749503f817a760ff76549305dc68c0abf42f4453,/9.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
4280,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre7-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4281,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre7-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
4282,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre7-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
4283,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre7-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
4284,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre7-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
4285,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre7-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4286,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre7-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4287,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre7-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
4288,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre7-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4289,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre7-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4290,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre7-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4291,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre7-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
4292,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4293,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4294,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4295,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4296,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
4297,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
4298,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
4299,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4300,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4301,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4302,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4303,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
4304,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4305,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
4306,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
4307,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
4308,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
4309,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4310,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4311,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.5/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
4312,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4313,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4314,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
4315,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4316,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4317,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
4318,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
4319,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
4320,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4321,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4322,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
4323,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
4324,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
4325,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
4326,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
4327,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4328,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4329,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4330,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
4331,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4332,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4333,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4334,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4335,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
4336,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
4337,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4338,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4339,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4340,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4341,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
4342,2045c78917577ff88fbe6787a11041047eb3a3bc,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
4343,b0cb4ee4d375ade382d77c450903b7c3a0c2b39f,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4344,b0cb4ee4d375ade382d77c450903b7c3a0c2b39f,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
4345,b0cb4ee4d375ade382d77c450903b7c3a0c2b39f,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
4346,b0cb4ee4d375ade382d77c450903b7c3a0c2b39f,/8.5/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
4347,b0cb4ee4d375ade382d77c450903b7c3a0c2b39f,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
4348,b0cb4ee4d375ade382d77c450903b7c3a0c2b39f,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
4349,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4350,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4351,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4352,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4353,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4354,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4355,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4356,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4357,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
4358,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4359,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4360,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.0/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4361,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.0/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4362,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.0/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
4363,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4364,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4365,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4366,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4367,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4368,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4369,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4370,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4371,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
4372,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre11-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4373,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre11-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
4374,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre11-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
4375,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre11-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
4376,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre11-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
4377,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre11-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4378,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre11-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4379,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre11-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
4380,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre11-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4381,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre11-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4382,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre11-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4383,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre11-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4384,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre11-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4385,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre11-slim/Dockerfile,"# verify Tomcat Native is working properly
"
4386,437ad1d98f2ca7667df856d13922b23a22b719d0,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4387,437ad1d98f2ca7667df856d13922b23a22b719d0,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4388,437ad1d98f2ca7667df856d13922b23a22b719d0,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4389,437ad1d98f2ca7667df856d13922b23a22b719d0,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4390,437ad1d98f2ca7667df856d13922b23a22b719d0,/7/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
4391,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4392,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
4393,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
4394,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/9.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
4395,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
4396,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
4397,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre7-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4398,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre7-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
4399,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre7-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
4400,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre7-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
4401,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre7-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
4402,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre7-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4403,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre7-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4404,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre7-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
4405,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre7-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4406,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre7-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4407,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre7-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4408,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre7-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
4409,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4410,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4411,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4412,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4413,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
4414,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
4415,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
4416,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4417,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4418,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4419,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4420,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
4421,3c72bd6721ab6645badc72c164cbe6f3a8970bdb,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4422,3c72bd6721ab6645badc72c164cbe6f3a8970bdb,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4423,3c72bd6721ab6645badc72c164cbe6f3a8970bdb,/8.0/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4424,3c72bd6721ab6645badc72c164cbe6f3a8970bdb,/8.0/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4425,3c72bd6721ab6645badc72c164cbe6f3a8970bdb,/8.0/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
4426,d08341e2ed934abd7ff1baa0c26d6eac4f45f73a,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
4427,d08341e2ed934abd7ff1baa0c26d6eac4f45f73a,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
4428,d08341e2ed934abd7ff1baa0c26d6eac4f45f73a,/8.5/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
4429,d08341e2ed934abd7ff1baa0c26d6eac4f45f73a,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
4430,d08341e2ed934abd7ff1baa0c26d6eac4f45f73a,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
4431,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4432,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4433,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4434,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4435,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4436,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4437,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4438,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4439,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
4440,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4441,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4442,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4443,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4444,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
4445,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
4446,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
4447,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4448,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4449,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4450,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4451,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
4452,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4453,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4454,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4455,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4456,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4457,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4458,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4459,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4460,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
4461,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4462,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4463,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4464,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
4465,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4466,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4467,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4468,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4469,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4470,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
4471,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4472,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4473,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4474,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4475,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
4476,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
4477,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4478,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4479,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4480,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4481,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
4482,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4483,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
4484,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
4485,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
4486,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
4487,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4488,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4489,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
4490,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4491,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4492,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4493,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4494,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4495,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
4496,452e2d4dcb58e3d044a6288befab6d717f94590e,/6-jre7/Dockerfile,"# add our user and group first to make sure their IDs get assigned consistently, regardless of whatever dependencies get added
"
4497,452e2d4dcb58e3d044a6288befab6d717f94590e,/6-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
4498,5802aa060091bb2b18aee4f98a83a155540b978a,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4499,5802aa060091bb2b18aee4f98a83a155540b978a,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
4500,5802aa060091bb2b18aee4f98a83a155540b978a,/7/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
4501,5802aa060091bb2b18aee4f98a83a155540b978a,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
4502,5802aa060091bb2b18aee4f98a83a155540b978a,/7/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
4503,5802aa060091bb2b18aee4f98a83a155540b978a,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4504,5802aa060091bb2b18aee4f98a83a155540b978a,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4505,5802aa060091bb2b18aee4f98a83a155540b978a,/7/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
4506,5802aa060091bb2b18aee4f98a83a155540b978a,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4507,5802aa060091bb2b18aee4f98a83a155540b978a,/7/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4508,5802aa060091bb2b18aee4f98a83a155540b978a,/7/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
4509,6be7d97a528019fd7cedb0f3ef0dca674713512b,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4510,6be7d97a528019fd7cedb0f3ef0dca674713512b,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
4511,6be7d97a528019fd7cedb0f3ef0dca674713512b,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
4512,6be7d97a528019fd7cedb0f3ef0dca674713512b,/8.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
4513,6be7d97a528019fd7cedb0f3ef0dca674713512b,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4514,6be7d97a528019fd7cedb0f3ef0dca674713512b,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4515,6be7d97a528019fd7cedb0f3ef0dca674713512b,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4516,6be7d97a528019fd7cedb0f3ef0dca674713512b,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
4517,278a10ace50c5e7addd879fae5c5332e57b2fe37,/7-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
4518,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4519,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
4520,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
4521,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
4522,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
4523,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4524,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4525,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
4526,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4527,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4528,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4529,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
4530,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/7/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4531,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/7/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4532,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/7/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4533,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/7/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4534,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/7/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4535,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/7/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4536,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/7/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4537,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/7/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4538,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/7/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
4539,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4540,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4541,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4542,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4543,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
4544,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
4545,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4546,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4547,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4548,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4549,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
4550,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk14/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4551,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk14/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4552,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk14/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
4553,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk14/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
4554,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk14/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
4555,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk14/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4556,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk14/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4557,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk14/openjdk-oracle/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
4558,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk14/openjdk-oracle/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
4559,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk14/openjdk-oracle/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
4560,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk14/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
4561,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk14/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
4562,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk14/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4563,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk14/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4564,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk14/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4565,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk14/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
4566,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre7-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4567,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre7-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
4568,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre7-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
4569,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre7-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
4570,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre7-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
4571,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre7-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4572,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre7-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4573,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre7-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
4574,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre7-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4575,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre7-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4576,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre7-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4577,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre7-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
4578,aceabe036433c68b278767811bac728c6db4f8b3,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4579,aceabe036433c68b278767811bac728c6db4f8b3,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
4580,aceabe036433c68b278767811bac728c6db4f8b3,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
4581,aceabe036433c68b278767811bac728c6db4f8b3,/8.0/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
4582,aceabe036433c68b278767811bac728c6db4f8b3,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4583,aceabe036433c68b278767811bac728c6db4f8b3,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4584,aceabe036433c68b278767811bac728c6db4f8b3,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4585,aceabe036433c68b278767811bac728c6db4f8b3,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
4586,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4587,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
4588,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
4589,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
4590,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
4591,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4592,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4593,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
4594,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4595,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4596,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4597,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
4598,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4599,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4600,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4601,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4602,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
4603,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
4604,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
4605,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4606,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4607,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4608,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4609,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
4610,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4611,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
4612,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
4613,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/7/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
4614,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4615,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4616,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4617,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
4618,aceabe036433c68b278767811bac728c6db4f8b3,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4619,aceabe036433c68b278767811bac728c6db4f8b3,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4620,aceabe036433c68b278767811bac728c6db4f8b3,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4621,aceabe036433c68b278767811bac728c6db4f8b3,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4622,aceabe036433c68b278767811bac728c6db4f8b3,/8.5/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
4623,3c72bd6721ab6645badc72c164cbe6f3a8970bdb,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4624,3c72bd6721ab6645badc72c164cbe6f3a8970bdb,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4625,3c72bd6721ab6645badc72c164cbe6f3a8970bdb,/8.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4626,3c72bd6721ab6645badc72c164cbe6f3a8970bdb,/8.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4627,3c72bd6721ab6645badc72c164cbe6f3a8970bdb,/8.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
4628,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4629,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
4630,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
4631,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
4632,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
4633,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4634,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4635,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
4636,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4637,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4638,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4639,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
4640,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4641,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4642,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4643,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4644,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4645,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4646,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4647,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4648,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
4649,221fa4f6f1abfa3f033d4be781fa48faecbee212,/7-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
4650,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre10-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4651,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre10-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
4652,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre10-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
4653,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre10-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
4654,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre10-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
4655,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre10-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4656,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre10-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4657,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre10-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
4658,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre10-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4659,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre10-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4660,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre10-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4661,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre10-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4662,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre10-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4663,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre10-slim/Dockerfile,"# verify Tomcat Native is working properly
"
4664,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/8.5/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4665,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/8.5/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4666,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/8.5/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4667,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/8.5/jdk11/corretto/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
4668,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/8.5/jdk11/corretto/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4669,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/8.5/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
4670,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/8.5/jdk11/corretto/Dockerfile,"#?}}""; \
"
4671,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/8.5/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
4672,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/8.5/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
4673,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/8.5/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
4674,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/8.5/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4675,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/8.5/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4676,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/8.5/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4677,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/8.5/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
4678,41b2a08dbf016a551c859559a4e27c4f4fce2964,/8-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
4679,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4680,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4681,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4682,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4683,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4684,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4685,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4686,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4687,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
4688,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4689,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4690,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4691,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4692,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
4693,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
4694,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
4695,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4696,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4697,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4698,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4699,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
4700,19bdd962a61b69e3a35ddc0a8936854cc2e405f6,/9.0/jre8/Dockerfile,"# runtime dependency for Tomcat Native Libraries
"
4701,19bdd962a61b69e3a35ddc0a8936854cc2e405f6,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
4702,19bdd962a61b69e3a35ddc0a8936854cc2e405f6,/9.0/jre8/Dockerfile,"# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)

"
4703,19bdd962a61b69e3a35ddc0a8936854cc2e405f6,/9.0/jre8/Dockerfile,"# http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5048274.html (ie, HACK HACK HACK)
"
4704,19bdd962a61b69e3a35ddc0a8936854cc2e405f6,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
4705,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4706,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
4707,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/7/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
4708,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
4709,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/7/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
4710,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4711,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4712,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/7/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
4713,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4714,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/7/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4715,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/7/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
4716,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4717,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
4718,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
4719,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
4720,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
4721,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4722,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4723,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
4724,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4725,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4726,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4727,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
4728,437ad1d98f2ca7667df856d13922b23a22b719d0,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4729,437ad1d98f2ca7667df856d13922b23a22b719d0,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4730,437ad1d98f2ca7667df856d13922b23a22b719d0,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4731,437ad1d98f2ca7667df856d13922b23a22b719d0,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4732,437ad1d98f2ca7667df856d13922b23a22b719d0,/7/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
4733,1cf5b22547122751cc7e1149483dfa662639a450,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4734,1cf5b22547122751cc7e1149483dfa662639a450,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4735,1cf5b22547122751cc7e1149483dfa662639a450,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4736,1cf5b22547122751cc7e1149483dfa662639a450,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4737,1cf5b22547122751cc7e1149483dfa662639a450,/8.5/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
4738,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4739,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4740,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
4741,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
4742,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
4743,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4744,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4745,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
4746,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
4747,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
4748,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
4749,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
4750,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4751,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4752,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4753,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
4754,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4755,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4756,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
4757,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
4758,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
4759,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4760,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4761,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
4762,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
4763,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
4764,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
4765,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
4766,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4767,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4768,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4769,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
4770,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4771,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4772,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
4773,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
4774,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
4775,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4776,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4777,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
4778,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
4779,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
4780,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
4781,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4782,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4783,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4784,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
4785,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4786,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
4787,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
4788,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
4789,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
4790,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4791,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4792,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
4793,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4794,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4795,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4796,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
4797,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4798,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4799,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4800,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4801,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
4802,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
4803,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
4804,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4805,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4806,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4807,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4808,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
4809,df283818c14e8f24c294e2d3cd23099ef92e6643,/8-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
4810,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4811,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
4812,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
4813,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
4814,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
4815,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4816,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4817,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
4818,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4819,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4820,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4821,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4822,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4823,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
4824,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre9-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4825,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre9-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
4826,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre9-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
4827,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre9-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
4828,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre9-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
4829,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre9-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4830,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre9-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4831,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre9-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
4832,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre9-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4833,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre9-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4834,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre9-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4835,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre9-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
4836,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk13/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4837,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk13/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4838,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk13/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
4839,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk13/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
4840,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk13/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
4841,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk13/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4842,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk13/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4843,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk13/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
4844,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk13/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
4845,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk13/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4846,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk13/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4847,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk13/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4848,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk13/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
4849,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4850,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4851,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4852,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4853,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4854,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4855,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4856,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4857,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
4858,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4859,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4860,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4861,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4862,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
4863,2c7c55c923a12607c527186fad50e6f42c3f9d6b,/8-jre7/Dockerfile,"# add our user and group first to make sure their IDs get assigned consistently, regardless of whatever dependencies get added
"
4864,2c7c55c923a12607c527186fad50e6f42c3f9d6b,/8-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
4865,545107b374ce0b807a29ed958207d177576761ad,/9.0/jre11/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4866,545107b374ce0b807a29ed958207d177576761ad,/9.0/jre11/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
4867,545107b374ce0b807a29ed958207d177576761ad,/9.0/jre11/Dockerfile,"# only add stretch if we're not already building from within stretch
"
4868,545107b374ce0b807a29ed958207d177576761ad,/9.0/jre11/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
4869,545107b374ce0b807a29ed958207d177576761ad,/9.0/jre11/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
4870,545107b374ce0b807a29ed958207d177576761ad,/9.0/jre11/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4871,545107b374ce0b807a29ed958207d177576761ad,/9.0/jre11/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4872,545107b374ce0b807a29ed958207d177576761ad,/9.0/jre11/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
4873,545107b374ce0b807a29ed958207d177576761ad,/9.0/jre11/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4874,545107b374ce0b807a29ed958207d177576761ad,/9.0/jre11/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4875,545107b374ce0b807a29ed958207d177576761ad,/9.0/jre11/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4876,545107b374ce0b807a29ed958207d177576761ad,/9.0/jre11/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4877,545107b374ce0b807a29ed958207d177576761ad,/9.0/jre11/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4878,545107b374ce0b807a29ed958207d177576761ad,/9.0/jre11/Dockerfile,"# verify Tomcat Native is working properly
"
4879,dcffe2c06edc7a797e20161225eb59e97877ccb0,/6/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4880,dcffe2c06edc7a797e20161225eb59e97877ccb0,/6/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
4881,dcffe2c06edc7a797e20161225eb59e97877ccb0,/6/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
4882,dcffe2c06edc7a797e20161225eb59e97877ccb0,/6/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
4883,dcffe2c06edc7a797e20161225eb59e97877ccb0,/6/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4884,dcffe2c06edc7a797e20161225eb59e97877ccb0,/6/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4885,dcffe2c06edc7a797e20161225eb59e97877ccb0,/6/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4886,dcffe2c06edc7a797e20161225eb59e97877ccb0,/6/jre8/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
4887,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4888,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4889,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4890,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4891,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4892,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4893,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4894,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4895,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
4896,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4897,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4898,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4899,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4900,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
4901,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
4902,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
4903,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4904,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4905,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4906,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4907,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
4908,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4909,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4910,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4911,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4912,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4913,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4914,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4915,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4916,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
4917,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4918,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4919,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4920,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4921,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4922,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4923,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4924,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4925,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
4926,aceabe036433c68b278767811bac728c6db4f8b3,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4927,aceabe036433c68b278767811bac728c6db4f8b3,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
4928,aceabe036433c68b278767811bac728c6db4f8b3,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
4929,aceabe036433c68b278767811bac728c6db4f8b3,/7/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
4930,aceabe036433c68b278767811bac728c6db4f8b3,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4931,aceabe036433c68b278767811bac728c6db4f8b3,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4932,aceabe036433c68b278767811bac728c6db4f8b3,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4933,aceabe036433c68b278767811bac728c6db4f8b3,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
4934,f039d5d66e36a9dbe4ae651935e105b3064017c9,/8-jre7/Dockerfile,"# add our user and group first to make sure their IDs get assigned consistently, regardless of whatever dependencies get added
"
4935,f039d5d66e36a9dbe4ae651935e105b3064017c9,/8-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
4936,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre7-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4937,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre7-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
4938,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre7-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
4939,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre7-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
4940,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre7-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
4941,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre7-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4942,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre7-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4943,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre7-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
4944,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre7-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4945,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre7-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4946,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre7-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4947,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre7-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4948,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre7-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4949,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre7-slim/Dockerfile,"# verify Tomcat Native is working properly
"
4950,9c2fb18446d9e6841997362e575804da73f23eee,/6-jre8/Dockerfile,"# add our user and group first to make sure their IDs get assigned consistently, regardless of whatever dependencies get added
"
4951,9c2fb18446d9e6841997362e575804da73f23eee,/6-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
4952,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre10-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4953,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre10-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
4954,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre10-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
4955,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre10-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
4956,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre10-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
4957,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre10-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4958,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre10-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4959,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre10-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
4960,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre10-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4961,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre10-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4962,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre10-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4963,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre10-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4964,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre10-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4965,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre10-slim/Dockerfile,"# verify Tomcat Native is working properly
"
4966,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4967,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
4968,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
4969,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
4970,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
4971,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4972,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4973,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4974,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.5/jre8/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
4975,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4976,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
4977,116d0258150ad27d7141d16f7492a5215a4b8fec,/8-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
4978,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk13/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4979,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk13/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4980,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk13/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
4981,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk13/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
4982,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk13/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
4983,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk13/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4984,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk13/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4985,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk13/openjdk-oracle/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
4986,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk13/openjdk-oracle/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
4987,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk13/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
4988,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk13/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
4989,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk13/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4990,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk13/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4991,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk13/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4992,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk13/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
4993,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4994,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4995,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4996,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4997,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4998,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4999,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5000,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5001,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
5002,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5003,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
5004,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
5005,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
5006,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
5007,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5008,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5009,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
5010,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5011,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5012,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5013,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
5014,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5015,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
5016,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
5017,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
5018,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
5019,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5020,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5021,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
5022,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5023,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5024,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5025,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
5026,5c8b74e495a1b63116b524407941b15eef58a7fe,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5027,5c8b74e495a1b63116b524407941b15eef58a7fe,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
5028,5c8b74e495a1b63116b524407941b15eef58a7fe,/8.0/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
5029,5c8b74e495a1b63116b524407941b15eef58a7fe,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
5030,5c8b74e495a1b63116b524407941b15eef58a7fe,/8.0/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
5031,5c8b74e495a1b63116b524407941b15eef58a7fe,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5032,5c8b74e495a1b63116b524407941b15eef58a7fe,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5033,5c8b74e495a1b63116b524407941b15eef58a7fe,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5034,5c8b74e495a1b63116b524407941b15eef58a7fe,/8.0/jre7/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
5035,5c8b74e495a1b63116b524407941b15eef58a7fe,/8.0/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5036,5c8b74e495a1b63116b524407941b15eef58a7fe,/8.0/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
5037,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5038,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5039,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5040,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5041,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/7/jre7-alpine/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
5042,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/7/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5043,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/7/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
5044,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5045,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5046,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5047,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5048,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
5049,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
5050,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
5051,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5052,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5053,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5054,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5055,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
5056,6611537f66f8f1df614f86bfda5b5fc020755aad,/6-jre8/Dockerfile,"# add our user and group first to make sure their IDs get assigned consistently, regardless of whatever dependencies get added
"
5057,6611537f66f8f1df614f86bfda5b5fc020755aad,/6-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
5058,ae0ff8626dbb002258c3fabdcba1682fa12d6f99,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5059,ae0ff8626dbb002258c3fabdcba1682fa12d6f99,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5060,ae0ff8626dbb002258c3fabdcba1682fa12d6f99,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5061,ae0ff8626dbb002258c3fabdcba1682fa12d6f99,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5062,ae0ff8626dbb002258c3fabdcba1682fa12d6f99,/8.5/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
5063,e4ffae4e6e76e979ad524970f80984ee4cff88d7,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5064,e4ffae4e6e76e979ad524970f80984ee4cff88d7,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
5065,e4ffae4e6e76e979ad524970f80984ee4cff88d7,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
5066,e4ffae4e6e76e979ad524970f80984ee4cff88d7,/8.0/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
5067,e4ffae4e6e76e979ad524970f80984ee4cff88d7,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5068,e4ffae4e6e76e979ad524970f80984ee4cff88d7,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5069,e4ffae4e6e76e979ad524970f80984ee4cff88d7,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5070,e4ffae4e6e76e979ad524970f80984ee4cff88d7,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
5071,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5072,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5073,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5074,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5075,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5076,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5077,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5078,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5079,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
5080,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5081,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
5082,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
5083,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
5084,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
5085,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5086,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5087,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
5088,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5089,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5090,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5091,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
5092,1ac581da0dbef3f191cbb2d5fbfc4292e32bb0dd,/6-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
5093,efe59ebe52ba94045f4923be85214f4431a982a6,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5094,efe59ebe52ba94045f4923be85214f4431a982a6,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
5095,efe59ebe52ba94045f4923be85214f4431a982a6,/7/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
5096,efe59ebe52ba94045f4923be85214f4431a982a6,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
5097,efe59ebe52ba94045f4923be85214f4431a982a6,/7/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
5098,efe59ebe52ba94045f4923be85214f4431a982a6,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5099,efe59ebe52ba94045f4923be85214f4431a982a6,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5100,efe59ebe52ba94045f4923be85214f4431a982a6,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5101,efe59ebe52ba94045f4923be85214f4431a982a6,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
5102,d543d4f0d7d7dffee5ad625e08bcc517e72489bb,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5103,d543d4f0d7d7dffee5ad625e08bcc517e72489bb,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5104,d543d4f0d7d7dffee5ad625e08bcc517e72489bb,/8.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5105,d543d4f0d7d7dffee5ad625e08bcc517e72489bb,/8.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
5106,d543d4f0d7d7dffee5ad625e08bcc517e72489bb,/8.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5107,d543d4f0d7d7dffee5ad625e08bcc517e72489bb,/8.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
5108,d543d4f0d7d7dffee5ad625e08bcc517e72489bb,/8.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5109,d543d4f0d7d7dffee5ad625e08bcc517e72489bb,/8.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
5110,0e18eab4234afbff617aee84e7156ac1b4fd67d5,/6/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5111,0e18eab4234afbff617aee84e7156ac1b4fd67d5,/6/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
5112,0e18eab4234afbff617aee84e7156ac1b4fd67d5,/6/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
5113,0e18eab4234afbff617aee84e7156ac1b4fd67d5,/6/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
5114,0e18eab4234afbff617aee84e7156ac1b4fd67d5,/6/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
5115,0e18eab4234afbff617aee84e7156ac1b4fd67d5,/6/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5116,0e18eab4234afbff617aee84e7156ac1b4fd67d5,/6/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5117,0e18eab4234afbff617aee84e7156ac1b4fd67d5,/6/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5118,0e18eab4234afbff617aee84e7156ac1b4fd67d5,/6/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5119,0e18eab4234afbff617aee84e7156ac1b4fd67d5,/6/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
5120,545107b374ce0b807a29ed958207d177576761ad,/8.5/jre11/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5121,545107b374ce0b807a29ed958207d177576761ad,/8.5/jre11/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
5122,545107b374ce0b807a29ed958207d177576761ad,/8.5/jre11/Dockerfile,"# only add stretch if we're not already building from within stretch
"
5123,545107b374ce0b807a29ed958207d177576761ad,/8.5/jre11/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
5124,545107b374ce0b807a29ed958207d177576761ad,/8.5/jre11/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
5125,545107b374ce0b807a29ed958207d177576761ad,/8.5/jre11/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5126,545107b374ce0b807a29ed958207d177576761ad,/8.5/jre11/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5127,545107b374ce0b807a29ed958207d177576761ad,/8.5/jre11/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
5128,545107b374ce0b807a29ed958207d177576761ad,/8.5/jre11/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5129,545107b374ce0b807a29ed958207d177576761ad,/8.5/jre11/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5130,545107b374ce0b807a29ed958207d177576761ad,/8.5/jre11/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5131,545107b374ce0b807a29ed958207d177576761ad,/8.5/jre11/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5132,545107b374ce0b807a29ed958207d177576761ad,/8.5/jre11/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5133,545107b374ce0b807a29ed958207d177576761ad,/8.5/jre11/Dockerfile,"# verify Tomcat Native is working properly
"
5134,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5135,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
5136,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
5137,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
5138,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
5139,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5140,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5141,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
5142,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5143,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre7/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5144,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5145,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
5146,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5147,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5148,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5149,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5150,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
5151,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
5152,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
5153,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5154,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5155,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5156,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5157,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
5158,f26c14147f9affae8f32100430130271fc82bd3e,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5159,f26c14147f9affae8f32100430130271fc82bd3e,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
5160,f26c14147f9affae8f32100430130271fc82bd3e,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
5161,f26c14147f9affae8f32100430130271fc82bd3e,/8.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
5162,f26c14147f9affae8f32100430130271fc82bd3e,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5163,f26c14147f9affae8f32100430130271fc82bd3e,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5164,f26c14147f9affae8f32100430130271fc82bd3e,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5165,f26c14147f9affae8f32100430130271fc82bd3e,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
5166,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5167,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5168,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
5169,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
5170,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
5171,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5172,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5173,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
5174,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
5175,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
5176,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
5177,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
5178,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5179,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5180,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5181,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
5182,efab5942d355f9bac6f6e2a99d82a40a564bef3c,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5183,efab5942d355f9bac6f6e2a99d82a40a564bef3c,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5184,efab5942d355f9bac6f6e2a99d82a40a564bef3c,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5185,efab5942d355f9bac6f6e2a99d82a40a564bef3c,/8.5/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
5186,efab5942d355f9bac6f6e2a99d82a40a564bef3c,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5187,efab5942d355f9bac6f6e2a99d82a40a564bef3c,/8.5/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
5188,efab5942d355f9bac6f6e2a99d82a40a564bef3c,/8.5/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5189,efab5942d355f9bac6f6e2a99d82a40a564bef3c,/8.5/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
5190,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk14/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5191,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk14/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5192,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk14/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
5193,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk14/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
5194,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk14/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
5195,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk14/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5196,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk14/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5197,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk14/openjdk-oracle/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
5198,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk14/openjdk-oracle/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
5199,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk14/openjdk-oracle/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
5200,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk14/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
5201,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk14/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
5202,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk14/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5203,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk14/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5204,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk14/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5205,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk14/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
5206,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5207,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5208,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5209,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
5210,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5211,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
5212,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5213,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
5214,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5215,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5216,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
5217,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
5218,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
5219,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5220,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5221,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
5222,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
5223,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5224,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5225,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5226,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
5227,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5228,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5229,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
5230,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
5231,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
5232,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5233,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5234,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
5235,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
5236,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
5237,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
5238,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5239,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5240,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5241,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
5242,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5243,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
5244,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
5245,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
5246,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
5247,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5248,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5249,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
5250,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5251,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5252,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5253,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
5254,676f0e07000cd25c027b71d2433ddf531a75eefd,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5255,676f0e07000cd25c027b71d2433ddf531a75eefd,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
5256,676f0e07000cd25c027b71d2433ddf531a75eefd,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
5257,676f0e07000cd25c027b71d2433ddf531a75eefd,/7/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
5258,676f0e07000cd25c027b71d2433ddf531a75eefd,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
5259,676f0e07000cd25c027b71d2433ddf531a75eefd,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
5260,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5261,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5262,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5263,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5264,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5265,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5266,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5267,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5268,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
5269,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5270,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5271,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
5272,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
5273,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
5274,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5275,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5276,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
5277,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
5278,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
5279,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
5280,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
5281,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5282,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5283,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5284,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
5285,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5286,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5287,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/8.0/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5288,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/8.0/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5289,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/8.0/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5290,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/8.0/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
5291,676f0e07000cd25c027b71d2433ddf531a75eefd,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5292,676f0e07000cd25c027b71d2433ddf531a75eefd,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
5293,676f0e07000cd25c027b71d2433ddf531a75eefd,/9.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
5294,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk14/openjdk-oraclelinux7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5295,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk14/openjdk-oraclelinux7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5296,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk14/openjdk-oraclelinux7/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
5297,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk14/openjdk-oraclelinux7/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
5298,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk14/openjdk-oraclelinux7/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
5299,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk14/openjdk-oraclelinux7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5300,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk14/openjdk-oraclelinux7/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5301,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk14/openjdk-oraclelinux7/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
5302,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk14/openjdk-oraclelinux7/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
5303,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk14/openjdk-oraclelinux7/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
5304,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk14/openjdk-oraclelinux7/Dockerfile,"# mark any explicit dependencies as manually installed
"
5305,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk14/openjdk-oraclelinux7/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
5306,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk14/openjdk-oraclelinux7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5307,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk14/openjdk-oraclelinux7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5308,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk14/openjdk-oraclelinux7/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5309,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk14/openjdk-oraclelinux7/Dockerfile,"# verify Tomcat Native is working properly
"
5310,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk11-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5311,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk11-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
5312,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk11-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
5313,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk11-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
5314,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk11-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
5315,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk11-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5316,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk11-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5317,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk11-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
5318,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk11-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5319,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk11-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5320,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk11-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5321,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk11-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5322,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk11-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5323,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk11-slim/Dockerfile,"# verify Tomcat Native is working properly
"
5324,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5325,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5326,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5327,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5328,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5329,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5330,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5331,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5332,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
5333,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5334,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5335,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5336,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5337,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
5338,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
5339,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
5340,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5341,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5342,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5343,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5344,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
5345,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5346,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
5347,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
5348,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
5349,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
5350,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5351,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5352,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5353,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5354,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
5355,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5356,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
5357,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
5358,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/7/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
5359,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5360,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5361,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5362,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
5363,3b05667011a600a2f46422dd533467eff8e7fecf,/7-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
5364,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5365,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5366,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.0/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5367,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.0/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5368,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.0/jre7-alpine/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
5369,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.0/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5370,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.0/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
5371,656c22d037ccaa6adaedbb791febbd2e5197fadd,/6/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5372,656c22d037ccaa6adaedbb791febbd2e5197fadd,/6/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
5373,656c22d037ccaa6adaedbb791febbd2e5197fadd,/6/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
5374,656c22d037ccaa6adaedbb791febbd2e5197fadd,/6/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
5375,656c22d037ccaa6adaedbb791febbd2e5197fadd,/6/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5376,656c22d037ccaa6adaedbb791febbd2e5197fadd,/6/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5377,656c22d037ccaa6adaedbb791febbd2e5197fadd,/6/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5378,656c22d037ccaa6adaedbb791febbd2e5197fadd,/6/jre7/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
5379,6f1c628fa92feea8b28e98e56a990500f2326936,/8-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
5380,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5381,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5382,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5383,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5384,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
5385,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
5386,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5387,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5388,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5389,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5390,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
5391,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre7-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5392,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre7-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
5393,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre7-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
5394,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre7-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
5395,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre7-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
5396,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre7-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5397,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre7-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5398,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre7-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
5399,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre7-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5400,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre7-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5401,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre7-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5402,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre7-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5403,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre7-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5404,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre7-slim/Dockerfile,"# verify Tomcat Native is working properly
"
5405,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5406,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
5407,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
5408,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
5409,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
5410,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5411,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5412,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
5413,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5414,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5415,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5416,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
5417,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5418,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5419,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
5420,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
5421,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
5422,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5423,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5424,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-oracle/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
5425,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-oracle/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
5426,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-oracle/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
5427,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
5428,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
5429,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5430,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5431,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5432,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
5433,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5434,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5435,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5436,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5437,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5438,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5439,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5440,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5441,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
5442,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5443,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5444,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5445,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5446,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5447,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5448,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5449,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5450,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
5451,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5452,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
5453,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
5454,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
5455,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
5456,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5457,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5458,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
5459,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5460,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5461,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5462,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5463,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5464,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
5465,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5466,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5467,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5468,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5469,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5470,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5471,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5472,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5473,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
5474,af71a3020ae05a63741db44c69d722f00e1d382a,/8-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
5475,989f50ed5db788921a4954109b90362e2209295e,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5476,989f50ed5db788921a4954109b90362e2209295e,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
5477,989f50ed5db788921a4954109b90362e2209295e,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
5478,989f50ed5db788921a4954109b90362e2209295e,/8.5/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
5479,989f50ed5db788921a4954109b90362e2209295e,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
5480,989f50ed5db788921a4954109b90362e2209295e,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
5481,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5482,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5483,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5484,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5485,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5486,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5487,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5488,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5489,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
5490,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5491,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5492,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5493,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5494,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5495,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5496,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5497,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5498,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
5499,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5500,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5501,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5502,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
5503,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5504,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
5505,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5506,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
5507,b0cb4ee4d375ade382d77c450903b7c3a0c2b39f,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5508,b0cb4ee4d375ade382d77c450903b7c3a0c2b39f,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
5509,b0cb4ee4d375ade382d77c450903b7c3a0c2b39f,/8.5/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
5510,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5511,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
5512,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
5513,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
5514,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
5515,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5516,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5517,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
5518,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5519,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5520,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5521,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
5522,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5523,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5524,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5525,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5526,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5527,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5528,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5529,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5530,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
5531,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk11/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5532,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk11/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5533,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk11/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5534,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk11/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5535,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk11/openjdk-slim-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
5536,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk11/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
5537,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk11/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
5538,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk11/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5539,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk11/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5540,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk11/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5541,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk11/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5542,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk11/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
5543,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5544,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5545,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5546,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5547,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5548,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5549,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5550,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5551,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
5552,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5553,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5554,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5555,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5556,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
5557,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
5558,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5559,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5560,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5561,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5562,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
5563,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5564,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
5565,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
5566,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/7/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
5567,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
5568,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5569,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5570,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
5571,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5572,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
5573,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
5574,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
5575,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
5576,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5577,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5578,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
5579,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5580,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5581,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5582,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5583,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5584,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7-slim/Dockerfile,"# verify Tomcat Native is working properly
"
5585,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5586,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5587,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5588,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5589,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
5590,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
5591,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5592,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5593,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5594,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5595,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
5596,e0cfc71038fca93f3e1b54ef4a4db58fb506d5be,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5597,e0cfc71038fca93f3e1b54ef4a4db58fb506d5be,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5598,e0cfc71038fca93f3e1b54ef4a4db58fb506d5be,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5599,e0cfc71038fca93f3e1b54ef4a4db58fb506d5be,/7/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
5600,e0cfc71038fca93f3e1b54ef4a4db58fb506d5be,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5601,e0cfc71038fca93f3e1b54ef4a4db58fb506d5be,/7/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
5602,e0cfc71038fca93f3e1b54ef4a4db58fb506d5be,/7/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5603,e0cfc71038fca93f3e1b54ef4a4db58fb506d5be,/7/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5604,e0cfc71038fca93f3e1b54ef4a4db58fb506d5be,/7/jre7-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5605,e0cfc71038fca93f3e1b54ef4a4db58fb506d5be,/7/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
5606,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5607,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
5608,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
5609,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
5610,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
5611,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5612,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5613,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
5614,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5615,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5616,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5617,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5618,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5619,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
5620,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5621,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5622,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5623,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5624,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
5625,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
5626,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
5627,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5628,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5629,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5630,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5631,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
5632,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/6/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5633,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/6/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
5634,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/6/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
5635,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/6/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
5636,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/6/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
5637,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/6/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5638,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/6/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5639,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/6/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5640,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/6/jre8/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
5641,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5642,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5643,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5644,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5645,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/openjdk-slim-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
5646,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
5647,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
5648,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5649,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5650,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5651,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5652,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
5653,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5654,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5655,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5656,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5657,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
5658,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
5659,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
5660,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5661,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5662,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5663,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5664,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
5665,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre11-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5666,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre11-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
5667,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre11-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
5668,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre11-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
5669,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre11-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
5670,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre11-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5671,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre11-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5672,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre11-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
5673,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre11-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5674,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre11-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5675,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre11-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5676,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre11-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5677,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre11-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5678,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre11-slim/Dockerfile,"# verify Tomcat Native is working properly
"
5679,bd58c7237bff0357e76c9c9ee22deac77a2860cb,/8-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
5680,a46495d93b02266f616208b1599c26a2df0ae7f8,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5681,a46495d93b02266f616208b1599c26a2df0ae7f8,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5682,a46495d93b02266f616208b1599c26a2df0ae7f8,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5683,a46495d93b02266f616208b1599c26a2df0ae7f8,/7/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
5684,a46495d93b02266f616208b1599c26a2df0ae7f8,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5685,a46495d93b02266f616208b1599c26a2df0ae7f8,/7/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
5686,a46495d93b02266f616208b1599c26a2df0ae7f8,/7/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5687,a46495d93b02266f616208b1599c26a2df0ae7f8,/7/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
5688,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5689,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5690,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5691,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5692,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
5693,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
5694,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5695,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5696,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5697,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5698,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
5699,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5700,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
5701,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
5702,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
5703,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
5704,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5705,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5706,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
5707,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5708,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5709,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5710,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
5711,27c1f03b80a8d98c7355e57dbd2c35ae0ff73b27,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5712,27c1f03b80a8d98c7355e57dbd2c35ae0ff73b27,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5713,27c1f03b80a8d98c7355e57dbd2c35ae0ff73b27,/8.0/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5714,27c1f03b80a8d98c7355e57dbd2c35ae0ff73b27,/8.0/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5715,27c1f03b80a8d98c7355e57dbd2c35ae0ff73b27,/8.0/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
5716,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk14/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5717,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk14/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5718,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk14/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
5719,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk14/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
5720,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk14/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
5721,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk14/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5722,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk14/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5723,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk14/openjdk-oracle/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
5724,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk14/openjdk-oracle/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
5725,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk14/openjdk-oracle/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
5726,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk14/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
5727,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk14/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
5728,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk14/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5729,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk14/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5730,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk14/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5731,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk14/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
5732,4b5335ec27aee302823bea2e30dcf7b3118e61f2,/6/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5733,4b5335ec27aee302823bea2e30dcf7b3118e61f2,/6/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
5734,4b5335ec27aee302823bea2e30dcf7b3118e61f2,/6/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
5735,4b5335ec27aee302823bea2e30dcf7b3118e61f2,/6/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
5736,4b5335ec27aee302823bea2e30dcf7b3118e61f2,/6/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5737,4b5335ec27aee302823bea2e30dcf7b3118e61f2,/6/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5738,4b5335ec27aee302823bea2e30dcf7b3118e61f2,/6/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5739,4b5335ec27aee302823bea2e30dcf7b3118e61f2,/6/jre7/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
5740,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5741,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5742,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5743,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5744,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
5745,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
5746,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
5747,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5748,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5749,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5750,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5751,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
5752,5c76c4a20c9192ca75d9a9739070b7030b64304b,/6/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5753,5c76c4a20c9192ca75d9a9739070b7030b64304b,/6/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
5754,5c76c4a20c9192ca75d9a9739070b7030b64304b,/6/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
5755,5c76c4a20c9192ca75d9a9739070b7030b64304b,/6/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
5756,5c76c4a20c9192ca75d9a9739070b7030b64304b,/6/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5757,5c76c4a20c9192ca75d9a9739070b7030b64304b,/6/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5758,5c76c4a20c9192ca75d9a9739070b7030b64304b,/6/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5759,5c76c4a20c9192ca75d9a9739070b7030b64304b,/6/jre8/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
5760,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5761,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5762,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5763,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5764,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
5765,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
5766,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5767,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5768,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5769,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5770,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
5771,ed98c30c1cd42c53831f64dffa78a0abf7db8e9a,/7-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
5772,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5773,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5774,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5775,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5776,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5777,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5778,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5779,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5780,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
5781,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5782,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5783,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5784,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5785,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5786,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5787,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5788,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5789,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
5790,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk14/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5791,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk14/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5792,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk14/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5793,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk14/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5794,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk14/openjdk-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
5795,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk14/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
5796,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk14/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
5797,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk14/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5798,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk14/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5799,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk14/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5800,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk14/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5801,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk14/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
5802,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5803,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5804,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5805,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5806,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
5807,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
5808,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5809,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5810,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5811,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5812,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
5813,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5814,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5815,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5816,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
5817,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5818,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
5819,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5820,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
5821,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk12/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5822,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk12/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5823,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk12/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
5824,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk12/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
5825,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk12/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
5826,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk12/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5827,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk12/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5828,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk12/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
5829,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk12/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
5830,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk12/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5831,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk12/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5832,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk12/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5833,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk12/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
5834,5b0cd615bf08392873a4802dfee2efabf1d71456,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5835,5b0cd615bf08392873a4802dfee2efabf1d71456,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
5836,5b0cd615bf08392873a4802dfee2efabf1d71456,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
5837,5b0cd615bf08392873a4802dfee2efabf1d71456,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
5838,5b0cd615bf08392873a4802dfee2efabf1d71456,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
5839,5b0cd615bf08392873a4802dfee2efabf1d71456,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5840,5b0cd615bf08392873a4802dfee2efabf1d71456,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5841,5b0cd615bf08392873a4802dfee2efabf1d71456,/9.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
5842,5b0cd615bf08392873a4802dfee2efabf1d71456,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5843,5b0cd615bf08392873a4802dfee2efabf1d71456,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5844,5b0cd615bf08392873a4802dfee2efabf1d71456,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
5845,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5846,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
5847,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
5848,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
5849,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
5850,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5851,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5852,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
5853,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5854,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5855,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5856,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5857,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5858,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
5859,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5860,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5861,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5862,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5863,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
5864,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
5865,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5866,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5867,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5868,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5869,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
5870,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5871,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5872,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5873,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5874,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
5875,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
5876,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
5877,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5878,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5879,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5880,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5881,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
5882,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5883,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5884,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5885,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
5886,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5887,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
5888,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5889,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
5890,ba45c4da39f4705edefbf685d410eb6064f5f151,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5891,ba45c4da39f4705edefbf685d410eb6064f5f151,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5892,ba45c4da39f4705edefbf685d410eb6064f5f151,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5893,ba45c4da39f4705edefbf685d410eb6064f5f151,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5894,ba45c4da39f4705edefbf685d410eb6064f5f151,/9.0/jre8-alpine/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
5895,ba45c4da39f4705edefbf685d410eb6064f5f151,/9.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
5896,ba45c4da39f4705edefbf685d410eb6064f5f151,/9.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5897,ba45c4da39f4705edefbf685d410eb6064f5f151,/9.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
5898,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5899,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5900,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5901,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5902,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5903,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5904,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5905,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5906,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
5907,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5908,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
5909,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
5910,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
5911,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
5912,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5913,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5914,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
5915,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5916,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5917,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5918,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5919,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5920,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7-slim/Dockerfile,"# verify Tomcat Native is working properly
"
5921,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5922,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
5923,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
5924,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
5925,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
5926,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5927,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5928,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
5929,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5930,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5931,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5932,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5933,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5934,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
5935,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5936,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5937,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5938,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5939,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5940,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5941,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5942,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5943,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
5944,ac48cbb92d2664675929d013fd163fbc153697d9,/9.0/jdk13/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5945,ac48cbb92d2664675929d013fd163fbc153697d9,/9.0/jdk13/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5946,ac48cbb92d2664675929d013fd163fbc153697d9,/9.0/jdk13/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5947,ac48cbb92d2664675929d013fd163fbc153697d9,/9.0/jdk13/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5948,ac48cbb92d2664675929d013fd163fbc153697d9,/9.0/jdk13/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
5949,ac48cbb92d2664675929d013fd163fbc153697d9,/9.0/jdk13/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
5950,ac48cbb92d2664675929d013fd163fbc153697d9,/9.0/jdk13/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5951,ac48cbb92d2664675929d013fd163fbc153697d9,/9.0/jdk13/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5952,ac48cbb92d2664675929d013fd163fbc153697d9,/9.0/jdk13/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5953,ac48cbb92d2664675929d013fd163fbc153697d9,/9.0/jdk13/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5954,ac48cbb92d2664675929d013fd163fbc153697d9,/9.0/jdk13/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
5955,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5956,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
5957,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5958,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5959,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/9.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
5960,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre11-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5961,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre11-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
5962,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre11-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
5963,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre11-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
5964,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre11-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
5965,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre11-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5966,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre11-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5967,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre11-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
5968,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre11-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5969,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre11-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5970,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre11-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5971,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre11-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5972,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre11-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5973,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre11-slim/Dockerfile,"# verify Tomcat Native is working properly
"
5974,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5975,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
5976,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
5977,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
5978,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
5979,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5980,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5981,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
5982,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5983,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5984,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5985,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
5986,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk13/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5987,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk13/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5988,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk13/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
5989,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk13/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
5990,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk13/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
5991,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk13/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5992,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk13/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5993,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk13/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
5994,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk13/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
5995,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk13/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5996,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk13/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5997,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk13/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5998,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk13/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
5999,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6000,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6001,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6002,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
6003,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6004,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
6005,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6006,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
6007,7d7d6256214d54613930ab2200be159aff49cac5,/7-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
6008,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6009,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
6010,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
6011,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/7/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
6012,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6013,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6014,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6015,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
6016,4b72a0a78d129afc6c37574145c19519c977ceed,/9.0/jre9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6017,4b72a0a78d129afc6c37574145c19519c977ceed,/9.0/jre9/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
6018,4b72a0a78d129afc6c37574145c19519c977ceed,/9.0/jre9/Dockerfile,"# only add stretch if we're not already building from within stretch
"
6019,4b72a0a78d129afc6c37574145c19519c977ceed,/9.0/jre9/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
6020,4b72a0a78d129afc6c37574145c19519c977ceed,/9.0/jre9/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
6021,4b72a0a78d129afc6c37574145c19519c977ceed,/9.0/jre9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6022,4b72a0a78d129afc6c37574145c19519c977ceed,/9.0/jre9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6023,4b72a0a78d129afc6c37574145c19519c977ceed,/9.0/jre9/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
6024,4b72a0a78d129afc6c37574145c19519c977ceed,/9.0/jre9/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6025,4b72a0a78d129afc6c37574145c19519c977ceed,/9.0/jre9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6026,4b72a0a78d129afc6c37574145c19519c977ceed,/9.0/jre9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
6027,ab435d680d56084ebe0419adfb31cc58df3624dd,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6028,ab435d680d56084ebe0419adfb31cc58df3624dd,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
6029,ab435d680d56084ebe0419adfb31cc58df3624dd,/7/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
6030,ab435d680d56084ebe0419adfb31cc58df3624dd,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
6031,ab435d680d56084ebe0419adfb31cc58df3624dd,/7/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
6032,ab435d680d56084ebe0419adfb31cc58df3624dd,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6033,ab435d680d56084ebe0419adfb31cc58df3624dd,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6034,ab435d680d56084ebe0419adfb31cc58df3624dd,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6035,ab435d680d56084ebe0419adfb31cc58df3624dd,/7/jre7/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
6036,ab435d680d56084ebe0419adfb31cc58df3624dd,/7/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6037,ab435d680d56084ebe0419adfb31cc58df3624dd,/7/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
6038,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/9.0/jdk14/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6039,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/9.0/jdk14/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6040,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/9.0/jdk14/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6041,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/9.0/jdk14/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6042,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/9.0/jdk14/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
6043,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/9.0/jdk14/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
6044,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/9.0/jdk14/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6045,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/9.0/jdk14/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6046,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/9.0/jdk14/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6047,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/9.0/jdk14/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6048,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/9.0/jdk14/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
6049,62f0d3f0ded1df407b771c127fccc6d60990da8a,/6/Dockerfile,"# add our user and group first to make sure their IDs get assigned consistently, regardless of whatever dependencies get added
"
6050,62f0d3f0ded1df407b771c127fccc6d60990da8a,/6/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
6051,f4f5d57a2574e4d4c646041822ab72e6fff461e4,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6052,f4f5d57a2574e4d4c646041822ab72e6fff461e4,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6053,f4f5d57a2574e4d4c646041822ab72e6fff461e4,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6054,f4f5d57a2574e4d4c646041822ab72e6fff461e4,/9.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
6055,f4f5d57a2574e4d4c646041822ab72e6fff461e4,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6056,f4f5d57a2574e4d4c646041822ab72e6fff461e4,/9.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
6057,f4f5d57a2574e4d4c646041822ab72e6fff461e4,/9.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6058,f4f5d57a2574e4d4c646041822ab72e6fff461e4,/9.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
6059,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6060,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
6061,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
6062,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
6063,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
6064,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6065,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6066,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
6067,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6068,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre7/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6069,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6070,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6071,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre7/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6072,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
6073,4b72a0a78d129afc6c37574145c19519c977ceed,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6074,4b72a0a78d129afc6c37574145c19519c977ceed,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
6075,4b72a0a78d129afc6c37574145c19519c977ceed,/7/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
6076,4b72a0a78d129afc6c37574145c19519c977ceed,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
6077,4b72a0a78d129afc6c37574145c19519c977ceed,/7/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
6078,4b72a0a78d129afc6c37574145c19519c977ceed,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6079,4b72a0a78d129afc6c37574145c19519c977ceed,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6080,4b72a0a78d129afc6c37574145c19519c977ceed,/7/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
6081,4b72a0a78d129afc6c37574145c19519c977ceed,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6082,4b72a0a78d129afc6c37574145c19519c977ceed,/7/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6083,4b72a0a78d129afc6c37574145c19519c977ceed,/7/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
6084,27c1f03b80a8d98c7355e57dbd2c35ae0ff73b27,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6085,27c1f03b80a8d98c7355e57dbd2c35ae0ff73b27,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6086,27c1f03b80a8d98c7355e57dbd2c35ae0ff73b27,/8.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6087,27c1f03b80a8d98c7355e57dbd2c35ae0ff73b27,/8.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6088,27c1f03b80a8d98c7355e57dbd2c35ae0ff73b27,/8.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
6089,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk8/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6090,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk8/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6091,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk8/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6092,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk8/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6093,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk8/openjdk-slim-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
6094,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk8/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
6095,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk8/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
6096,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk8/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6097,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk8/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6098,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk8/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6099,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk8/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6100,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk8/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
6101,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6102,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre9/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
6103,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre9/Dockerfile,"# only add stretch if we're not already building from within stretch
"
6104,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre9/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
6105,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre9/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
6106,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6107,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6108,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre9/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
6109,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre9/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6110,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6111,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6112,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
6113,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6114,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
6115,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
6116,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
6117,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
6118,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6119,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6120,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
6121,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6122,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6123,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6124,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
6125,a46495d93b02266f616208b1599c26a2df0ae7f8,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6126,a46495d93b02266f616208b1599c26a2df0ae7f8,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6127,a46495d93b02266f616208b1599c26a2df0ae7f8,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6128,a46495d93b02266f616208b1599c26a2df0ae7f8,/7/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
6129,a46495d93b02266f616208b1599c26a2df0ae7f8,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6130,a46495d93b02266f616208b1599c26a2df0ae7f8,/7/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
6131,a46495d93b02266f616208b1599c26a2df0ae7f8,/7/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6132,a46495d93b02266f616208b1599c26a2df0ae7f8,/7/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
6133,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6134,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6135,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6136,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6137,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
6138,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
6139,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
6140,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6141,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6142,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6143,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6144,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
6145,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6146,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6147,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6148,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6149,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6150,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6151,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6152,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6153,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
6154,644ae253d0e833410fde43bf71b442294cc33613,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
6155,644ae253d0e833410fde43bf71b442294cc33613,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
6156,644ae253d0e833410fde43bf71b442294cc33613,/8.5/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
6157,644ae253d0e833410fde43bf71b442294cc33613,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
6158,644ae253d0e833410fde43bf71b442294cc33613,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
6159,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre11-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6160,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre11-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
6161,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre11-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
6162,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre11-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
6163,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre11-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
6164,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre11-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6165,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre11-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6166,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre11-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
6167,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre11-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6168,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre11-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6169,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre11-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6170,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre11-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6171,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre11-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6172,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre11-slim/Dockerfile,"# verify Tomcat Native is working properly
"
6173,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6174,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6175,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6176,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6177,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6178,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6179,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6180,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6181,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
6182,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6183,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6184,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
6185,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
6186,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
6187,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6188,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6189,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
6190,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
6191,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6192,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6193,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6194,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
6195,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6196,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
6197,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
6198,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
6199,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
6200,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6201,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6202,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
6203,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6204,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6205,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6206,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
6207,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6208,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
6209,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
6210,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
6211,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
6212,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6213,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6214,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
6215,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6216,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6217,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6218,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6219,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6220,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
6221,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6222,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6223,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6224,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6225,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
6226,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
6227,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
6228,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6229,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6230,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6231,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6232,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
6233,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6234,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6235,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6236,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk11/openjdk/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
6237,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk11/openjdk/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6238,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6239,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6240,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6241,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6242,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
6243,74b0911f36d776672bc943f9efb05868d1d5d79a,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
6244,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6245,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
6246,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
6247,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
6248,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
6249,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6250,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6251,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
6252,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6253,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6254,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6255,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
6256,e0cfc71038fca93f3e1b54ef4a4db58fb506d5be,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6257,e0cfc71038fca93f3e1b54ef4a4db58fb506d5be,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6258,e0cfc71038fca93f3e1b54ef4a4db58fb506d5be,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6259,e0cfc71038fca93f3e1b54ef4a4db58fb506d5be,/7/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
6260,e0cfc71038fca93f3e1b54ef4a4db58fb506d5be,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6261,e0cfc71038fca93f3e1b54ef4a4db58fb506d5be,/7/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
6262,e0cfc71038fca93f3e1b54ef4a4db58fb506d5be,/7/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6263,e0cfc71038fca93f3e1b54ef4a4db58fb506d5be,/7/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6264,e0cfc71038fca93f3e1b54ef4a4db58fb506d5be,/7/jre8-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6265,e0cfc71038fca93f3e1b54ef4a4db58fb506d5be,/7/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
6266,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk12/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6267,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk12/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6268,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk12/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
6269,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk12/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
6270,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk12/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
6271,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk12/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6272,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk12/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6273,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk12/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
6274,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk12/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
6275,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk12/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6276,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk12/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6277,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk12/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6278,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk12/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
6279,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6280,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6281,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6282,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6283,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
6284,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
6285,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6286,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6287,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6288,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6289,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
6290,c280358006777004381dde9c64ad54d4876a7cf3,/6/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6291,c280358006777004381dde9c64ad54d4876a7cf3,/6/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
6292,c280358006777004381dde9c64ad54d4876a7cf3,/6/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
6293,c280358006777004381dde9c64ad54d4876a7cf3,/6/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
6294,c280358006777004381dde9c64ad54d4876a7cf3,/6/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6295,c280358006777004381dde9c64ad54d4876a7cf3,/6/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6296,c280358006777004381dde9c64ad54d4876a7cf3,/6/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6297,c280358006777004381dde9c64ad54d4876a7cf3,/6/jre7/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
6298,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6299,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6300,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6301,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6302,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6303,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6304,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6305,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6306,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
6307,ec75141e3cb6276b07d66c16042152e2d4de119c,/7/jre7/Dockerfile,"# runtime dependency for Tomcat Native Libraries
"
6308,ec75141e3cb6276b07d66c16042152e2d4de119c,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
6309,ec75141e3cb6276b07d66c16042152e2d4de119c,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
6310,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6311,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
6312,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
6313,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/9.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
6314,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6315,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6316,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6317,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
6318,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre7-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6319,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre7-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
6320,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre7-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
6321,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre7-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
6322,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre7-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
6323,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre7-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6324,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre7-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6325,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre7-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
6326,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre7-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6327,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre7-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6328,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre7-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6329,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre7-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
6330,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6331,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6332,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6333,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6334,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
6335,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
6336,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
6337,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6338,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6339,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6340,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6341,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
6342,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6343,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6344,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6345,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6346,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6347,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6348,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6349,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6350,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
6351,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6352,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6353,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
6354,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
6355,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
6356,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6357,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6358,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
6359,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
6360,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6361,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6362,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6363,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
6364,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6365,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6366,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6367,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6368,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
6369,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
6370,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
6371,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6372,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6373,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6374,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6375,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
6376,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6377,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
6378,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
6379,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
6380,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
6381,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6382,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6383,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
6384,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6385,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6386,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6387,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
6388,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6389,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
6390,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
6391,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
6392,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
6393,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6394,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6395,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
6396,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6397,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6398,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6399,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
6400,656c22d037ccaa6adaedbb791febbd2e5197fadd,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6401,656c22d037ccaa6adaedbb791febbd2e5197fadd,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
6402,656c22d037ccaa6adaedbb791febbd2e5197fadd,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
6403,656c22d037ccaa6adaedbb791febbd2e5197fadd,/8.0/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
6404,656c22d037ccaa6adaedbb791febbd2e5197fadd,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6405,656c22d037ccaa6adaedbb791febbd2e5197fadd,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6406,656c22d037ccaa6adaedbb791febbd2e5197fadd,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6407,656c22d037ccaa6adaedbb791febbd2e5197fadd,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
6408,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6409,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6410,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6411,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6412,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
6413,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
6414,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
6415,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6416,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6417,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6418,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6419,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
6420,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6421,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
6422,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
6423,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
6424,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
6425,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6426,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6427,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
6428,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6429,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6430,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6431,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
6432,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6433,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6434,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6435,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
6436,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6437,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6438,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6439,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6440,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6441,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
6442,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6443,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6444,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6445,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6446,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
6447,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
6448,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
6449,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6450,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6451,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6452,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6453,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
6454,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6455,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6456,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/8.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6457,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/8.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6458,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/8.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6459,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/8.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
6460,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6461,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6462,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6463,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6464,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.0/jre8-alpine/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
6465,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6466,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
6467,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6468,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6469,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6470,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6471,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
6472,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
6473,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
6474,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6475,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6476,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6477,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6478,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
6479,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre7-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6480,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre7-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
6481,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre7-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
6482,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre7-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
6483,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre7-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
6484,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre7-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6485,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre7-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6486,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre7-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
6487,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre7-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6488,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre7-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6489,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre7-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6490,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre7-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
6491,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6492,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6493,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6494,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6495,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6496,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6497,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6498,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6499,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
6500,ac48cbb92d2664675929d013fd163fbc153697d9,/9.0/jdk13/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6501,ac48cbb92d2664675929d013fd163fbc153697d9,/9.0/jdk13/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6502,ac48cbb92d2664675929d013fd163fbc153697d9,/9.0/jdk13/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6503,ac48cbb92d2664675929d013fd163fbc153697d9,/9.0/jdk13/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6504,ac48cbb92d2664675929d013fd163fbc153697d9,/9.0/jdk13/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
6505,ac48cbb92d2664675929d013fd163fbc153697d9,/9.0/jdk13/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
6506,ac48cbb92d2664675929d013fd163fbc153697d9,/9.0/jdk13/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6507,ac48cbb92d2664675929d013fd163fbc153697d9,/9.0/jdk13/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6508,ac48cbb92d2664675929d013fd163fbc153697d9,/9.0/jdk13/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6509,ac48cbb92d2664675929d013fd163fbc153697d9,/9.0/jdk13/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6510,ac48cbb92d2664675929d013fd163fbc153697d9,/9.0/jdk13/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
6511,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6512,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6513,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6514,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6515,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
6516,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
6517,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
6518,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6519,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6520,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6521,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6522,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
6523,80778cf9ec89fcd828f2f7f8268f9154eca35e19,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6524,80778cf9ec89fcd828f2f7f8268f9154eca35e19,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
6525,80778cf9ec89fcd828f2f7f8268f9154eca35e19,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
6526,80778cf9ec89fcd828f2f7f8268f9154eca35e19,/7/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
6527,80778cf9ec89fcd828f2f7f8268f9154eca35e19,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6528,80778cf9ec89fcd828f2f7f8268f9154eca35e19,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6529,80778cf9ec89fcd828f2f7f8268f9154eca35e19,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6530,80778cf9ec89fcd828f2f7f8268f9154eca35e19,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
6531,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre7-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6532,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre7-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
6533,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre7-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
6534,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre7-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
6535,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre7-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
6536,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre7-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6537,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre7-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6538,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre7-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
6539,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre7-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6540,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre7-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6541,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre7-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6542,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre7-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
6543,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6544,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6545,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
6546,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
6547,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
6548,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6549,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6550,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-oracle/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
6551,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-oracle/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
6552,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-oracle/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
6553,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
6554,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
6555,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6556,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6557,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6558,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
6559,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6560,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
6561,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
6562,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
6563,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
6564,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6565,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6566,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
6567,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6568,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6569,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6570,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
6571,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6572,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6573,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
6574,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
6575,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
6576,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6577,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6578,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-oracle/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
6579,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-oracle/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
6580,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
6581,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
6582,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6583,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6584,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6585,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
6586,6579c4d21893ec4043387a906ac6d22394a06d22,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6587,6579c4d21893ec4043387a906ac6d22394a06d22,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
6588,6579c4d21893ec4043387a906ac6d22394a06d22,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6589,6579c4d21893ec4043387a906ac6d22394a06d22,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6590,6579c4d21893ec4043387a906ac6d22394a06d22,/9.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
6591,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6592,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6593,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6594,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6595,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
6596,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
6597,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6598,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6599,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6600,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6601,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
6602,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6603,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6604,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6605,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6606,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
6607,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
6608,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
6609,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6610,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6611,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6612,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6613,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
6614,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6615,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
6616,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
6617,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
6618,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
6619,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6620,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6621,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
6622,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6623,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6624,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6625,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
6626,1651e929e7d4c9785b602cb93cdd2503573c3834,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6627,1651e929e7d4c9785b602cb93cdd2503573c3834,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
6628,1651e929e7d4c9785b602cb93cdd2503573c3834,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
6629,1651e929e7d4c9785b602cb93cdd2503573c3834,/7/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
6630,1651e929e7d4c9785b602cb93cdd2503573c3834,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6631,1651e929e7d4c9785b602cb93cdd2503573c3834,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6632,1651e929e7d4c9785b602cb93cdd2503573c3834,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6633,1651e929e7d4c9785b602cb93cdd2503573c3834,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
6634,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6635,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6636,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6637,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6638,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6639,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6640,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6641,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6642,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
6643,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6644,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6645,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6646,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6647,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
6648,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
6649,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
6650,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6651,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6652,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6653,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6654,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
6655,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/8.5/jdk14/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6656,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/8.5/jdk14/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6657,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/8.5/jdk14/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6658,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/8.5/jdk14/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6659,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/8.5/jdk14/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
6660,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/8.5/jdk14/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
6661,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/8.5/jdk14/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6662,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/8.5/jdk14/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6663,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/8.5/jdk14/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6664,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/8.5/jdk14/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6665,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/8.5/jdk14/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
6666,116d0258150ad27d7141d16f7492a5215a4b8fec,/6-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
6667,984d958106aebab3f124f616277a2512da4d4a9f,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
6668,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6669,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6670,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
6671,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
6672,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
6673,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6674,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6675,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
6676,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
6677,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6678,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6679,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6680,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
6681,98708820f99e6c58da0eddb3243a01282a64b3be,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6682,98708820f99e6c58da0eddb3243a01282a64b3be,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
6683,98708820f99e6c58da0eddb3243a01282a64b3be,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
6684,98708820f99e6c58da0eddb3243a01282a64b3be,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
6685,98708820f99e6c58da0eddb3243a01282a64b3be,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
6686,98708820f99e6c58da0eddb3243a01282a64b3be,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6687,98708820f99e6c58da0eddb3243a01282a64b3be,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6688,98708820f99e6c58da0eddb3243a01282a64b3be,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6689,98708820f99e6c58da0eddb3243a01282a64b3be,/8.5/jre8/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
6690,98708820f99e6c58da0eddb3243a01282a64b3be,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6691,98708820f99e6c58da0eddb3243a01282a64b3be,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
6692,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6693,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6694,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6695,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6696,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
6697,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
6698,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
6699,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6700,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6701,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6702,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6703,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
6704,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6705,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
6706,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
6707,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
6708,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
6709,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6710,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6711,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6712,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/9.0/jre8/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
6713,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6714,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
6715,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6716,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6717,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6718,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6719,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
6720,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
6721,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
6722,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6723,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6724,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6725,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6726,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
6727,f039d5d66e36a9dbe4ae651935e105b3064017c9,/6-jre7/Dockerfile,"# add our user and group first to make sure their IDs get assigned consistently, regardless of whatever dependencies get added
"
6728,f039d5d66e36a9dbe4ae651935e105b3064017c9,/6-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
6729,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk13/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6730,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk13/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6731,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk13/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
6732,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk13/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
6733,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk13/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
6734,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk13/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6735,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk13/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6736,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk13/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
6737,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk13/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
6738,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk13/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6739,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk13/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6740,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk13/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6741,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk13/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
6742,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6743,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
6744,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
6745,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
6746,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
6747,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6748,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6749,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
6750,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6751,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre7/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6752,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6753,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6754,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre7/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6755,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
6756,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6757,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6758,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6759,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6760,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6761,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6762,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6763,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6764,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
6765,9c2fb18446d9e6841997362e575804da73f23eee,/8-jre8/Dockerfile,"# add our user and group first to make sure their IDs get assigned consistently, regardless of whatever dependencies get added
"
6766,9c2fb18446d9e6841997362e575804da73f23eee,/8-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
6767,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6768,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6769,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6770,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6771,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
6772,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
6773,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6774,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6775,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6776,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6777,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
6778,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre10-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6779,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre10-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
6780,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre10-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
6781,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre10-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
6782,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre10-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
6783,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre10-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6784,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre10-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6785,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre10-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
6786,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre10-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6787,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre10-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6788,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre10-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6789,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre10-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
6790,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6791,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6792,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6793,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6794,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
6795,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
6796,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
6797,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6798,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6799,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6800,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6801,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
6802,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6803,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6804,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
6805,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
6806,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
6807,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6808,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6809,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
6810,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
6811,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6812,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6813,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6814,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
6815,9cabcf1e71b270f31b4ff4d1a30587bb75ef3b76,/6/jre7/Dockerfile,"# runtime dependency for Tomcat Native Libraries
"
6816,9cabcf1e71b270f31b4ff4d1a30587bb75ef3b76,/6/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
6817,9cabcf1e71b270f31b4ff4d1a30587bb75ef3b76,/6/jre7/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
6818,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6819,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6820,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6821,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6822,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
6823,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
6824,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
6825,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6826,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6827,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6828,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6829,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
6830,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre11-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6831,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre11-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
6832,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre11-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
6833,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre11-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
6834,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre11-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
6835,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre11-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6836,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre11-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6837,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre11-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
6838,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre11-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6839,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre11-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6840,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre11-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6841,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre11-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6842,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre11-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6843,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre11-slim/Dockerfile,"# verify Tomcat Native is working properly
"
6844,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre10-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6845,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre10-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
6846,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre10-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
6847,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre10-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
6848,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre10-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
6849,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre10-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6850,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre10-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6851,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre10-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
6852,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre10-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6853,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre10-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6854,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre10-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6855,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre10-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6856,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre10-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6857,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre10-slim/Dockerfile,"# verify Tomcat Native is working properly
"
6858,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6859,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6860,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6861,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6862,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
6863,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
6864,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
6865,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6866,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6867,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6868,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6869,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
6870,1ac581da0dbef3f191cbb2d5fbfc4292e32bb0dd,/8-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
6871,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre9-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6872,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre9-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
6873,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre9-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
6874,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre9-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
6875,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre9-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
6876,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre9-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6877,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre9-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6878,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre9-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
6879,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre9-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6880,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre9-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6881,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre9-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6882,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre9-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
6883,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6884,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
6885,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
6886,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/8.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
6887,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
6888,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
6889,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6890,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6891,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6892,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6893,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6894,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6895,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6896,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6897,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
6898,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6899,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6900,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6901,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
6902,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6903,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
6904,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6905,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6906,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6907,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
6908,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6909,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6910,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6911,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6912,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
6913,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
6914,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
6915,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6916,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6917,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6918,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6919,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
6920,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6921,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
6922,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
6923,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
6924,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
6925,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6926,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6927,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
6928,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6929,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre7/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6930,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6931,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
6932,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6933,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6934,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6935,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6936,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
6937,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
6938,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6939,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6940,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6941,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6942,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
6943,6611537f66f8f1df614f86bfda5b5fc020755aad,/8-jre8/Dockerfile,"# add our user and group first to make sure their IDs get assigned consistently, regardless of whatever dependencies get added
"
6944,6611537f66f8f1df614f86bfda5b5fc020755aad,/8-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
6945,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6946,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
6947,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
6948,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
6949,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
6950,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6951,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6952,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
6953,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6954,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6955,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6956,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
6957,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre10/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6958,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre10/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
6959,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre10/Dockerfile,"# only add stretch if we're not already building from within stretch
"
6960,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre10/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
6961,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre10/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
6962,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre10/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6963,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre10/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6964,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre10/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
6965,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre10/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6966,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre10/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6967,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre10/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6968,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre10/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6969,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre10/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6970,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre10/Dockerfile,"# verify Tomcat Native is working properly
"
6971,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6972,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
6973,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
6974,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
6975,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
6976,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6977,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6978,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
6979,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6980,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6981,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6982,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
6983,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6984,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
6985,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
6986,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
6987,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
6988,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6989,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6990,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
6991,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6992,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6993,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6994,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
6995,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6996,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6997,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6998,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/9.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
6999,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7000,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/9.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
7001,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/9.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7002,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/9.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
7003,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7004,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
7005,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
7006,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
7007,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
7008,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7009,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7010,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
7011,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7012,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre7/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7013,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7014,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
7015,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7016,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7017,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7018,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7019,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
7020,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
7021,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7022,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7023,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7024,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7025,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
7026,e36c4044b7ece1361f124aaf3560c2efd888b62f,/8-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
7027,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7028,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7029,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7030,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7031,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
7032,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
7033,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7034,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7035,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7036,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7037,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
7038,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7039,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7040,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7041,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7042,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
7043,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
7044,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7045,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7046,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7047,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7048,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
7049,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7050,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7051,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7052,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7053,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7054,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7055,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7056,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7057,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
7058,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/6/jre8/Dockerfile,"# runtime dependency for Tomcat Native Libraries
"
7059,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/6/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
7060,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/6/jre8/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
7061,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7062,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7063,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7064,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7065,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
7066,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
7067,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
7068,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7069,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7070,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7071,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7072,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
7073,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre7-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7074,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre7-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
7075,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre7-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
7076,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre7-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
7077,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre7-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
7078,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre7-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7079,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre7-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7080,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre7-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
7081,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre7-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7082,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre7-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7083,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre7-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7084,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre7-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
7085,1691653797eb1f26b4e1d4898c71094ff9104e0e,/7-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
7086,023eb5126ff70b769f1f84b28c440fb6128bffe7,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7087,023eb5126ff70b769f1f84b28c440fb6128bffe7,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
7088,023eb5126ff70b769f1f84b28c440fb6128bffe7,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
7089,023eb5126ff70b769f1f84b28c440fb6128bffe7,/8.5/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
7090,023eb5126ff70b769f1f84b28c440fb6128bffe7,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7091,023eb5126ff70b769f1f84b28c440fb6128bffe7,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7092,023eb5126ff70b769f1f84b28c440fb6128bffe7,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7093,023eb5126ff70b769f1f84b28c440fb6128bffe7,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
7094,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7095,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7096,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7097,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7098,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
7099,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
7100,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
7101,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7102,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7103,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7104,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7105,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
7106,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7107,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7108,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7109,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7110,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
7111,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
7112,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
7113,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7114,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7115,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7116,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7117,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
7118,989f50ed5db788921a4954109b90362e2209295e,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7119,989f50ed5db788921a4954109b90362e2209295e,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
7120,989f50ed5db788921a4954109b90362e2209295e,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
7121,989f50ed5db788921a4954109b90362e2209295e,/7/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
7122,989f50ed5db788921a4954109b90362e2209295e,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
7123,989f50ed5db788921a4954109b90362e2209295e,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
7124,2c7c55c923a12607c527186fad50e6f42c3f9d6b,/6-jre7/Dockerfile,"# add our user and group first to make sure their IDs get assigned consistently, regardless of whatever dependencies get added
"
7125,2c7c55c923a12607c527186fad50e6f42c3f9d6b,/6-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
7126,1722fc14b4eb66f746a2067739f32d4111f408de,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7127,1722fc14b4eb66f746a2067739f32d4111f408de,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7128,1722fc14b4eb66f746a2067739f32d4111f408de,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7129,1722fc14b4eb66f746a2067739f32d4111f408de,/7/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
7130,1722fc14b4eb66f746a2067739f32d4111f408de,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7131,1722fc14b4eb66f746a2067739f32d4111f408de,/7/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
7132,1722fc14b4eb66f746a2067739f32d4111f408de,/7/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7133,1722fc14b4eb66f746a2067739f32d4111f408de,/7/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7134,1722fc14b4eb66f746a2067739f32d4111f408de,/7/jre8-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7135,1722fc14b4eb66f746a2067739f32d4111f408de,/7/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
7136,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7137,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
7138,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
7139,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
7140,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
7141,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7142,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7143,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
7144,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7145,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre7/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7146,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7147,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
7148,19bdd962a61b69e3a35ddc0a8936854cc2e405f6,/8.5/jre8/Dockerfile,"# runtime dependency for Tomcat Native Libraries
"
7149,19bdd962a61b69e3a35ddc0a8936854cc2e405f6,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
7150,19bdd962a61b69e3a35ddc0a8936854cc2e405f6,/8.5/jre8/Dockerfile,"# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)

"
7151,19bdd962a61b69e3a35ddc0a8936854cc2e405f6,/8.5/jre8/Dockerfile,"# http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5048274.html (ie, HACK HACK HACK)
"
7152,19bdd962a61b69e3a35ddc0a8936854cc2e405f6,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
7153,3bbd4ed7a59680ae1d6dc3f123897f07e0625989,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7154,3bbd4ed7a59680ae1d6dc3f123897f07e0625989,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
7155,3bbd4ed7a59680ae1d6dc3f123897f07e0625989,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
7156,3bbd4ed7a59680ae1d6dc3f123897f07e0625989,/8.0/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
7157,3bbd4ed7a59680ae1d6dc3f123897f07e0625989,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7158,3bbd4ed7a59680ae1d6dc3f123897f07e0625989,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7159,3bbd4ed7a59680ae1d6dc3f123897f07e0625989,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7160,3bbd4ed7a59680ae1d6dc3f123897f07e0625989,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
7161,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7162,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
7163,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
7164,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
7165,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
7166,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7167,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7168,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
7169,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7170,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre7/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7171,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7172,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7173,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre7/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7174,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
7175,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7176,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7177,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7178,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7179,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7180,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7181,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7182,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7183,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
7184,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7185,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7186,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7187,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7188,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
7189,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
7190,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
7191,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7192,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7193,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7194,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7195,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
7196,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7197,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7198,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7199,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
7200,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7201,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
7202,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7203,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7204,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7205,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
7206,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7207,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7208,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7209,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7210,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7211,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7212,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7213,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7214,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
7215,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7216,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7217,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
7218,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
7219,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
7220,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7221,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7222,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
7223,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
7224,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7225,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7226,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7227,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
7228,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7229,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7230,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7231,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7232,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7233,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7234,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7235,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7236,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
7237,74b0911f36d776672bc943f9efb05868d1d5d79a,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
7238,ac48cbb92d2664675929d013fd163fbc153697d9,/8.5/jdk13/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7239,ac48cbb92d2664675929d013fd163fbc153697d9,/8.5/jdk13/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7240,ac48cbb92d2664675929d013fd163fbc153697d9,/8.5/jdk13/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7241,ac48cbb92d2664675929d013fd163fbc153697d9,/8.5/jdk13/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7242,ac48cbb92d2664675929d013fd163fbc153697d9,/8.5/jdk13/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
7243,ac48cbb92d2664675929d013fd163fbc153697d9,/8.5/jdk13/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
7244,ac48cbb92d2664675929d013fd163fbc153697d9,/8.5/jdk13/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7245,ac48cbb92d2664675929d013fd163fbc153697d9,/8.5/jdk13/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7246,ac48cbb92d2664675929d013fd163fbc153697d9,/8.5/jdk13/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7247,ac48cbb92d2664675929d013fd163fbc153697d9,/8.5/jdk13/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7248,ac48cbb92d2664675929d013fd163fbc153697d9,/8.5/jdk13/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
7249,7392659258be9e70dd2c93faa7aadacd060ab4d2,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7250,7392659258be9e70dd2c93faa7aadacd060ab4d2,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
7251,7392659258be9e70dd2c93faa7aadacd060ab4d2,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
7252,7392659258be9e70dd2c93faa7aadacd060ab4d2,/7/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
7253,7392659258be9e70dd2c93faa7aadacd060ab4d2,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7254,7392659258be9e70dd2c93faa7aadacd060ab4d2,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7255,7392659258be9e70dd2c93faa7aadacd060ab4d2,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7256,7392659258be9e70dd2c93faa7aadacd060ab4d2,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
7257,7392659258be9e70dd2c93faa7aadacd060ab4d2,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7258,7392659258be9e70dd2c93faa7aadacd060ab4d2,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
7259,7392659258be9e70dd2c93faa7aadacd060ab4d2,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
7260,7392659258be9e70dd2c93faa7aadacd060ab4d2,/8.0/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
7261,7392659258be9e70dd2c93faa7aadacd060ab4d2,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7262,7392659258be9e70dd2c93faa7aadacd060ab4d2,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7263,7392659258be9e70dd2c93faa7aadacd060ab4d2,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7264,7392659258be9e70dd2c93faa7aadacd060ab4d2,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
7265,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7266,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
7267,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
7268,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
7269,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
7270,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7271,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7272,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
7273,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7274,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7275,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
7276,b0cb4ee4d375ade382d77c450903b7c3a0c2b39f,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7277,b0cb4ee4d375ade382d77c450903b7c3a0c2b39f,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
7278,b0cb4ee4d375ade382d77c450903b7c3a0c2b39f,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
7279,b0cb4ee4d375ade382d77c450903b7c3a0c2b39f,/9.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
7280,b0cb4ee4d375ade382d77c450903b7c3a0c2b39f,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
7281,b0cb4ee4d375ade382d77c450903b7c3a0c2b39f,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
7282,2045c78917577ff88fbe6787a11041047eb3a3bc,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
7283,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7284,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7285,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7286,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7287,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
7288,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
7289,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
7290,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7291,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7292,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7293,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7294,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
7295,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre10/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7296,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre10/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
7297,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre10/Dockerfile,"# only add stretch if we're not already building from within stretch
"
7298,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre10/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
7299,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre10/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
7300,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre10/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7301,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre10/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7302,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre10/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
7303,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre10/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7304,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre10/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7305,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre10/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7306,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre10/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
7307,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7308,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7309,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
7310,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
7311,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
7312,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7313,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7314,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
7315,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
7316,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
7317,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
7318,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
7319,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7320,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7321,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7322,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
7323,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7324,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7325,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7326,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7327,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7328,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7329,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7330,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7331,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
7332,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7333,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7334,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7335,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
7336,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7337,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
7338,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7339,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7340,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7341,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
7342,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7343,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7344,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7345,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7346,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
7347,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
7348,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
7349,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7350,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7351,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7352,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7353,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
7354,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7355,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
7356,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
7357,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
7358,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
7359,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7360,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7361,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
7362,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7363,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7364,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7365,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7366,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7367,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
7368,1722fc14b4eb66f746a2067739f32d4111f408de,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7369,1722fc14b4eb66f746a2067739f32d4111f408de,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7370,1722fc14b4eb66f746a2067739f32d4111f408de,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7371,1722fc14b4eb66f746a2067739f32d4111f408de,/7/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
7372,1722fc14b4eb66f746a2067739f32d4111f408de,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7373,1722fc14b4eb66f746a2067739f32d4111f408de,/7/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
7374,1722fc14b4eb66f746a2067739f32d4111f408de,/7/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7375,1722fc14b4eb66f746a2067739f32d4111f408de,/7/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7376,1722fc14b4eb66f746a2067739f32d4111f408de,/7/jre7-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7377,1722fc14b4eb66f746a2067739f32d4111f408de,/7/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
7378,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7379,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7380,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7381,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7382,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
7383,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
7384,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
7385,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7386,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7387,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7388,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7389,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
7390,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk14/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7391,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk14/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7392,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk14/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
7393,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk14/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
7394,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk14/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
7395,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk14/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7396,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk14/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7397,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk14/openjdk-oracle/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
7398,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk14/openjdk-oracle/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
7399,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk14/openjdk-oracle/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
7400,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk14/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
7401,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk14/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
7402,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk14/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7403,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk14/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7404,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk14/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7405,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk14/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
7406,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7407,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7408,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7409,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7410,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
7411,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
7412,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7413,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7414,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7415,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7416,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
7417,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7418,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7419,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7420,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7421,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
7422,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
7423,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7424,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7425,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7426,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7427,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
7428,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7429,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
7430,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
7431,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/8.5/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
7432,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
7433,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
7434,06a7e79e30595058df3c2fec9c769e47e2bca56d,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7435,06a7e79e30595058df3c2fec9c769e47e2bca56d,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
7436,06a7e79e30595058df3c2fec9c769e47e2bca56d,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
7437,06a7e79e30595058df3c2fec9c769e47e2bca56d,/8.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
7438,06a7e79e30595058df3c2fec9c769e47e2bca56d,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7439,06a7e79e30595058df3c2fec9c769e47e2bca56d,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7440,06a7e79e30595058df3c2fec9c769e47e2bca56d,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7441,06a7e79e30595058df3c2fec9c769e47e2bca56d,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
7442,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7443,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
7444,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
7445,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
7446,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
7447,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7448,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7449,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
7450,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7451,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7452,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7453,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
7454,d08341e2ed934abd7ff1baa0c26d6eac4f45f73a,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
7455,d08341e2ed934abd7ff1baa0c26d6eac4f45f73a,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
7456,d08341e2ed934abd7ff1baa0c26d6eac4f45f73a,/9.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
7457,d08341e2ed934abd7ff1baa0c26d6eac4f45f73a,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
7458,d08341e2ed934abd7ff1baa0c26d6eac4f45f73a,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
7459,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/9.0/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7460,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/9.0/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7461,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/9.0/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7462,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/9.0/jdk11/corretto/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
7463,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/9.0/jdk11/corretto/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7464,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/9.0/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
7465,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/9.0/jdk11/corretto/Dockerfile,"#?}}""; \
"
7466,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/9.0/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
7467,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/9.0/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
7468,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/9.0/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
7469,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/9.0/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7470,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/9.0/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7471,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/9.0/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7472,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/9.0/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
7473,81c66e2e695ad5548b726841c00512a9acf18eb5,/6/jre8/Dockerfile,"# runtime dependency for Tomcat Native Libraries
"
7474,81c66e2e695ad5548b726841c00512a9acf18eb5,/6/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
7475,81c66e2e695ad5548b726841c00512a9acf18eb5,/6/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7476,81c66e2e695ad5548b726841c00512a9acf18eb5,/6/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7477,81c66e2e695ad5548b726841c00512a9acf18eb5,/6/jre8/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
7478,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7479,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
7480,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
7481,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
7482,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
7483,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7484,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7485,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
7486,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7487,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7488,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7489,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7490,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7491,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
7492,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7493,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre9/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
7494,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre9/Dockerfile,"# only add stretch if we're not already building from within stretch
"
7495,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre9/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
7496,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre9/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
7497,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7498,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7499,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre9/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
7500,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre9/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7501,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7502,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7503,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
7504,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre10-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7505,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre10-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
7506,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre10-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
7507,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre10-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
7508,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre10-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
7509,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre10-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7510,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre10-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7511,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre10-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
7512,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre10-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7513,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre10-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7514,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre10-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7515,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre10-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
7516,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7517,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7518,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7519,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7520,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
7521,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
7522,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
7523,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7524,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7525,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7526,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7527,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
7528,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7529,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7530,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7531,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7532,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
7533,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
7534,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
7535,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7536,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7537,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7538,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7539,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
7540,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7541,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
7542,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
7543,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
7544,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
7545,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7546,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7547,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
7548,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7549,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7550,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7551,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
7552,2b55df5b9feaa7b8354e8b2419a88e494a110621,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7553,2b55df5b9feaa7b8354e8b2419a88e494a110621,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
7554,2b55df5b9feaa7b8354e8b2419a88e494a110621,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
7555,2b55df5b9feaa7b8354e8b2419a88e494a110621,/8.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
7556,2b55df5b9feaa7b8354e8b2419a88e494a110621,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
7557,2b55df5b9feaa7b8354e8b2419a88e494a110621,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7558,2b55df5b9feaa7b8354e8b2419a88e494a110621,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7559,2b55df5b9feaa7b8354e8b2419a88e494a110621,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
7560,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7561,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7562,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7563,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
7564,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7565,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7566,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7567,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7568,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7569,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
7570,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7571,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7572,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7573,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7574,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
7575,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
7576,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7577,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7578,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7579,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7580,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
7581,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7582,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7583,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7584,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7585,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7586,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7587,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7588,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7589,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
7590,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7591,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7592,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
7593,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
7594,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
7595,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7596,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7597,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
7598,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
7599,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7600,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7601,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7602,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
7603,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7604,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
7605,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
7606,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
7607,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
7608,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7609,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7610,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
7611,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7612,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7613,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7614,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7615,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7616,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
7617,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7618,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7619,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7620,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7621,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
7622,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
7623,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
7624,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7625,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7626,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7627,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7628,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
7629,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk14/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7630,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk14/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7631,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk14/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
7632,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk14/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
7633,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk14/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
7634,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk14/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7635,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk14/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7636,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk14/openjdk-oracle/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
7637,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk14/openjdk-oracle/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
7638,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk14/openjdk-oracle/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
7639,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk14/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
7640,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk14/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
7641,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk14/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7642,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk14/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7643,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk14/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7644,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk14/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
7645,2b55df5b9feaa7b8354e8b2419a88e494a110621,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7646,2b55df5b9feaa7b8354e8b2419a88e494a110621,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
7647,2b55df5b9feaa7b8354e8b2419a88e494a110621,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
7648,2b55df5b9feaa7b8354e8b2419a88e494a110621,/7/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
7649,2b55df5b9feaa7b8354e8b2419a88e494a110621,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
7650,2b55df5b9feaa7b8354e8b2419a88e494a110621,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7651,2b55df5b9feaa7b8354e8b2419a88e494a110621,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7652,2b55df5b9feaa7b8354e8b2419a88e494a110621,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
7653,aceabe036433c68b278767811bac728c6db4f8b3,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7654,aceabe036433c68b278767811bac728c6db4f8b3,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7655,aceabe036433c68b278767811bac728c6db4f8b3,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7656,aceabe036433c68b278767811bac728c6db4f8b3,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7657,aceabe036433c68b278767811bac728c6db4f8b3,/9.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
7658,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7659,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7660,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7661,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
7662,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7663,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
7664,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7665,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7666,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7667,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
7668,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7669,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7670,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7671,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7672,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
7673,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
7674,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
7675,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7676,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7677,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7678,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7679,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
7680,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7681,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7682,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7683,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7684,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7685,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7686,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7687,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7688,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
7689,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre11-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7690,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre11-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
7691,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre11-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
7692,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre11-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
7693,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre11-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
7694,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre11-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7695,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre11-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7696,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre11-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
7697,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre11-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7698,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre11-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7699,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre11-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7700,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre11-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7701,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre11-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7702,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre11-slim/Dockerfile,"# verify Tomcat Native is working properly
"
7703,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre10-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7704,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre10-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
7705,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre10-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
7706,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre10-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
7707,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre10-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
7708,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre10-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7709,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre10-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7710,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre10-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
7711,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre10-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7712,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre10-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7713,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre10-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7714,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre10-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7715,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre10-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7716,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre10-slim/Dockerfile,"# verify Tomcat Native is working properly
"
7717,c130c5c596edced66978f54b4d7fd8b4c2637719,/7/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7718,c130c5c596edced66978f54b4d7fd8b4c2637719,/7/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7719,c130c5c596edced66978f54b4d7fd8b4c2637719,/7/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7720,c130c5c596edced66978f54b4d7fd8b4c2637719,/7/jdk8/corretto/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
7721,c130c5c596edced66978f54b4d7fd8b4c2637719,/7/jdk8/corretto/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7722,c130c5c596edced66978f54b4d7fd8b4c2637719,/7/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
7723,c130c5c596edced66978f54b4d7fd8b4c2637719,/7/jdk8/corretto/Dockerfile,"#?}}""; \
"
7724,c130c5c596edced66978f54b4d7fd8b4c2637719,/7/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
7725,c130c5c596edced66978f54b4d7fd8b4c2637719,/7/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
7726,c130c5c596edced66978f54b4d7fd8b4c2637719,/7/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
7727,c130c5c596edced66978f54b4d7fd8b4c2637719,/7/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7728,c130c5c596edced66978f54b4d7fd8b4c2637719,/7/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7729,c130c5c596edced66978f54b4d7fd8b4c2637719,/7/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7730,c130c5c596edced66978f54b4d7fd8b4c2637719,/7/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
7731,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7732,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
7733,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
7734,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
7735,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
7736,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7737,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7738,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
7739,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7740,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7741,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7742,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
7743,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7744,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7745,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7746,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7747,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7748,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7749,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7750,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7751,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
7752,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7753,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7754,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7755,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7756,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7757,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7758,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7759,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7760,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
7761,5bc603137a5c85647c35d33170ff243dd6e78f39,/8-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
7762,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7763,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7764,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
7765,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
7766,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
7767,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7768,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7769,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
7770,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
7771,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
7772,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
7773,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
7774,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7775,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7776,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7777,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
7778,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk12/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7779,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk12/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7780,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk12/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
7781,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk12/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
7782,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk12/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
7783,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk12/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7784,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk12/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7785,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk12/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
7786,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk12/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
7787,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk12/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7788,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk12/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7789,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk12/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7790,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk12/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
7791,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7792,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7793,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7794,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7795,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
7796,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
7797,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7798,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7799,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7800,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7801,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
7802,35e89070548111261cf6a9e9398556d5b2c4f7f7,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7803,35e89070548111261cf6a9e9398556d5b2c4f7f7,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
7804,35e89070548111261cf6a9e9398556d5b2c4f7f7,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
7805,35e89070548111261cf6a9e9398556d5b2c4f7f7,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
7806,35e89070548111261cf6a9e9398556d5b2c4f7f7,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
7807,35e89070548111261cf6a9e9398556d5b2c4f7f7,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7808,35e89070548111261cf6a9e9398556d5b2c4f7f7,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7809,35e89070548111261cf6a9e9398556d5b2c4f7f7,/9.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
7810,35e89070548111261cf6a9e9398556d5b2c4f7f7,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7811,35e89070548111261cf6a9e9398556d5b2c4f7f7,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7812,35e89070548111261cf6a9e9398556d5b2c4f7f7,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
7813,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7814,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7815,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7816,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7817,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
7818,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
7819,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
7820,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7821,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7822,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7823,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7824,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
7825,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7826,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7827,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7828,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7829,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
7830,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
7831,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7832,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7833,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7834,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7835,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
7836,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7837,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7838,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7839,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7840,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/openjdk-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
7841,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
7842,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
7843,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7844,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7845,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7846,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7847,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
7848,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre10/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7849,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre10/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
7850,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre10/Dockerfile,"# only add stretch if we're not already building from within stretch
"
7851,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre10/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
7852,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre10/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
7853,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre10/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7854,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre10/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7855,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre10/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
7856,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre10/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7857,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre10/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7858,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre10/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7859,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre10/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
7860,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre11-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7861,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre11-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
7862,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre11-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
7863,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre11-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
7864,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre11-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
7865,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre11-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7866,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre11-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7867,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre11-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
7868,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre11-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7869,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre11-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7870,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre11-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7871,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre11-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7872,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre11-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7873,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre11-slim/Dockerfile,"# verify Tomcat Native is working properly
"
7874,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7875,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7876,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7877,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
7878,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7879,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
7880,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7881,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
7882,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre10/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7883,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre10/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
7884,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre10/Dockerfile,"# only add stretch if we're not already building from within stretch
"
7885,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre10/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
7886,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre10/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
7887,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre10/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7888,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre10/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7889,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre10/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
7890,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre10/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7891,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre10/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7892,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre10/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7893,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre10/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
7894,80778cf9ec89fcd828f2f7f8268f9154eca35e19,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7895,80778cf9ec89fcd828f2f7f8268f9154eca35e19,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
7896,80778cf9ec89fcd828f2f7f8268f9154eca35e19,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
7897,80778cf9ec89fcd828f2f7f8268f9154eca35e19,/7/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
7898,80778cf9ec89fcd828f2f7f8268f9154eca35e19,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7899,80778cf9ec89fcd828f2f7f8268f9154eca35e19,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7900,80778cf9ec89fcd828f2f7f8268f9154eca35e19,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7901,80778cf9ec89fcd828f2f7f8268f9154eca35e19,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
7902,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7903,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7904,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7905,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7906,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
7907,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
7908,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
7909,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7910,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7911,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7912,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7913,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
7914,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7915,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
7916,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
7917,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
7918,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
7919,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7920,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7921,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
7922,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7923,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7924,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7925,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
7926,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7927,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
7928,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
7929,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.5/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
7930,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7931,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7932,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7933,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
7934,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7935,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7936,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
7937,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
7938,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
7939,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7940,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7941,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
7942,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
7943,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
7944,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
7945,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
7946,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7947,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7948,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7949,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
7950,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7951,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
7952,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
7953,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.5/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
7954,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
7955,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7956,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7957,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
7958,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7959,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7960,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7961,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7962,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
7963,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
7964,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
7965,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7966,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7967,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7968,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7969,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
7970,f3006804326b1fed9a20158ccb8007d5da80e31a,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7971,f3006804326b1fed9a20158ccb8007d5da80e31a,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
7972,f3006804326b1fed9a20158ccb8007d5da80e31a,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
7973,f3006804326b1fed9a20158ccb8007d5da80e31a,/9.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
7974,f3006804326b1fed9a20158ccb8007d5da80e31a,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7975,f3006804326b1fed9a20158ccb8007d5da80e31a,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7976,f3006804326b1fed9a20158ccb8007d5da80e31a,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7977,f3006804326b1fed9a20158ccb8007d5da80e31a,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
7978,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7979,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
7980,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
7981,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
7982,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
7983,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7984,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7985,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
7986,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7987,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre7/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7988,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7989,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
7990,656c22d037ccaa6adaedbb791febbd2e5197fadd,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7991,656c22d037ccaa6adaedbb791febbd2e5197fadd,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
7992,656c22d037ccaa6adaedbb791febbd2e5197fadd,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
7993,656c22d037ccaa6adaedbb791febbd2e5197fadd,/8.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
7994,656c22d037ccaa6adaedbb791febbd2e5197fadd,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7995,656c22d037ccaa6adaedbb791febbd2e5197fadd,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7996,656c22d037ccaa6adaedbb791febbd2e5197fadd,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7997,656c22d037ccaa6adaedbb791febbd2e5197fadd,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
7998,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7999,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8000,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8001,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8002,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8003,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
8004,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8005,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
8006,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8007,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
8008,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
8009,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8010,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
8011,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8012,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8013,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8014,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8015,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre7/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8016,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8017,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
8018,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre7-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8019,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre7-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
8020,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre7-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
8021,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre7-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8022,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre7-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
8023,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre7-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8024,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre7-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8025,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre7-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8026,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre7-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8027,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre7-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8028,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre7-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8029,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre7-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8030,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre7-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8031,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre7-slim/Dockerfile,"# verify Tomcat Native is working properly
"
8032,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8033,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8034,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8035,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
8036,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8037,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8038,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8039,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8040,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
8041,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre10/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8042,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre10/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
8043,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre10/Dockerfile,"# only add stretch if we're not already building from within stretch
"
8044,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre10/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8045,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre10/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
8046,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre10/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8047,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre10/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8048,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre10/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8049,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre10/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8050,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre10/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8051,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre10/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8052,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre10/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
8053,8323df4824d3661f094a1a6c30ed7e13c0536b9e,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
8054,8323df4824d3661f094a1a6c30ed7e13c0536b9e,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
8055,8323df4824d3661f094a1a6c30ed7e13c0536b9e,/8.5/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
8056,8323df4824d3661f094a1a6c30ed7e13c0536b9e,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
8057,8323df4824d3661f094a1a6c30ed7e13c0536b9e,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
8058,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8059,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8060,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8061,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/9.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8062,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8063,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/9.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
8064,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/9.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8065,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/9.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
8066,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk13/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8067,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk13/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8068,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk13/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
8069,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk13/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
8070,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk13/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
8071,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk13/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8072,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk13/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
8073,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk13/openjdk-oracle/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
8074,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk13/openjdk-oracle/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
8075,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk13/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
8076,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk13/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
8077,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk13/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8078,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk13/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8079,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk13/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8080,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk13/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
8081,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8082,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
8083,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
8084,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8085,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
8086,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8087,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8088,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8089,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8090,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8091,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8092,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8093,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8094,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
8095,8a2acf4ccfa691465fa41c0828ab6ea47225dfd0,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8096,8a2acf4ccfa691465fa41c0828ab6ea47225dfd0,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8097,8a2acf4ccfa691465fa41c0828ab6ea47225dfd0,/8.0/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8098,8a2acf4ccfa691465fa41c0828ab6ea47225dfd0,/8.0/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8099,8a2acf4ccfa691465fa41c0828ab6ea47225dfd0,/8.0/jre7-alpine/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
8100,8a2acf4ccfa691465fa41c0828ab6ea47225dfd0,/8.0/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
8101,8a2acf4ccfa691465fa41c0828ab6ea47225dfd0,/8.0/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8102,8a2acf4ccfa691465fa41c0828ab6ea47225dfd0,/8.0/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
8103,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8104,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8105,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8106,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8107,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8108,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
8109,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8110,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
8111,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre7-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8112,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre7-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
8113,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre7-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
8114,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre7-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8115,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre7-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
8116,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre7-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8117,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre7-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8118,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre7-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8119,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre7-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8120,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre7-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8121,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre7-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8122,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre7-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
8123,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre7-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8124,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre7-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
8125,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre7-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
8126,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre7-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8127,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre7-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
8128,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre7-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8129,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre7-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8130,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre7-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8131,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre7-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8132,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre7-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8133,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre7-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8134,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre7-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8135,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre7-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8136,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre7-slim/Dockerfile,"# verify Tomcat Native is working properly
"
8137,ec75141e3cb6276b07d66c16042152e2d4de119c,/7/jre8/Dockerfile,"# runtime dependency for Tomcat Native Libraries
"
8138,ec75141e3cb6276b07d66c16042152e2d4de119c,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
8139,ec75141e3cb6276b07d66c16042152e2d4de119c,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
8140,c280358006777004381dde9c64ad54d4876a7cf3,/6/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8141,c280358006777004381dde9c64ad54d4876a7cf3,/6/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
8142,c280358006777004381dde9c64ad54d4876a7cf3,/6/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8143,c280358006777004381dde9c64ad54d4876a7cf3,/6/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
8144,c280358006777004381dde9c64ad54d4876a7cf3,/6/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8145,c280358006777004381dde9c64ad54d4876a7cf3,/6/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8146,c280358006777004381dde9c64ad54d4876a7cf3,/6/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8147,c280358006777004381dde9c64ad54d4876a7cf3,/6/jre8/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
8148,8bf3981234ee391fede358b76f43dabefa1bdc7c,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8149,8bf3981234ee391fede358b76f43dabefa1bdc7c,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8150,8bf3981234ee391fede358b76f43dabefa1bdc7c,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8151,8bf3981234ee391fede358b76f43dabefa1bdc7c,/9.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8152,8bf3981234ee391fede358b76f43dabefa1bdc7c,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8153,8bf3981234ee391fede358b76f43dabefa1bdc7c,/9.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
8154,8bf3981234ee391fede358b76f43dabefa1bdc7c,/9.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8155,8bf3981234ee391fede358b76f43dabefa1bdc7c,/9.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8156,8bf3981234ee391fede358b76f43dabefa1bdc7c,/9.0/jre8-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8157,8bf3981234ee391fede358b76f43dabefa1bdc7c,/9.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
8158,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre10/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8159,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre10/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
8160,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre10/Dockerfile,"# only add stretch if we're not already building from within stretch
"
8161,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre10/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8162,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre10/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
8163,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre10/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8164,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre10/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8165,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre10/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8166,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre10/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8167,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre10/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8168,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre10/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8169,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre10/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
8170,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8171,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8172,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8173,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
8174,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8175,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8176,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8177,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8178,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
8179,a2fb7998939d5dcd40c1b01382b0b62a47d06c54,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8180,a2fb7998939d5dcd40c1b01382b0b62a47d06c54,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8181,a2fb7998939d5dcd40c1b01382b0b62a47d06c54,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8182,a2fb7998939d5dcd40c1b01382b0b62a47d06c54,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8183,a2fb7998939d5dcd40c1b01382b0b62a47d06c54,/9.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
8184,74b0911f36d776672bc943f9efb05868d1d5d79a,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
8185,33b4b8602e4ead0ba2c3ea42a9946f87cacb1d99,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8186,33b4b8602e4ead0ba2c3ea42a9946f87cacb1d99,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8187,33b4b8602e4ead0ba2c3ea42a9946f87cacb1d99,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8188,33b4b8602e4ead0ba2c3ea42a9946f87cacb1d99,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8189,33b4b8602e4ead0ba2c3ea42a9946f87cacb1d99,/9.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8190,33b4b8602e4ead0ba2c3ea42a9946f87cacb1d99,/9.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
8191,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8192,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
8193,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
8194,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/8.5/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
8195,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
8196,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
8197,ecf6b163813e2eccce5c3b40fa5690febc874fbe,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8198,ecf6b163813e2eccce5c3b40fa5690febc874fbe,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8199,ecf6b163813e2eccce5c3b40fa5690febc874fbe,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8200,ecf6b163813e2eccce5c3b40fa5690febc874fbe,/9.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8201,ecf6b163813e2eccce5c3b40fa5690febc874fbe,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8202,ecf6b163813e2eccce5c3b40fa5690febc874fbe,/9.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
8203,ecf6b163813e2eccce5c3b40fa5690febc874fbe,/9.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8204,ecf6b163813e2eccce5c3b40fa5690febc874fbe,/9.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
8205,6ab703d29e98ab7a091bee846a58b8288cb81521,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8206,6ab703d29e98ab7a091bee846a58b8288cb81521,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8207,6ab703d29e98ab7a091bee846a58b8288cb81521,/8.0/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8208,6ab703d29e98ab7a091bee846a58b8288cb81521,/8.0/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8209,6ab703d29e98ab7a091bee846a58b8288cb81521,/8.0/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8210,6ab703d29e98ab7a091bee846a58b8288cb81521,/8.0/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
8211,6ab703d29e98ab7a091bee846a58b8288cb81521,/8.0/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8212,6ab703d29e98ab7a091bee846a58b8288cb81521,/8.0/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
8213,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8214,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8215,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8216,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
8217,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8218,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8219,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8220,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8221,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
8222,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8223,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
8224,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8225,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/8.5/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
8226,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8227,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8228,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8229,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
8230,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk11/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8231,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk11/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
8232,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk11/Dockerfile,"# only add stretch if we're not already building from within stretch
"
8233,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk11/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8234,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk11/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
8235,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk11/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8236,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk11/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8237,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk11/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8238,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk11/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8239,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk11/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8240,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk11/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8241,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk11/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8242,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk11/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8243,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk11/Dockerfile,"# verify Tomcat Native is working properly
"
8244,382ba2d8a3338c99844fadc5508cd9b546fa09c3,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8245,382ba2d8a3338c99844fadc5508cd9b546fa09c3,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8246,382ba2d8a3338c99844fadc5508cd9b546fa09c3,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8247,382ba2d8a3338c99844fadc5508cd9b546fa09c3,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8248,382ba2d8a3338c99844fadc5508cd9b546fa09c3,/9.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
8249,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre10/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8250,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre10/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
8251,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre10/Dockerfile,"# only add stretch if we're not already building from within stretch
"
8252,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre10/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8253,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre10/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
8254,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre10/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8255,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre10/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8256,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre10/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8257,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre10/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8258,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre10/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8259,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre10/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8260,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre10/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
8261,4b72a0a78d129afc6c37574145c19519c977ceed,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8262,4b72a0a78d129afc6c37574145c19519c977ceed,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
8263,4b72a0a78d129afc6c37574145c19519c977ceed,/7/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
8264,4b72a0a78d129afc6c37574145c19519c977ceed,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8265,4b72a0a78d129afc6c37574145c19519c977ceed,/7/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
8266,4b72a0a78d129afc6c37574145c19519c977ceed,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8267,4b72a0a78d129afc6c37574145c19519c977ceed,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8268,4b72a0a78d129afc6c37574145c19519c977ceed,/7/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8269,4b72a0a78d129afc6c37574145c19519c977ceed,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8270,4b72a0a78d129afc6c37574145c19519c977ceed,/7/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8271,4b72a0a78d129afc6c37574145c19519c977ceed,/7/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
8272,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8273,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
8274,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
8275,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8276,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
8277,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8278,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8279,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8280,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8281,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8282,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8283,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8284,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8285,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
8286,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk11/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8287,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk11/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
8288,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk11/Dockerfile,"# only add stretch if we're not already building from within stretch
"
8289,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk11/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8290,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk11/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
8291,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk11/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8292,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk11/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8293,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk11/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8294,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk11/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8295,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk11/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8296,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk11/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8297,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk11/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8298,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk11/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8299,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk11/Dockerfile,"# verify Tomcat Native is working properly
"
8300,9fcf1c13eb901de73aa3abdfc36d1989a1154365,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8301,9fcf1c13eb901de73aa3abdfc36d1989a1154365,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
8302,9fcf1c13eb901de73aa3abdfc36d1989a1154365,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8303,9fcf1c13eb901de73aa3abdfc36d1989a1154365,/9.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
8304,9fcf1c13eb901de73aa3abdfc36d1989a1154365,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8305,9fcf1c13eb901de73aa3abdfc36d1989a1154365,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8306,9fcf1c13eb901de73aa3abdfc36d1989a1154365,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8307,9fcf1c13eb901de73aa3abdfc36d1989a1154365,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
8308,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8309,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
8310,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8311,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8312,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
8313,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8314,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8315,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
8316,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
8317,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
8318,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8319,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
8320,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-oracle/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
8321,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-oracle/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
8322,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-oracle/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
8323,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
8324,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
8325,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8326,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8327,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8328,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
8329,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8330,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8331,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8332,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8333,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8334,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
8335,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8336,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8337,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre7-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8338,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
8339,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8340,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8341,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8342,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
8343,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
8344,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
8345,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
8346,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8347,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8348,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8349,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8350,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
8351,ab435d680d56084ebe0419adfb31cc58df3624dd,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8352,ab435d680d56084ebe0419adfb31cc58df3624dd,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
8353,ab435d680d56084ebe0419adfb31cc58df3624dd,/7/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
8354,ab435d680d56084ebe0419adfb31cc58df3624dd,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8355,ab435d680d56084ebe0419adfb31cc58df3624dd,/7/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
8356,ab435d680d56084ebe0419adfb31cc58df3624dd,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8357,ab435d680d56084ebe0419adfb31cc58df3624dd,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8358,ab435d680d56084ebe0419adfb31cc58df3624dd,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8359,ab435d680d56084ebe0419adfb31cc58df3624dd,/7/jre8/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
8360,ab435d680d56084ebe0419adfb31cc58df3624dd,/7/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8361,ab435d680d56084ebe0419adfb31cc58df3624dd,/7/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
8362,be1d4e9c614f7021770e581d507845c93b6f77f9,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8363,be1d4e9c614f7021770e581d507845c93b6f77f9,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8364,be1d4e9c614f7021770e581d507845c93b6f77f9,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8365,be1d4e9c614f7021770e581d507845c93b6f77f9,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8366,be1d4e9c614f7021770e581d507845c93b6f77f9,/8.5/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8367,be1d4e9c614f7021770e581d507845c93b6f77f9,/8.5/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
8368,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8369,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8370,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8371,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
8372,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8373,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8374,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8375,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8376,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
8377,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk13/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8378,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk13/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8379,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk13/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
8380,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk13/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
8381,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk13/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
8382,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk13/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8383,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk13/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
8384,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk13/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
8385,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk13/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
8386,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk13/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8387,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk13/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8388,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk13/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8389,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk13/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
8390,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8391,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8392,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8393,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk8/corretto/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8394,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk8/corretto/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8395,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
8396,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
8397,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
8398,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
8399,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
8400,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8401,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8402,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8403,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
8404,b6c19ae93937a18a8bb93c13ce8c8b07c428b3fc,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8405,b6c19ae93937a18a8bb93c13ce8c8b07c428b3fc,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8406,b6c19ae93937a18a8bb93c13ce8c8b07c428b3fc,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8407,b6c19ae93937a18a8bb93c13ce8c8b07c428b3fc,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8408,b6c19ae93937a18a8bb93c13ce8c8b07c428b3fc,/7/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
8409,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8410,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
8411,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
8412,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/7/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
8413,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8414,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8415,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8416,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
8417,7d7d6256214d54613930ab2200be159aff49cac5,/7-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
8418,656c22d037ccaa6adaedbb791febbd2e5197fadd,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8419,656c22d037ccaa6adaedbb791febbd2e5197fadd,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8420,656c22d037ccaa6adaedbb791febbd2e5197fadd,/8.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8421,656c22d037ccaa6adaedbb791febbd2e5197fadd,/8.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8422,656c22d037ccaa6adaedbb791febbd2e5197fadd,/8.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
8423,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre9-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8424,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre9-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
8425,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre9-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
8426,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre9-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8427,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre9-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
8428,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre9-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8429,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre9-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8430,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre9-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8431,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre9-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8432,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre9-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8433,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre9-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8434,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre9-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
8435,b2bcdfb78e2fdc63423dfc210066b381f6f73a14,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8436,b2bcdfb78e2fdc63423dfc210066b381f6f73a14,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
8437,b2bcdfb78e2fdc63423dfc210066b381f6f73a14,/7/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
8438,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8439,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
8440,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
8441,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8442,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
8443,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8444,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8445,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8446,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8447,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre7/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8448,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8449,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
8450,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/9.0/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8451,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/9.0/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8452,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/9.0/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8453,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/9.0/jdk8/corretto/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8454,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/9.0/jdk8/corretto/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8455,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/9.0/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
8456,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/9.0/jdk8/corretto/Dockerfile,"#?}}""; \
"
8457,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/9.0/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
8458,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/9.0/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
8459,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/9.0/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
8460,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/9.0/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8461,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/9.0/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8462,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/9.0/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8463,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/9.0/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
8464,b6c19ae93937a18a8bb93c13ce8c8b07c428b3fc,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8465,b6c19ae93937a18a8bb93c13ce8c8b07c428b3fc,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8466,b6c19ae93937a18a8bb93c13ce8c8b07c428b3fc,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8467,b6c19ae93937a18a8bb93c13ce8c8b07c428b3fc,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8468,b6c19ae93937a18a8bb93c13ce8c8b07c428b3fc,/7/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
8469,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8470,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8471,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8472,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8473,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8474,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
8475,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8476,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8477,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre8-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8478,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
8479,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8480,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8481,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8482,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
8483,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8484,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8485,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8486,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8487,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
8488,b2bcdfb78e2fdc63423dfc210066b381f6f73a14,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8489,b2bcdfb78e2fdc63423dfc210066b381f6f73a14,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
8490,b2bcdfb78e2fdc63423dfc210066b381f6f73a14,/7/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
8491,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/8.5/jre11/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8492,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/8.5/jre11/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
8493,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/8.5/jre11/Dockerfile,"# only add stretch if we're not already building from within stretch
"
8494,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/8.5/jre11/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8495,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/8.5/jre11/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
8496,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/8.5/jre11/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8497,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/8.5/jre11/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8498,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/8.5/jre11/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8499,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/8.5/jre11/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8500,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/8.5/jre11/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8501,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/8.5/jre11/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8502,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/8.5/jre11/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8503,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/8.5/jre11/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8504,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/8.5/jre11/Dockerfile,"# verify Tomcat Native is working properly
"
8505,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8506,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8507,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8508,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
8509,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8510,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8511,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8512,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8513,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
8514,656c22d037ccaa6adaedbb791febbd2e5197fadd,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8515,656c22d037ccaa6adaedbb791febbd2e5197fadd,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8516,656c22d037ccaa6adaedbb791febbd2e5197fadd,/8.0/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8517,656c22d037ccaa6adaedbb791febbd2e5197fadd,/8.0/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8518,656c22d037ccaa6adaedbb791febbd2e5197fadd,/8.0/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
8519,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8520,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
8521,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
8522,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8523,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
8524,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8525,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8526,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8527,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8528,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8529,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8530,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
8531,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8532,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8533,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8534,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8535,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8536,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
8537,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8538,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8539,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre8-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8540,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
8541,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8542,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8543,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8544,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
8545,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8546,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8547,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8548,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8549,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
8550,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8551,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
8552,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.0/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8553,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.0/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8554,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.0/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
8555,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8556,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8557,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
8558,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
8559,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
8560,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8561,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
8562,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
8563,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
8564,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
8565,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
8566,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
8567,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8568,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8569,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8570,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
8571,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8572,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8573,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8574,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
8575,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
8576,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
8577,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
8578,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8579,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8580,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8581,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8582,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
8583,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre9-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8584,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre9-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
8585,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre9-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
8586,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre9-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8587,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre9-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
8588,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre9-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8589,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre9-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8590,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre9-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8591,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre9-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8592,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre9-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8593,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre9-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8594,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre9-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
8595,747c33edc8015de543775ceee497c5926d05795f,/6/Dockerfile,"# add our user and group first to make sure their IDs get assigned consistently, regardless of whatever dependencies get added
"
8596,747c33edc8015de543775ceee497c5926d05795f,/6/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
8597,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8598,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
8599,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
8600,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8601,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
8602,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8603,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8604,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8605,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8606,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8607,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8608,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
8609,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8610,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8611,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
8612,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
8613,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
8614,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8615,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
8616,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
8617,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
8618,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
8619,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
8620,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
8621,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8622,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8623,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8624,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
8625,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8626,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8627,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8628,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
8629,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
8630,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
8631,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8632,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8633,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8634,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8635,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
8636,ed98c30c1cd42c53831f64dffa78a0abf7db8e9a,/7-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
8637,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8638,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
8639,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
8640,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8641,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
8642,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8643,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8644,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8645,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8646,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8647,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8648,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
8649,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8650,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8651,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8652,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
8653,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
8654,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
8655,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
8656,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8657,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8658,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8659,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8660,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
8661,5c76c4a20c9192ca75d9a9739070b7030b64304b,/6/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8662,5c76c4a20c9192ca75d9a9739070b7030b64304b,/6/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
8663,5c76c4a20c9192ca75d9a9739070b7030b64304b,/6/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8664,5c76c4a20c9192ca75d9a9739070b7030b64304b,/6/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
8665,5c76c4a20c9192ca75d9a9739070b7030b64304b,/6/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8666,5c76c4a20c9192ca75d9a9739070b7030b64304b,/6/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8667,5c76c4a20c9192ca75d9a9739070b7030b64304b,/6/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8668,5c76c4a20c9192ca75d9a9739070b7030b64304b,/6/jre7/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
8669,4b5335ec27aee302823bea2e30dcf7b3118e61f2,/6/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8670,4b5335ec27aee302823bea2e30dcf7b3118e61f2,/6/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
8671,4b5335ec27aee302823bea2e30dcf7b3118e61f2,/6/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8672,4b5335ec27aee302823bea2e30dcf7b3118e61f2,/6/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
8673,4b5335ec27aee302823bea2e30dcf7b3118e61f2,/6/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8674,4b5335ec27aee302823bea2e30dcf7b3118e61f2,/6/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8675,4b5335ec27aee302823bea2e30dcf7b3118e61f2,/6/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8676,4b5335ec27aee302823bea2e30dcf7b3118e61f2,/6/jre8/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
8677,ec75141e3cb6276b07d66c16042152e2d4de119c,/9.0/jre8/Dockerfile,"# runtime dependency for Tomcat Native Libraries
"
8678,ec75141e3cb6276b07d66c16042152e2d4de119c,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
8679,ec75141e3cb6276b07d66c16042152e2d4de119c,/9.0/jre8/Dockerfile,"# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)

"
8680,ec75141e3cb6276b07d66c16042152e2d4de119c,/9.0/jre8/Dockerfile,"# http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5048274.html (ie, HACK HACK HACK)
"
8681,ec75141e3cb6276b07d66c16042152e2d4de119c,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
8682,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8683,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8684,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8685,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
8686,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8687,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8688,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8689,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8690,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
8691,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8692,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8693,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8694,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
8695,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
8696,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
8697,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
8698,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8699,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8700,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8701,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8702,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
8703,bd58c7237bff0357e76c9c9ee22deac77a2860cb,/8-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
8704,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/6/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8705,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/6/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
8706,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/6/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
8707,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/6/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8708,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/6/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
8709,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/6/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8710,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/6/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8711,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/6/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8712,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/6/jre7/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
8713,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/9.0/jre11/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8714,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/9.0/jre11/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
8715,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/9.0/jre11/Dockerfile,"# only add stretch if we're not already building from within stretch
"
8716,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/9.0/jre11/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8717,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/9.0/jre11/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
8718,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/9.0/jre11/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8719,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/9.0/jre11/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8720,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/9.0/jre11/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8721,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/9.0/jre11/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8722,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/9.0/jre11/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8723,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/9.0/jre11/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8724,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/9.0/jre11/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8725,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/9.0/jre11/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8726,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/9.0/jre11/Dockerfile,"# verify Tomcat Native is working properly
"
8727,68f75ec81727e398a223ed55fe50f9a3ff78d83f,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8728,68f75ec81727e398a223ed55fe50f9a3ff78d83f,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
8729,68f75ec81727e398a223ed55fe50f9a3ff78d83f,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
8730,68f75ec81727e398a223ed55fe50f9a3ff78d83f,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8731,68f75ec81727e398a223ed55fe50f9a3ff78d83f,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
8732,68f75ec81727e398a223ed55fe50f9a3ff78d83f,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8733,68f75ec81727e398a223ed55fe50f9a3ff78d83f,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8734,68f75ec81727e398a223ed55fe50f9a3ff78d83f,/8.5/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8735,68f75ec81727e398a223ed55fe50f9a3ff78d83f,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8736,68f75ec81727e398a223ed55fe50f9a3ff78d83f,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8737,68f75ec81727e398a223ed55fe50f9a3ff78d83f,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
8738,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8739,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8740,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8741,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8742,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.5/jre8-alpine/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
8743,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.5/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8744,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.5/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
8745,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8746,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
8747,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
8748,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/7/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
8749,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
8750,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8751,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8752,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
8753,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8754,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
8755,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
8756,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.5/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
8757,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8758,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8759,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8760,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
8761,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8762,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8763,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8764,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
8765,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
8766,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
8767,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
8768,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8769,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8770,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8771,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8772,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
8773,6ab703d29e98ab7a091bee846a58b8288cb81521,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8774,6ab703d29e98ab7a091bee846a58b8288cb81521,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8775,6ab703d29e98ab7a091bee846a58b8288cb81521,/8.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8776,6ab703d29e98ab7a091bee846a58b8288cb81521,/8.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8777,6ab703d29e98ab7a091bee846a58b8288cb81521,/8.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8778,6ab703d29e98ab7a091bee846a58b8288cb81521,/8.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
8779,6ab703d29e98ab7a091bee846a58b8288cb81521,/8.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8780,6ab703d29e98ab7a091bee846a58b8288cb81521,/8.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
8781,4b72a0a78d129afc6c37574145c19519c977ceed,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8782,4b72a0a78d129afc6c37574145c19519c977ceed,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
8783,4b72a0a78d129afc6c37574145c19519c977ceed,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
8784,4b72a0a78d129afc6c37574145c19519c977ceed,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8785,4b72a0a78d129afc6c37574145c19519c977ceed,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
8786,4b72a0a78d129afc6c37574145c19519c977ceed,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8787,4b72a0a78d129afc6c37574145c19519c977ceed,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8788,4b72a0a78d129afc6c37574145c19519c977ceed,/8.5/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8789,4b72a0a78d129afc6c37574145c19519c977ceed,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8790,4b72a0a78d129afc6c37574145c19519c977ceed,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8791,4b72a0a78d129afc6c37574145c19519c977ceed,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
8792,af71a3020ae05a63741db44c69d722f00e1d382a,/8-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
8793,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk13/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8794,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk13/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8795,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk13/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
8796,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk13/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
8797,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk13/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
8798,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk13/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8799,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk13/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
8800,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk13/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
8801,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk13/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
8802,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk13/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8803,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk13/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8804,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk13/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8805,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk13/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
8806,8a2acf4ccfa691465fa41c0828ab6ea47225dfd0,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8807,8a2acf4ccfa691465fa41c0828ab6ea47225dfd0,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8808,8a2acf4ccfa691465fa41c0828ab6ea47225dfd0,/8.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8809,8a2acf4ccfa691465fa41c0828ab6ea47225dfd0,/8.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8810,8a2acf4ccfa691465fa41c0828ab6ea47225dfd0,/8.0/jre8-alpine/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
8811,8a2acf4ccfa691465fa41c0828ab6ea47225dfd0,/8.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
8812,8a2acf4ccfa691465fa41c0828ab6ea47225dfd0,/8.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8813,8a2acf4ccfa691465fa41c0828ab6ea47225dfd0,/8.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
8814,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8815,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8816,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8817,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
8818,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
8819,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
8820,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
8821,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8822,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8823,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8824,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8825,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
8826,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8827,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8828,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8829,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
8830,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
8831,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
8832,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
8833,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8834,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8835,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8836,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8837,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
8838,fae008566295d1eec89de04385215fdd54eceda5,/8.5/jre10/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8839,fae008566295d1eec89de04385215fdd54eceda5,/8.5/jre10/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
8840,fae008566295d1eec89de04385215fdd54eceda5,/8.5/jre10/Dockerfile,"# only add stretch if we're not already building from within stretch
"
8841,fae008566295d1eec89de04385215fdd54eceda5,/8.5/jre10/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8842,fae008566295d1eec89de04385215fdd54eceda5,/8.5/jre10/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
8843,fae008566295d1eec89de04385215fdd54eceda5,/8.5/jre10/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8844,fae008566295d1eec89de04385215fdd54eceda5,/8.5/jre10/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8845,fae008566295d1eec89de04385215fdd54eceda5,/8.5/jre10/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8846,fae008566295d1eec89de04385215fdd54eceda5,/8.5/jre10/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8847,fae008566295d1eec89de04385215fdd54eceda5,/8.5/jre10/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8848,fae008566295d1eec89de04385215fdd54eceda5,/8.5/jre10/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8849,fae008566295d1eec89de04385215fdd54eceda5,/8.5/jre10/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
8850,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk11/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8851,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk11/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8852,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk11/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8853,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk11/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
8854,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk11/openjdk-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
8855,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk11/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
8856,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk11/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
8857,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk11/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8858,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk11/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8859,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk11/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8860,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk11/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8861,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk11/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
8862,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8863,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8864,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8865,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
8866,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
8867,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
8868,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8869,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8870,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8871,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8872,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
8873,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8874,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8875,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8876,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8877,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8878,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
8879,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8880,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
8881,88b51c6d19c83b689221d5eb2e9489d9d36ed8db,/7-jre7/Dockerfile,"# add our user and group first to make sure their IDs get assigned consistently, regardless of whatever dependencies get added
"
8882,88b51c6d19c83b689221d5eb2e9489d9d36ed8db,/7-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
8883,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8884,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8885,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
8886,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
8887,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
8888,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8889,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
8890,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
8891,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
8892,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8893,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8894,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8895,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
8896,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8897,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
8898,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
8899,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8900,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
8901,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8902,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8903,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8904,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8905,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8906,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8907,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8908,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8909,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
8910,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8911,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
8912,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
8913,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8914,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
8915,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8916,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8917,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8918,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8919,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8920,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8921,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
8922,6f1c628fa92feea8b28e98e56a990500f2326936,/8-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
8923,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk13/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8924,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk13/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8925,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk13/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8926,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk13/openjdk-oracle/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8927,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk13/openjdk-oracle/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8928,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk13/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
8929,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk13/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
8930,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk13/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
8931,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk13/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
8932,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk13/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
8933,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk13/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8934,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk13/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8935,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk13/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8936,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk13/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
8937,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8938,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8939,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8940,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
8941,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8942,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8943,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8944,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8945,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
8946,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8947,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8948,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8949,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
8950,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8951,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8952,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8953,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8954,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
8955,656c22d037ccaa6adaedbb791febbd2e5197fadd,/6/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8956,656c22d037ccaa6adaedbb791febbd2e5197fadd,/6/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
8957,656c22d037ccaa6adaedbb791febbd2e5197fadd,/6/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
8958,656c22d037ccaa6adaedbb791febbd2e5197fadd,/6/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
8959,656c22d037ccaa6adaedbb791febbd2e5197fadd,/6/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8960,656c22d037ccaa6adaedbb791febbd2e5197fadd,/6/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8961,656c22d037ccaa6adaedbb791febbd2e5197fadd,/6/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8962,656c22d037ccaa6adaedbb791febbd2e5197fadd,/6/jre8/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
8963,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8964,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8965,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8966,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
8967,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
8968,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
8969,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
8970,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8971,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8972,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8973,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8974,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
8975,3b05667011a600a2f46422dd533467eff8e7fecf,/7-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
8976,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8977,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
8978,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8979,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/7/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
8980,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8981,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8982,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8983,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
8984,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8985,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
8986,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8987,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/8.5/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
8988,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8989,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8990,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8991,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
8992,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8993,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
8994,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
8995,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8996,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
8997,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8998,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8999,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9000,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
9001,fae008566295d1eec89de04385215fdd54eceda5,/9.0/jre10/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9002,fae008566295d1eec89de04385215fdd54eceda5,/9.0/jre10/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
9003,fae008566295d1eec89de04385215fdd54eceda5,/9.0/jre10/Dockerfile,"# only add stretch if we're not already building from within stretch
"
9004,fae008566295d1eec89de04385215fdd54eceda5,/9.0/jre10/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
9005,fae008566295d1eec89de04385215fdd54eceda5,/9.0/jre10/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
9006,fae008566295d1eec89de04385215fdd54eceda5,/9.0/jre10/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9007,fae008566295d1eec89de04385215fdd54eceda5,/9.0/jre10/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9008,fae008566295d1eec89de04385215fdd54eceda5,/9.0/jre10/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
9009,fae008566295d1eec89de04385215fdd54eceda5,/9.0/jre10/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9010,fae008566295d1eec89de04385215fdd54eceda5,/9.0/jre10/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9011,fae008566295d1eec89de04385215fdd54eceda5,/9.0/jre10/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9012,fae008566295d1eec89de04385215fdd54eceda5,/9.0/jre10/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
9013,676f0e07000cd25c027b71d2433ddf531a75eefd,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9014,676f0e07000cd25c027b71d2433ddf531a75eefd,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
9015,676f0e07000cd25c027b71d2433ddf531a75eefd,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
9016,676f0e07000cd25c027b71d2433ddf531a75eefd,/9.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
9017,676f0e07000cd25c027b71d2433ddf531a75eefd,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
9018,676f0e07000cd25c027b71d2433ddf531a75eefd,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
9019,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9020,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9021,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9022,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9023,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9024,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9025,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9026,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9027,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
9028,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9029,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9030,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9031,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9032,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
9033,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
9034,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9035,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9036,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9037,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9038,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
9039,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre10/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9040,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre10/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
9041,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre10/Dockerfile,"# only add stretch if we're not already building from within stretch
"
9042,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre10/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
9043,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre10/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
9044,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre10/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9045,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre10/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9046,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre10/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
9047,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre10/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9048,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre10/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9049,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre10/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9050,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre10/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9051,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre10/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9052,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre10/Dockerfile,"# verify Tomcat Native is working properly
"
9053,676f0e07000cd25c027b71d2433ddf531a75eefd,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9054,676f0e07000cd25c027b71d2433ddf531a75eefd,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
9055,676f0e07000cd25c027b71d2433ddf531a75eefd,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
9056,676f0e07000cd25c027b71d2433ddf531a75eefd,/7/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
9057,676f0e07000cd25c027b71d2433ddf531a75eefd,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
9058,676f0e07000cd25c027b71d2433ddf531a75eefd,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
9059,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9060,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9061,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9062,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
9063,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9064,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
9065,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9066,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
9067,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9068,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
9069,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
9070,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
9071,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
9072,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9073,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9074,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
9075,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9076,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9077,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9078,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
9079,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9080,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9081,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9082,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9083,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9084,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9085,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9086,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9087,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
9088,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9089,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9090,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9091,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9092,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/9.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
9093,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9094,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
9095,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
9096,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
9097,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
9098,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9099,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9100,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
9101,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9102,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9103,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9104,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9105,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9106,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk8/Dockerfile,"# verify Tomcat Native is working properly
"
9107,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk8/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9108,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk8/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9109,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk8/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9110,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk8/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9111,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk8/openjdk-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
9112,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk8/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
9113,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk8/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
9114,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk8/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9115,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk8/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9116,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk8/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9117,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk8/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9118,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk8/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
9119,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9120,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9121,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9122,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9123,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
9124,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
9125,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9126,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9127,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9128,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9129,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
9130,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9131,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9132,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
9133,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
9134,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
9135,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9136,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9137,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
9138,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
9139,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
9140,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
9141,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
9142,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9143,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9144,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9145,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
9146,f26c14147f9affae8f32100430130271fc82bd3e,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9147,f26c14147f9affae8f32100430130271fc82bd3e,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
9148,f26c14147f9affae8f32100430130271fc82bd3e,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
9149,f26c14147f9affae8f32100430130271fc82bd3e,/8.0/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
9150,f26c14147f9affae8f32100430130271fc82bd3e,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9151,f26c14147f9affae8f32100430130271fc82bd3e,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9152,f26c14147f9affae8f32100430130271fc82bd3e,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9153,f26c14147f9affae8f32100430130271fc82bd3e,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
9154,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9155,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9156,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9157,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
9158,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9159,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9160,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9161,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9162,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9163,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
9164,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9165,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9166,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
9167,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
9168,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
9169,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9170,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9171,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
9172,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
9173,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
9174,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
9175,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
9176,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9177,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9178,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9179,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
9180,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9181,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9182,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9183,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9184,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
9185,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
9186,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
9187,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9188,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9189,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9190,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9191,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
9192,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9193,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9194,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9195,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk8/corretto/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
9196,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk8/corretto/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9197,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
9198,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
9199,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
9200,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
9201,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
9202,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9203,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9204,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9205,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
9206,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre10-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9207,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre10-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
9208,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre10-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
9209,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre10-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
9210,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre10-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
9211,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre10-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9212,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre10-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9213,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre10-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
9214,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre10-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9215,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre10-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9216,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre10-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9217,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre10-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9218,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre10-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9219,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre10-slim/Dockerfile,"# verify Tomcat Native is working properly
"
9220,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9221,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9222,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9223,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9224,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
9225,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
9226,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
9227,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9228,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9229,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9230,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9231,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
9232,5bc603137a5c85647c35d33170ff243dd6e78f39,/8-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
9233,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9234,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9235,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9236,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
9237,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9238,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9239,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9240,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9241,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9242,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
9243,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9244,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
9245,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
9246,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
9247,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
9248,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9249,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9250,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
9251,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9252,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9253,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9254,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
9255,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9256,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9257,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
9258,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
9259,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
9260,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9261,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9262,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
9263,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
9264,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
9265,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
9266,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
9267,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9268,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9269,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9270,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
9271,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9272,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
9273,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
9274,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
9275,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
9276,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9277,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9278,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
9279,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9280,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre7/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9281,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9282,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
9283,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9284,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9285,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9286,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
9287,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk11/openjdk-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9288,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9289,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9290,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9291,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9292,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
9293,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9294,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9295,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9296,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9297,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
9298,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
9299,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9300,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9301,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9302,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9303,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
9304,99e449dbecd64705dd81c07b8767ec67e706be41,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9305,99e449dbecd64705dd81c07b8767ec67e706be41,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9306,99e449dbecd64705dd81c07b8767ec67e706be41,/8.0/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9307,99e449dbecd64705dd81c07b8767ec67e706be41,/8.0/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
9308,99e449dbecd64705dd81c07b8767ec67e706be41,/8.0/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9309,99e449dbecd64705dd81c07b8767ec67e706be41,/8.0/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
9310,99e449dbecd64705dd81c07b8767ec67e706be41,/8.0/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9311,99e449dbecd64705dd81c07b8767ec67e706be41,/8.0/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
9312,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9313,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9314,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
9315,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
9316,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
9317,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9318,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9319,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
9320,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
9321,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
9322,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
9323,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9324,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9325,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9326,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
9327,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9328,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9329,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9330,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9331,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
9332,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
9333,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
9334,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9335,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9336,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9337,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9338,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
9339,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9340,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9341,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/8.0/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9342,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/8.0/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9343,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/8.0/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
9344,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9345,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9346,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9347,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9348,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9349,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9350,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9351,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9352,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
9353,efe59ebe52ba94045f4923be85214f4431a982a6,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9354,efe59ebe52ba94045f4923be85214f4431a982a6,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
9355,efe59ebe52ba94045f4923be85214f4431a982a6,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
9356,efe59ebe52ba94045f4923be85214f4431a982a6,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
9357,efe59ebe52ba94045f4923be85214f4431a982a6,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
9358,efe59ebe52ba94045f4923be85214f4431a982a6,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9359,efe59ebe52ba94045f4923be85214f4431a982a6,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9360,efe59ebe52ba94045f4923be85214f4431a982a6,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9361,efe59ebe52ba94045f4923be85214f4431a982a6,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
9362,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9363,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9364,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9365,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9366,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
9367,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
9368,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
9369,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9370,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9371,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9372,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9373,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
9374,2b55df5b9feaa7b8354e8b2419a88e494a110621,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9375,2b55df5b9feaa7b8354e8b2419a88e494a110621,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
9376,2b55df5b9feaa7b8354e8b2419a88e494a110621,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
9377,2b55df5b9feaa7b8354e8b2419a88e494a110621,/7/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
9378,2b55df5b9feaa7b8354e8b2419a88e494a110621,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
9379,2b55df5b9feaa7b8354e8b2419a88e494a110621,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9380,2b55df5b9feaa7b8354e8b2419a88e494a110621,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9381,2b55df5b9feaa7b8354e8b2419a88e494a110621,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
9382,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9383,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9384,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
9385,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
9386,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
9387,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9388,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9389,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
9390,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
9391,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
9392,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
9393,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9394,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9395,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9396,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
9397,2b55df5b9feaa7b8354e8b2419a88e494a110621,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9398,2b55df5b9feaa7b8354e8b2419a88e494a110621,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
9399,2b55df5b9feaa7b8354e8b2419a88e494a110621,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
9400,2b55df5b9feaa7b8354e8b2419a88e494a110621,/8.0/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
9401,2b55df5b9feaa7b8354e8b2419a88e494a110621,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
9402,2b55df5b9feaa7b8354e8b2419a88e494a110621,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9403,2b55df5b9feaa7b8354e8b2419a88e494a110621,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9404,2b55df5b9feaa7b8354e8b2419a88e494a110621,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
9405,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9406,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9407,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9408,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9409,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
9410,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
9411,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
9412,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9413,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9414,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9415,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9416,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
9417,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk11/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9418,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk11/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9419,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk11/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9420,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk11/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9421,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk11/openjdk-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
9422,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk11/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
9423,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk11/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
9424,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk11/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9425,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk11/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9426,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk11/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9427,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk11/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9428,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk11/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
9429,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9430,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9431,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9432,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
9433,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9434,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
9435,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9436,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9437,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre8-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9438,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
9439,989f50ed5db788921a4954109b90362e2209295e,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9440,989f50ed5db788921a4954109b90362e2209295e,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
9441,989f50ed5db788921a4954109b90362e2209295e,/8.0/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
9442,1651e929e7d4c9785b602cb93cdd2503573c3834,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9443,1651e929e7d4c9785b602cb93cdd2503573c3834,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9444,1651e929e7d4c9785b602cb93cdd2503573c3834,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9445,1651e929e7d4c9785b602cb93cdd2503573c3834,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9446,1651e929e7d4c9785b602cb93cdd2503573c3834,/7/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
9447,676f0e07000cd25c027b71d2433ddf531a75eefd,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9448,676f0e07000cd25c027b71d2433ddf531a75eefd,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
9449,676f0e07000cd25c027b71d2433ddf531a75eefd,/7/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
9450,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk13/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9451,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk13/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9452,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk13/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9453,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk13/openjdk-oracle/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
9454,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk13/openjdk-oracle/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9455,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk13/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
9456,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk13/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
9457,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk13/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
9458,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk13/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
9459,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk13/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
9460,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk13/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9461,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk13/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9462,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk13/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9463,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk13/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
9464,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9465,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9466,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9467,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9468,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
9469,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
9470,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
9471,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9472,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9473,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9474,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9475,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
9476,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9477,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9478,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9479,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9480,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9481,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9482,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9483,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9484,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
9485,81c66e2e695ad5548b726841c00512a9acf18eb5,/6/jre7/Dockerfile,"# runtime dependency for Tomcat Native Libraries
"
9486,81c66e2e695ad5548b726841c00512a9acf18eb5,/6/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
9487,81c66e2e695ad5548b726841c00512a9acf18eb5,/6/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9488,81c66e2e695ad5548b726841c00512a9acf18eb5,/6/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9489,81c66e2e695ad5548b726841c00512a9acf18eb5,/6/jre7/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
9490,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9491,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
9492,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/8.0/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
9493,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9494,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
9495,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
9496,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
9497,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
9498,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9499,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9500,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
9501,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9502,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9503,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9504,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9505,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9506,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
9507,06a7e79e30595058df3c2fec9c769e47e2bca56d,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9508,06a7e79e30595058df3c2fec9c769e47e2bca56d,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
9509,06a7e79e30595058df3c2fec9c769e47e2bca56d,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
9510,06a7e79e30595058df3c2fec9c769e47e2bca56d,/8.0/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
9511,06a7e79e30595058df3c2fec9c769e47e2bca56d,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9512,06a7e79e30595058df3c2fec9c769e47e2bca56d,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9513,06a7e79e30595058df3c2fec9c769e47e2bca56d,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9514,06a7e79e30595058df3c2fec9c769e47e2bca56d,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
9515,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9516,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
9517,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
9518,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
9519,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
9520,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9521,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9522,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
9523,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9524,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9525,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9526,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9527,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9528,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
9529,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9530,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9531,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9532,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9533,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
9534,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
9535,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9536,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9537,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9538,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9539,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
9540,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9541,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9542,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9543,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9544,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9545,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9546,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9547,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9548,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
9549,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9550,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9551,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9552,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9553,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9554,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9555,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9556,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9557,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
9558,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9559,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9560,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9561,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
9562,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9563,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9564,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9565,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9566,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9567,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
9568,6e4ee9a93be401c9c70aeda9f3c6ccf8a3ccdb8b,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9569,6e4ee9a93be401c9c70aeda9f3c6ccf8a3ccdb8b,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9570,6e4ee9a93be401c9c70aeda9f3c6ccf8a3ccdb8b,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9571,6e4ee9a93be401c9c70aeda9f3c6ccf8a3ccdb8b,/8.5/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
9572,6e4ee9a93be401c9c70aeda9f3c6ccf8a3ccdb8b,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9573,6e4ee9a93be401c9c70aeda9f3c6ccf8a3ccdb8b,/8.5/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
9574,6e4ee9a93be401c9c70aeda9f3c6ccf8a3ccdb8b,/8.5/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9575,6e4ee9a93be401c9c70aeda9f3c6ccf8a3ccdb8b,/8.5/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
9576,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9577,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9578,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9579,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9580,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
9581,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
9582,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
9583,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9584,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9585,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9586,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9587,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
9588,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9589,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
9590,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
9591,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
9592,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
9593,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9594,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9595,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
9596,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9597,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9598,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9599,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9600,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9601,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
9602,2755d07019f66a570428bd2747cb6ac12afbdda9,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9603,2755d07019f66a570428bd2747cb6ac12afbdda9,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9604,2755d07019f66a570428bd2747cb6ac12afbdda9,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9605,2755d07019f66a570428bd2747cb6ac12afbdda9,/8.5/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
9606,2755d07019f66a570428bd2747cb6ac12afbdda9,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9607,2755d07019f66a570428bd2747cb6ac12afbdda9,/8.5/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
9608,2755d07019f66a570428bd2747cb6ac12afbdda9,/8.5/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9609,2755d07019f66a570428bd2747cb6ac12afbdda9,/8.5/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
9610,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk14/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9611,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk14/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9612,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk14/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9613,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk14/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9614,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk14/openjdk-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
9615,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk14/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
9616,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk14/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
9617,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk14/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9618,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk14/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9619,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk14/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9620,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk14/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9621,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk14/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
9622,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9623,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
9624,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
9625,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
9626,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
9627,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9628,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9629,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
9630,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9631,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9632,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
9633,7392659258be9e70dd2c93faa7aadacd060ab4d2,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9634,7392659258be9e70dd2c93faa7aadacd060ab4d2,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
9635,7392659258be9e70dd2c93faa7aadacd060ab4d2,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
9636,7392659258be9e70dd2c93faa7aadacd060ab4d2,/8.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
9637,7392659258be9e70dd2c93faa7aadacd060ab4d2,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9638,7392659258be9e70dd2c93faa7aadacd060ab4d2,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9639,7392659258be9e70dd2c93faa7aadacd060ab4d2,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9640,7392659258be9e70dd2c93faa7aadacd060ab4d2,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
9641,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9642,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre9/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
9643,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre9/Dockerfile,"# only add stretch if we're not already building from within stretch
"
9644,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre9/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
9645,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre9/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
9646,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9647,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9648,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre9/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
9649,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre9/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9650,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9651,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9652,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
9653,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9654,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9655,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9656,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9657,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
9658,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
9659,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
9660,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9661,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9662,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9663,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9664,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
9665,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9666,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9667,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9668,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9669,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9670,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9671,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9672,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9673,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
9674,7392659258be9e70dd2c93faa7aadacd060ab4d2,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9675,7392659258be9e70dd2c93faa7aadacd060ab4d2,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
9676,7392659258be9e70dd2c93faa7aadacd060ab4d2,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
9677,7392659258be9e70dd2c93faa7aadacd060ab4d2,/7/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
9678,7392659258be9e70dd2c93faa7aadacd060ab4d2,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9679,7392659258be9e70dd2c93faa7aadacd060ab4d2,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9680,7392659258be9e70dd2c93faa7aadacd060ab4d2,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9681,7392659258be9e70dd2c93faa7aadacd060ab4d2,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
9682,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9683,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9684,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9685,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9686,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9687,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9688,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9689,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9690,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
9691,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9692,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9693,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9694,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9695,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
9696,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
9697,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
9698,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9699,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9700,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9701,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9702,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
9703,74b0911f36d776672bc943f9efb05868d1d5d79a,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
9704,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9705,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9706,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9707,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9708,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
9709,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
9710,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
9711,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9712,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9713,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9714,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9715,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
9716,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9717,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9718,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9719,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9720,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
9721,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
9722,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
9723,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9724,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9725,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9726,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9727,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
9728,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9729,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9730,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
9731,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
9732,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
9733,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9734,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9735,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
9736,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
9737,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9738,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9739,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9740,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
9741,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9742,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9743,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
9744,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
9745,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
9746,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9747,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9748,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
9749,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
9750,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9751,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9752,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9753,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
9754,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9755,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9756,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9757,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9758,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9759,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9760,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9761,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9762,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
9763,a227157792e94c669148c3c2a09072fb317070e0,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9764,a227157792e94c669148c3c2a09072fb317070e0,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9765,a227157792e94c669148c3c2a09072fb317070e0,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9766,a227157792e94c669148c3c2a09072fb317070e0,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9767,a227157792e94c669148c3c2a09072fb317070e0,/9.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9768,a227157792e94c669148c3c2a09072fb317070e0,/9.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
9769,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9770,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
9771,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
9772,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
9773,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
9774,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9775,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9776,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
9777,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9778,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9779,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9780,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9781,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9782,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
9783,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre9-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9784,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre9-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
9785,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre9-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
9786,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre9-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
9787,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre9-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
9788,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre9-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9789,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre9-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9790,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre9-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
9791,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre9-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9792,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre9-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9793,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre9-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9794,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre9-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
9795,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre10-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9796,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre10-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
9797,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre10-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
9798,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre10-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
9799,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre10-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
9800,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre10-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9801,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre10-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9802,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre10-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
9803,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre10-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9804,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre10-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9805,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre10-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9806,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre10-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
9807,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9808,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9809,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9810,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9811,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
9812,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
9813,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9814,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9815,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9816,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9817,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
9818,3bbd4ed7a59680ae1d6dc3f123897f07e0625989,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9819,3bbd4ed7a59680ae1d6dc3f123897f07e0625989,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
9820,3bbd4ed7a59680ae1d6dc3f123897f07e0625989,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
9821,3bbd4ed7a59680ae1d6dc3f123897f07e0625989,/8.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
9822,3bbd4ed7a59680ae1d6dc3f123897f07e0625989,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9823,3bbd4ed7a59680ae1d6dc3f123897f07e0625989,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9824,3bbd4ed7a59680ae1d6dc3f123897f07e0625989,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9825,3bbd4ed7a59680ae1d6dc3f123897f07e0625989,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
9826,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9827,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre9/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
9828,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre9/Dockerfile,"# only add stretch if we're not already building from within stretch
"
9829,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre9/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
9830,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre9/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
9831,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9832,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9833,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre9/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
9834,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre9/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9835,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9836,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9837,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
9838,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9839,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
9840,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
9841,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
9842,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
9843,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9844,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9845,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
9846,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9847,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9848,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9849,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
9850,989f50ed5db788921a4954109b90362e2209295e,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9851,989f50ed5db788921a4954109b90362e2209295e,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
9852,989f50ed5db788921a4954109b90362e2209295e,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
9853,989f50ed5db788921a4954109b90362e2209295e,/7/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
9854,989f50ed5db788921a4954109b90362e2209295e,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
9855,989f50ed5db788921a4954109b90362e2209295e,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
9856,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9857,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9858,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9859,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9860,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
9861,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
9862,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
9863,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9864,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9865,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9866,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9867,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
9868,023eb5126ff70b769f1f84b28c440fb6128bffe7,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9869,023eb5126ff70b769f1f84b28c440fb6128bffe7,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9870,023eb5126ff70b769f1f84b28c440fb6128bffe7,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9871,023eb5126ff70b769f1f84b28c440fb6128bffe7,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9872,023eb5126ff70b769f1f84b28c440fb6128bffe7,/8.5/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
9873,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9874,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9875,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9876,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9877,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
9878,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
9879,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
9880,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9881,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9882,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9883,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9884,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
9885,1691653797eb1f26b4e1d4898c71094ff9104e0e,/7-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
9886,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/6/jre7/Dockerfile,"# runtime dependency for Tomcat Native Libraries
"
9887,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/6/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
9888,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/6/jre7/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
9889,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9890,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9891,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9892,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9893,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9894,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9895,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9896,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9897,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
9898,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9899,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
9900,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
9901,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
9902,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
9903,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9904,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9905,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
9906,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9907,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9908,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9909,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
9910,e36c4044b7ece1361f124aaf3560c2efd888b62f,/8-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
9911,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9912,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
9913,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/8.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
9914,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9915,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
9916,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
9917,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
9918,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
9919,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9920,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9921,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
9922,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9923,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9924,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9925,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
9926,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9927,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
9928,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
9929,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
9930,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
9931,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9932,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9933,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9934,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/9.0/jre8/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
9935,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9936,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
9937,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9938,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9939,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
9940,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
9941,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
9942,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9943,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9944,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
9945,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
9946,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9947,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9948,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9949,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
9950,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9951,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
9952,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
9953,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
9954,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
9955,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9956,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9957,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
9958,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9959,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre7/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9960,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9961,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
9962,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9963,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9964,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
9965,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
9966,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
9967,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9968,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9969,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
9970,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
9971,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
9972,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
9973,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9974,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9975,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9976,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
9977,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9978,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
9979,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
9980,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
9981,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
9982,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9983,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9984,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
9985,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9986,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre7/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9987,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9988,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
9989,1651e929e7d4c9785b602cb93cdd2503573c3834,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9990,1651e929e7d4c9785b602cb93cdd2503573c3834,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9991,1651e929e7d4c9785b602cb93cdd2503573c3834,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9992,1651e929e7d4c9785b602cb93cdd2503573c3834,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9993,1651e929e7d4c9785b602cb93cdd2503573c3834,/7/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
9994,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9995,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
9996,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
9997,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
9998,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
9999,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10000,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10001,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/9.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
10002,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10003,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10004,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
10005,989f50ed5db788921a4954109b90362e2209295e,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10006,989f50ed5db788921a4954109b90362e2209295e,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
10007,989f50ed5db788921a4954109b90362e2209295e,/8.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
10008,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk11/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10009,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk11/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10010,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk11/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10011,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk11/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10012,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk11/openjdk-slim-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
10013,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk11/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
10014,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk11/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
10015,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk11/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10016,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk11/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10017,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk11/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10018,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk11/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10019,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk11/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
10020,676f0e07000cd25c027b71d2433ddf531a75eefd,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10021,676f0e07000cd25c027b71d2433ddf531a75eefd,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
10022,676f0e07000cd25c027b71d2433ddf531a75eefd,/7/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
10023,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10024,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10025,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10026,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10027,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
10028,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
10029,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
10030,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10031,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10032,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10033,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10034,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
10035,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10036,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
10037,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
10038,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
10039,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
10040,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10041,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10042,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
10043,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10044,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre7/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10045,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10046,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
10047,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/7/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10048,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/7/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10049,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/7/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10050,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/7/jdk8/corretto/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
10051,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/7/jdk8/corretto/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10052,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/7/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
10053,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/7/jdk8/corretto/Dockerfile,"#?}}""; \
"
10054,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/7/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
10055,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/7/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
10056,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/7/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
10057,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/7/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10058,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/7/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10059,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/7/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10060,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/7/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
10061,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10062,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
10063,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
10064,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
10065,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
10066,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10067,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10068,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
10069,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10070,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10071,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10072,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
10073,ec4d672211c919aad07ac7bebe7c6f26373ee467,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10074,ec4d672211c919aad07ac7bebe7c6f26373ee467,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
10075,ec4d672211c919aad07ac7bebe7c6f26373ee467,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
10076,ec4d672211c919aad07ac7bebe7c6f26373ee467,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
10077,ec4d672211c919aad07ac7bebe7c6f26373ee467,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
10078,ec4d672211c919aad07ac7bebe7c6f26373ee467,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10079,ec4d672211c919aad07ac7bebe7c6f26373ee467,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10080,ec4d672211c919aad07ac7bebe7c6f26373ee467,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10081,ec4d672211c919aad07ac7bebe7c6f26373ee467,/8.5/jre8/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
10082,ec4d672211c919aad07ac7bebe7c6f26373ee467,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10083,ec4d672211c919aad07ac7bebe7c6f26373ee467,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
10084,9cabcf1e71b270f31b4ff4d1a30587bb75ef3b76,/8.5/jre8/Dockerfile,"# runtime dependency for Tomcat Native Libraries
"
10085,9cabcf1e71b270f31b4ff4d1a30587bb75ef3b76,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
10086,9cabcf1e71b270f31b4ff4d1a30587bb75ef3b76,/8.5/jre8/Dockerfile,"# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)

"
10087,9cabcf1e71b270f31b4ff4d1a30587bb75ef3b76,/8.5/jre8/Dockerfile,"# http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5048274.html (ie, HACK HACK HACK)
"
10088,9cabcf1e71b270f31b4ff4d1a30587bb75ef3b76,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
10089,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10090,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10091,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10092,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10093,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10094,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10095,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10096,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10097,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
10098,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10099,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
10100,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
10101,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/8.0/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
10102,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
10103,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
10104,1ac581da0dbef3f191cbb2d5fbfc4292e32bb0dd,/8-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
10105,844072d81f9970fa1229fb971340ef49978a3533,/6/Dockerfile,"# add our user and group first to make sure their IDs get assigned consistently, regardless of whatever dependencies get added
"
10106,844072d81f9970fa1229fb971340ef49978a3533,/6/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
10107,99e449dbecd64705dd81c07b8767ec67e706be41,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10108,99e449dbecd64705dd81c07b8767ec67e706be41,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10109,99e449dbecd64705dd81c07b8767ec67e706be41,/8.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10110,99e449dbecd64705dd81c07b8767ec67e706be41,/8.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
10111,99e449dbecd64705dd81c07b8767ec67e706be41,/8.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10112,99e449dbecd64705dd81c07b8767ec67e706be41,/8.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
10113,99e449dbecd64705dd81c07b8767ec67e706be41,/8.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10114,99e449dbecd64705dd81c07b8767ec67e706be41,/8.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
10115,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.5/jre9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10116,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.5/jre9/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
10117,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.5/jre9/Dockerfile,"# only add stretch if we're not already building from within stretch
"
10118,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.5/jre9/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
10119,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.5/jre9/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
10120,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.5/jre9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10121,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.5/jre9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10122,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.5/jre9/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
10123,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.5/jre9/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10124,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.5/jre9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10125,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.5/jre9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
10126,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10127,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10128,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10129,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10130,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
10131,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
10132,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
10133,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10134,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10135,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10136,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10137,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
10138,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10139,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10140,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10141,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10142,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10143,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10144,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10145,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10146,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
10147,9cabcf1e71b270f31b4ff4d1a30587bb75ef3b76,/6/jre8/Dockerfile,"# runtime dependency for Tomcat Native Libraries
"
10148,9cabcf1e71b270f31b4ff4d1a30587bb75ef3b76,/6/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
10149,9cabcf1e71b270f31b4ff4d1a30587bb75ef3b76,/6/jre8/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
10150,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10151,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10152,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/8.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10153,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/8.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10154,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/8.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
10155,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk12/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10156,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk12/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10157,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk12/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
10158,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk12/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
10159,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk12/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
10160,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk12/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10161,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk12/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10162,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk12/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
10163,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk12/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
10164,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk12/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10165,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk12/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10166,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk12/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10167,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk12/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
10168,5c76c4a20c9192ca75d9a9739070b7030b64304b,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10169,5c76c4a20c9192ca75d9a9739070b7030b64304b,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
10170,5c76c4a20c9192ca75d9a9739070b7030b64304b,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
10171,5c76c4a20c9192ca75d9a9739070b7030b64304b,/9.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
10172,5c76c4a20c9192ca75d9a9739070b7030b64304b,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10173,5c76c4a20c9192ca75d9a9739070b7030b64304b,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10174,5c76c4a20c9192ca75d9a9739070b7030b64304b,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10175,5c76c4a20c9192ca75d9a9739070b7030b64304b,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
10176,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10177,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10178,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
10179,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
10180,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
10181,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10182,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10183,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
10184,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
10185,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
10186,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# mark any explicit dependencies as manually installed
"
10187,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
10188,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10189,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10190,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10191,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# verify Tomcat Native is working properly
"
10192,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10193,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10194,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10195,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
10196,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10197,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
10198,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10199,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
10200,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10201,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
10202,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
10203,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
10204,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
10205,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10206,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10207,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
10208,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10209,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10210,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10211,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10212,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10213,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
10214,1c1e57eac69764f7c46309d7321f381209067d9c,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10215,1c1e57eac69764f7c46309d7321f381209067d9c,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10216,1c1e57eac69764f7c46309d7321f381209067d9c,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10217,1c1e57eac69764f7c46309d7321f381209067d9c,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
10218,1c1e57eac69764f7c46309d7321f381209067d9c,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10219,1c1e57eac69764f7c46309d7321f381209067d9c,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10220,1c1e57eac69764f7c46309d7321f381209067d9c,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10221,1c1e57eac69764f7c46309d7321f381209067d9c,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10222,1c1e57eac69764f7c46309d7321f381209067d9c,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10223,1c1e57eac69764f7c46309d7321f381209067d9c,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
10224,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre10-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10225,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre10-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
10226,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre10-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
10227,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre10-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
10228,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre10-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
10229,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre10-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10230,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre10-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10231,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre10-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
10232,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre10-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10233,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre10-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10234,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre10-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10235,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre10-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10236,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre10-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10237,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre10-slim/Dockerfile,"# verify Tomcat Native is working properly
"
10238,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10239,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
10240,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
10241,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/9.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
10242,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
10243,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
10244,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10245,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10246,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10247,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10248,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
10249,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
10250,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
10251,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10252,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10253,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10254,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10255,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
10256,dcb6ba09fa6e8f396f38106ca1086a6078799393,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10257,dcb6ba09fa6e8f396f38106ca1086a6078799393,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
10258,dcb6ba09fa6e8f396f38106ca1086a6078799393,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
10259,dcb6ba09fa6e8f396f38106ca1086a6078799393,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
10260,dcb6ba09fa6e8f396f38106ca1086a6078799393,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
10261,dcb6ba09fa6e8f396f38106ca1086a6078799393,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10262,dcb6ba09fa6e8f396f38106ca1086a6078799393,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10263,dcb6ba09fa6e8f396f38106ca1086a6078799393,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10264,dcb6ba09fa6e8f396f38106ca1086a6078799393,/8.5/jre8/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
10265,dcb6ba09fa6e8f396f38106ca1086a6078799393,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10266,dcb6ba09fa6e8f396f38106ca1086a6078799393,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
10267,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10268,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10269,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
10270,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
10271,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
10272,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10273,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10274,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
10275,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
10276,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
10277,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
10278,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10279,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10280,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10281,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
10282,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10283,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10284,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10285,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10286,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10287,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10288,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10289,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10290,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
10291,984d958106aebab3f124f616277a2512da4d4a9f,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
10292,116d0258150ad27d7141d16f7492a5215a4b8fec,/6-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
10293,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10294,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10295,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10296,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10297,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10298,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10299,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10300,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10301,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
10302,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10303,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10304,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
10305,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
10306,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
10307,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10308,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10309,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-oracle/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
10310,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-oracle/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
10311,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-oracle/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
10312,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
10313,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
10314,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10315,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10316,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10317,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
10318,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10319,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10320,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10321,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10322,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10323,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10324,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10325,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10326,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
10327,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10328,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10329,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10330,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk11/corretto/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
10331,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk11/corretto/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10332,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
10333,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
10334,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
10335,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
10336,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
10337,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10338,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10339,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10340,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
10341,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10342,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
10343,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
10344,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
10345,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
10346,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10347,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10348,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/9.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
10349,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10350,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10351,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
10352,58c79694a83a12077150ad57b8dd46296548b958,/8.5/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10353,58c79694a83a12077150ad57b8dd46296548b958,/8.5/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10354,58c79694a83a12077150ad57b8dd46296548b958,/8.5/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10355,58c79694a83a12077150ad57b8dd46296548b958,/8.5/jdk8/corretto/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
10356,58c79694a83a12077150ad57b8dd46296548b958,/8.5/jdk8/corretto/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10357,58c79694a83a12077150ad57b8dd46296548b958,/8.5/jdk8/corretto/Dockerfile,"# TODO should we leave these installed, or remove them too?
"
10358,58c79694a83a12077150ad57b8dd46296548b958,/8.5/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html (updating ""reason"" to ""user"" for tomcat-native build dependencies)
# TODO find a better/cleaner way to generically interact with the yumdb for the purposes of marking things as automatically/manually installed
"
10359,58c79694a83a12077150ad57b8dd46296548b958,/8.5/jdk8/corretto/Dockerfile,"# TODO handle ""$nativeBuildDeps"" in a similarly generic way?
"
10360,58c79694a83a12077150ad57b8dd46296548b958,/8.5/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10361,58c79694a83a12077150ad57b8dd46296548b958,/8.5/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10362,58c79694a83a12077150ad57b8dd46296548b958,/8.5/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10363,58c79694a83a12077150ad57b8dd46296548b958,/8.5/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
10364,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10365,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10366,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10367,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10368,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/openjdk-slim-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
10369,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
10370,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
10371,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10372,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10373,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10374,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10375,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
10376,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10377,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
10378,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
10379,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
10380,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
10381,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10382,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10383,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
10384,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10385,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10386,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10387,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10388,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10389,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk8/Dockerfile,"# verify Tomcat Native is working properly
"
10390,1651e929e7d4c9785b602cb93cdd2503573c3834,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10391,1651e929e7d4c9785b602cb93cdd2503573c3834,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
10392,1651e929e7d4c9785b602cb93cdd2503573c3834,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
10393,1651e929e7d4c9785b602cb93cdd2503573c3834,/7/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
10394,1651e929e7d4c9785b602cb93cdd2503573c3834,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10395,1651e929e7d4c9785b602cb93cdd2503573c3834,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10396,1651e929e7d4c9785b602cb93cdd2503573c3834,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10397,1651e929e7d4c9785b602cb93cdd2503573c3834,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
10398,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10399,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10400,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10401,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10402,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
10403,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
10404,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10405,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10406,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10407,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10408,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
10409,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10410,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10411,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10412,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10413,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
10414,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
10415,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10416,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10417,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10418,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10419,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
10420,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10421,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10422,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10423,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10424,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
10425,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
10426,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
10427,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10428,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10429,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10430,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10431,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
10432,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10433,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10434,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10435,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10436,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10437,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10438,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10439,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10440,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
10441,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10442,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10443,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10444,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
10445,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10446,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
10447,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10448,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10449,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10450,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
10451,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre11-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10452,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre11-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
10453,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre11-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
10454,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre11-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
10455,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre11-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
10456,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre11-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10457,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre11-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10458,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre11-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
10459,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre11-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10460,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre11-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10461,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre11-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10462,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre11-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10463,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre11-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10464,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre11-slim/Dockerfile,"# verify Tomcat Native is working properly
"
10465,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre9-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10466,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre9-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
10467,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre9-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
10468,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre9-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
10469,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre9-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
10470,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre9-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10471,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre9-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10472,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre9-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
10473,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre9-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10474,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre9-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10475,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre9-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10476,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre9-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
10477,efe59ebe52ba94045f4923be85214f4431a982a6,/6/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10478,efe59ebe52ba94045f4923be85214f4431a982a6,/6/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
10479,efe59ebe52ba94045f4923be85214f4431a982a6,/6/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
10480,efe59ebe52ba94045f4923be85214f4431a982a6,/6/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
10481,efe59ebe52ba94045f4923be85214f4431a982a6,/6/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
10482,efe59ebe52ba94045f4923be85214f4431a982a6,/6/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10483,efe59ebe52ba94045f4923be85214f4431a982a6,/6/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10484,efe59ebe52ba94045f4923be85214f4431a982a6,/6/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10485,efe59ebe52ba94045f4923be85214f4431a982a6,/6/jre7/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
10486,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre11-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10487,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre11-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
10488,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre11-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
10489,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre11-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
10490,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre11-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
10491,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre11-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10492,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre11-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10493,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre11-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
10494,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre11-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10495,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre11-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10496,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre11-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10497,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre11-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10498,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre11-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10499,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre11-slim/Dockerfile,"# verify Tomcat Native is working properly
"
10500,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10501,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10502,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10503,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10504,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
10505,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
10506,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10507,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10508,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10509,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10510,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
10511,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10512,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10513,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10514,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10515,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10516,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10517,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10518,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10519,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
10520,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10521,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10522,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10523,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10524,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10525,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10526,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10527,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10528,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
10529,aceabe036433c68b278767811bac728c6db4f8b3,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10530,aceabe036433c68b278767811bac728c6db4f8b3,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
10531,aceabe036433c68b278767811bac728c6db4f8b3,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
10532,aceabe036433c68b278767811bac728c6db4f8b3,/8.5/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
10533,aceabe036433c68b278767811bac728c6db4f8b3,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10534,aceabe036433c68b278767811bac728c6db4f8b3,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10535,aceabe036433c68b278767811bac728c6db4f8b3,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10536,aceabe036433c68b278767811bac728c6db4f8b3,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
10537,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10538,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10539,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10540,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10541,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
10542,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
10543,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10544,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10545,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10546,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10547,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
10548,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk12/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10549,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk12/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10550,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk12/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
10551,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk12/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
10552,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk12/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
10553,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk12/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10554,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk12/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10555,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk12/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
10556,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk12/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
10557,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk12/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10558,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk12/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10559,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk12/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10560,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk12/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
10561,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10562,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
10563,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
10564,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
10565,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
10566,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10567,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10568,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
10569,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10570,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10571,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
10572,221fa4f6f1abfa3f033d4be781fa48faecbee212,/6-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
10573,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10574,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
10575,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
10576,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
10577,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
10578,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10579,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10580,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10581,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.0/jre8/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
10582,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10583,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
10584,aceabe036433c68b278767811bac728c6db4f8b3,/6/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10585,aceabe036433c68b278767811bac728c6db4f8b3,/6/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
10586,aceabe036433c68b278767811bac728c6db4f8b3,/6/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
10587,aceabe036433c68b278767811bac728c6db4f8b3,/6/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
10588,aceabe036433c68b278767811bac728c6db4f8b3,/6/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10589,aceabe036433c68b278767811bac728c6db4f8b3,/6/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10590,aceabe036433c68b278767811bac728c6db4f8b3,/6/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10591,aceabe036433c68b278767811bac728c6db4f8b3,/6/jre8/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
10592,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10593,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10594,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
10595,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
10596,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
10597,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10598,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10599,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
10600,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
10601,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
10602,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
10603,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10604,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10605,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10606,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
10607,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10608,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
10609,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
10610,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
10611,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
10612,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10613,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10614,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
10615,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10616,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10617,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10618,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10619,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10620,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
10621,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10622,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10623,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10624,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10625,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10626,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10627,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10628,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10629,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
10630,1691653797eb1f26b4e1d4898c71094ff9104e0e,/8-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
10631,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10632,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10633,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
10634,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
10635,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
10636,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10637,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10638,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
10639,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
10640,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10641,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10642,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10643,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
10644,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre7-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10645,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre7-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
10646,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre7-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
10647,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre7-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
10648,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre7-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
10649,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre7-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10650,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre7-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10651,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre7-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
10652,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre7-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10653,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre7-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10654,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre7-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10655,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre7-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
10656,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10657,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10658,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10659,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10660,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
10661,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
10662,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10663,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10664,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10665,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10666,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
10667,24e869945b9d9d3f02f979524b8caf989d08ed6c,/7-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
10668,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10669,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10670,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
10671,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
10672,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
10673,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10674,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10675,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-oracle/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
10676,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-oracle/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
10677,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-oracle/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
10678,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
10679,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
10680,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10681,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10682,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10683,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
10684,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10685,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10686,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10687,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10688,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
10689,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
10690,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10691,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10692,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10693,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10694,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
10695,5c76c4a20c9192ca75d9a9739070b7030b64304b,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10696,5c76c4a20c9192ca75d9a9739070b7030b64304b,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
10697,5c76c4a20c9192ca75d9a9739070b7030b64304b,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
10698,5c76c4a20c9192ca75d9a9739070b7030b64304b,/8.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
10699,5c76c4a20c9192ca75d9a9739070b7030b64304b,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10700,5c76c4a20c9192ca75d9a9739070b7030b64304b,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10701,5c76c4a20c9192ca75d9a9739070b7030b64304b,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10702,5c76c4a20c9192ca75d9a9739070b7030b64304b,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
10703,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10704,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10705,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10706,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10707,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
10708,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
10709,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10710,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10711,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10712,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10713,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
10714,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10715,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10716,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10717,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10718,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
10719,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
10720,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
10721,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10722,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10723,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10724,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10725,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
10726,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10727,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10728,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
10729,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
10730,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
10731,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10732,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10733,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
10734,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
10735,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
10736,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
10737,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
10738,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10739,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10740,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10741,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
10742,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10743,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10744,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10745,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10746,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10747,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10748,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10749,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10750,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
10751,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10752,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10753,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10754,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10755,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
10756,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
10757,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
10758,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10759,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10760,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10761,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10762,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
10763,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10764,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10765,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10766,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10767,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10768,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10769,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10770,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10771,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
10772,1ac581da0dbef3f191cbb2d5fbfc4292e32bb0dd,/7-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
10773,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10774,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10775,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10776,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10777,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
10778,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
10779,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10780,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10781,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10782,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10783,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
10784,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10785,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10786,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10787,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10788,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
10789,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
10790,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
10791,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10792,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10793,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10794,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10795,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
10796,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10797,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
10798,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
10799,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
10800,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
10801,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10802,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10803,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
10804,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10805,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10806,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
10807,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10808,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10809,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10810,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10811,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
10812,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
10813,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10814,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10815,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10816,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10817,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
10818,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10819,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10820,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
10821,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
10822,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
10823,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10824,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10825,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
10826,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
10827,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10828,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10829,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10830,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
10831,eb33d0851a5dc2379fb192613c64ff2cd82f631b,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10832,eb33d0851a5dc2379fb192613c64ff2cd82f631b,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10833,eb33d0851a5dc2379fb192613c64ff2cd82f631b,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10834,eb33d0851a5dc2379fb192613c64ff2cd82f631b,/7/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
10835,eb33d0851a5dc2379fb192613c64ff2cd82f631b,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10836,eb33d0851a5dc2379fb192613c64ff2cd82f631b,/7/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
10837,eb33d0851a5dc2379fb192613c64ff2cd82f631b,/7/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10838,eb33d0851a5dc2379fb192613c64ff2cd82f631b,/7/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
10839,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10840,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10841,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10842,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10843,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
10844,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
10845,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10846,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10847,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10848,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10849,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
10850,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10851,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10852,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
10853,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
10854,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
10855,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10856,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10857,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
10858,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
10859,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
10860,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
10861,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
10862,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10863,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10864,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10865,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
10866,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10867,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre9/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
10868,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre9/Dockerfile,"# only add stretch if we're not already building from within stretch
"
10869,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre9/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
10870,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre9/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
10871,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10872,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10873,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre9/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
10874,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre9/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10875,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10876,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10877,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
10878,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk13/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10879,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk13/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10880,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk13/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
10881,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk13/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
10882,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk13/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
10883,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk13/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10884,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk13/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10885,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk13/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
10886,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk13/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
10887,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk13/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10888,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk13/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10889,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk13/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10890,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk13/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
10891,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10892,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10893,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10894,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10895,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10896,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10897,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10898,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10899,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
10900,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10901,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10902,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10903,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10904,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
10905,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
10906,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
10907,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10908,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10909,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10910,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10911,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
10912,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10913,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10914,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10915,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10916,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
10917,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
10918,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
10919,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10920,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10921,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10922,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10923,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
10924,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/6/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10925,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/6/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
10926,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/6/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
10927,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/6/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
10928,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/6/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10929,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/6/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10930,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/6/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10931,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/6/jre8/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
10932,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10933,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10934,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10935,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10936,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
10937,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
10938,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
10939,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10940,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10941,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10942,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10943,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
10944,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10945,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
10946,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
10947,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
10948,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
10949,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10950,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10951,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10952,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre7/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
10953,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10954,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
10955,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10956,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
10957,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
10958,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/8.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
10959,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
10960,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
10961,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/9.0/jdk14/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10962,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/9.0/jdk14/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10963,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/9.0/jdk14/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
10964,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/9.0/jdk14/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
10965,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/9.0/jdk14/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
10966,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/9.0/jdk14/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10967,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/9.0/jdk14/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10968,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/9.0/jdk14/openjdk-oracle/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
10969,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/9.0/jdk14/openjdk-oracle/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
10970,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/9.0/jdk14/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
10971,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/9.0/jdk14/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
10972,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/9.0/jdk14/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10973,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/9.0/jdk14/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10974,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/9.0/jdk14/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10975,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/9.0/jdk14/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
10976,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10977,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
10978,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
10979,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
10980,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
10981,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10982,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10983,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
10984,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10985,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10986,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10987,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
10988,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10989,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
10990,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
10991,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
10992,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
10993,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10994,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10995,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
10996,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10997,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10998,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10999,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
11000,62da5129632732dc85024a52a55465a86ecb3d03,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11001,62da5129632732dc85024a52a55465a86ecb3d03,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11002,62da5129632732dc85024a52a55465a86ecb3d03,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11003,62da5129632732dc85024a52a55465a86ecb3d03,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11004,62da5129632732dc85024a52a55465a86ecb3d03,/9.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
11005,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11006,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
11007,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
11008,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
11009,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
11010,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11011,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11012,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
11013,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11014,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11015,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11016,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
11017,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11018,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
11019,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
11020,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/7/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
11021,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
11022,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
11023,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11024,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11025,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11026,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11027,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/9.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
11028,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11029,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11030,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11031,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11032,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11033,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11034,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11035,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11036,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
11037,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11038,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre9/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
11039,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre9/Dockerfile,"# only add stretch if we're not already building from within stretch
"
11040,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre9/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
11041,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre9/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
11042,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11043,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11044,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre9/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
11045,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre9/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11046,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11047,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11048,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
11049,e31b8a805c2e4d6e5c98abb640c5e74cb334033b,/6/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11050,e31b8a805c2e4d6e5c98abb640c5e74cb334033b,/6/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
11051,e31b8a805c2e4d6e5c98abb640c5e74cb334033b,/6/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
11052,e31b8a805c2e4d6e5c98abb640c5e74cb334033b,/6/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
11053,e31b8a805c2e4d6e5c98abb640c5e74cb334033b,/6/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11054,e31b8a805c2e4d6e5c98abb640c5e74cb334033b,/6/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11055,e31b8a805c2e4d6e5c98abb640c5e74cb334033b,/6/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11056,e31b8a805c2e4d6e5c98abb640c5e74cb334033b,/6/jre8/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
11057,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11058,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11059,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11060,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11061,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
11062,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
11063,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
11064,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11065,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11066,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11067,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11068,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
11069,eb33d0851a5dc2379fb192613c64ff2cd82f631b,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11070,eb33d0851a5dc2379fb192613c64ff2cd82f631b,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11071,eb33d0851a5dc2379fb192613c64ff2cd82f631b,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11072,eb33d0851a5dc2379fb192613c64ff2cd82f631b,/7/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
11073,eb33d0851a5dc2379fb192613c64ff2cd82f631b,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11074,eb33d0851a5dc2379fb192613c64ff2cd82f631b,/7/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
11075,eb33d0851a5dc2379fb192613c64ff2cd82f631b,/7/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11076,eb33d0851a5dc2379fb192613c64ff2cd82f631b,/7/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
11077,37d3fe38619a328aefbe7e7c4bfff043f8be8489,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11078,37d3fe38619a328aefbe7e7c4bfff043f8be8489,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
11079,37d3fe38619a328aefbe7e7c4bfff043f8be8489,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
11080,37d3fe38619a328aefbe7e7c4bfff043f8be8489,/8.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
11081,37d3fe38619a328aefbe7e7c4bfff043f8be8489,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11082,37d3fe38619a328aefbe7e7c4bfff043f8be8489,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11083,37d3fe38619a328aefbe7e7c4bfff043f8be8489,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11084,37d3fe38619a328aefbe7e7c4bfff043f8be8489,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
11085,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre11-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11086,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre11-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
11087,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre11-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
11088,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre11-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
11089,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre11-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
11090,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre11-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11091,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre11-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11092,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre11-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
11093,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre11-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11094,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre11-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11095,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre11-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11096,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre11-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11097,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre11-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11098,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre11-slim/Dockerfile,"# verify Tomcat Native is working properly
"
11099,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11100,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11101,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11102,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11103,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
11104,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
11105,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
11106,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11107,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11108,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11109,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11110,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
11111,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11112,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
11113,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.0/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
11114,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
11115,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.0/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
11116,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11117,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11118,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.0/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
11119,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11120,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.0/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11121,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.0/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
11122,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk11/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11123,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk11/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11124,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk11/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11125,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk11/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11126,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk11/openjdk-slim-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
11127,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk11/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
11128,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk11/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
11129,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk11/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11130,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk11/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11131,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk11/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11132,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk11/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11133,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk11/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
11134,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/7/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11135,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/7/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11136,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/7/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11137,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/7/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11138,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/7/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11139,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/7/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11140,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/7/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11141,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/7/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11142,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/7/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
11143,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre11-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11144,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre11-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
11145,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre11-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
11146,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre11-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
11147,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre11-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
11148,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre11-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11149,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre11-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11150,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre11-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
11151,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre11-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11152,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre11-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11153,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre11-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11154,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre11-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11155,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre11-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11156,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre11-slim/Dockerfile,"# verify Tomcat Native is working properly
"
11157,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11158,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
11159,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
11160,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
11161,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
11162,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11163,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11164,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
11165,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11166,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre7/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11167,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11168,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
11169,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11170,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11171,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11172,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11173,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
11174,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
11175,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
11176,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11177,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11178,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11179,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11180,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
11181,beafeb41b26e8cba4d78d213ec1a65baabecbc00,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11182,beafeb41b26e8cba4d78d213ec1a65baabecbc00,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
11183,beafeb41b26e8cba4d78d213ec1a65baabecbc00,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
11184,beafeb41b26e8cba4d78d213ec1a65baabecbc00,/7/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
11185,beafeb41b26e8cba4d78d213ec1a65baabecbc00,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11186,beafeb41b26e8cba4d78d213ec1a65baabecbc00,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11187,beafeb41b26e8cba4d78d213ec1a65baabecbc00,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11188,beafeb41b26e8cba4d78d213ec1a65baabecbc00,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
11189,7da0fe6d6ba425faf5706ad13f1b6970a5192dd5,/8-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
11190,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11191,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11192,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
11193,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
11194,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
11195,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11196,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11197,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-oracle/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
11198,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-oracle/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
11199,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
11200,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
11201,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11202,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11203,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11204,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
11205,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11206,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11207,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11208,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
11209,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11210,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
11211,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11212,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11213,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11214,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
11215,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11216,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11217,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11218,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11219,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
11220,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
11221,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
11222,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11223,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11224,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11225,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11226,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
11227,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11228,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
11229,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
11230,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
11231,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
11232,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11233,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11234,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
11235,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11236,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11237,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11238,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
11239,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11240,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11241,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11242,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11243,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11244,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11245,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11246,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11247,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
11248,30cca452bf25d5f7f6d164e66902a39afc4593ed,/6/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11249,30cca452bf25d5f7f6d164e66902a39afc4593ed,/6/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
11250,30cca452bf25d5f7f6d164e66902a39afc4593ed,/6/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
11251,30cca452bf25d5f7f6d164e66902a39afc4593ed,/6/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
11252,30cca452bf25d5f7f6d164e66902a39afc4593ed,/6/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11253,30cca452bf25d5f7f6d164e66902a39afc4593ed,/6/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11254,30cca452bf25d5f7f6d164e66902a39afc4593ed,/6/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11255,30cca452bf25d5f7f6d164e66902a39afc4593ed,/6/jre8/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
11256,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre9-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11257,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre9-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
11258,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre9-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
11259,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre9-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
11260,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre9-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
11261,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre9-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11262,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre9-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11263,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre9-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
11264,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre9-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11265,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre9-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11266,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre9-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11267,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre9-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
11268,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11269,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11270,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11271,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
11272,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk8/openjdk-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11273,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11274,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11275,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11276,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11277,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
11278,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11279,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
11280,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
11281,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
11282,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
11283,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11284,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11285,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
11286,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11287,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11288,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11289,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
11290,d08341e2ed934abd7ff1baa0c26d6eac4f45f73a,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
11291,d08341e2ed934abd7ff1baa0c26d6eac4f45f73a,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
11292,d08341e2ed934abd7ff1baa0c26d6eac4f45f73a,/8.0/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
11293,d08341e2ed934abd7ff1baa0c26d6eac4f45f73a,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
11294,d08341e2ed934abd7ff1baa0c26d6eac4f45f73a,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
11295,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11296,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11297,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11298,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11299,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/openjdk-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
11300,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
11301,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
11302,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11303,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11304,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11305,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11306,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
11307,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11308,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11309,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11310,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11311,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
11312,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
11313,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
11314,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11315,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11316,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11317,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11318,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
11319,b2bcdfb78e2fdc63423dfc210066b381f6f73a14,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11320,b2bcdfb78e2fdc63423dfc210066b381f6f73a14,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
11321,b2bcdfb78e2fdc63423dfc210066b381f6f73a14,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
11322,b2bcdfb78e2fdc63423dfc210066b381f6f73a14,/7/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
11323,b2bcdfb78e2fdc63423dfc210066b381f6f73a14,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
11324,b2bcdfb78e2fdc63423dfc210066b381f6f73a14,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
11325,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/6/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11326,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/6/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
11327,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/6/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
11328,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/6/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
11329,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/6/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11330,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/6/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11331,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/6/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11332,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/6/jre7/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
11333,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11334,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
11335,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
11336,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
11337,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
11338,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11339,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11340,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
11341,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11342,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11343,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11344,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11345,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11346,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
11347,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11348,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11349,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11350,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11351,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
11352,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
11353,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
11354,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11355,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11356,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11357,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11358,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
11359,60aabb354b1b0c9724631d82890ba7e308104d76,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11360,60aabb354b1b0c9724631d82890ba7e308104d76,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
11361,60aabb354b1b0c9724631d82890ba7e308104d76,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
11362,60aabb354b1b0c9724631d82890ba7e308104d76,/8.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
11363,60aabb354b1b0c9724631d82890ba7e308104d76,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11364,60aabb354b1b0c9724631d82890ba7e308104d76,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11365,60aabb354b1b0c9724631d82890ba7e308104d76,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11366,60aabb354b1b0c9724631d82890ba7e308104d76,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
11367,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11368,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11369,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11370,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11371,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
11372,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
11373,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
11374,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11375,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11376,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11377,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11378,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
11379,9afdd27634a5b847a3b7aa2d611ad5828659d228,/8-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
11380,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/8.5/jre11-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11381,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/8.5/jre11-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
11382,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/8.5/jre11-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
11383,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/8.5/jre11-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
11384,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/8.5/jre11-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
11385,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/8.5/jre11-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11386,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/8.5/jre11-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11387,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/8.5/jre11-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
11388,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/8.5/jre11-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11389,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/8.5/jre11-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11390,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/8.5/jre11-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11391,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/8.5/jre11-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11392,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/8.5/jre11-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11393,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/8.5/jre11-slim/Dockerfile,"# verify Tomcat Native is working properly
"
11394,0c9673eb76c50568e1aa026255b85077eb88714e,/9.0/jdk13/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11395,0c9673eb76c50568e1aa026255b85077eb88714e,/9.0/jdk13/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11396,0c9673eb76c50568e1aa026255b85077eb88714e,/9.0/jdk13/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11397,0c9673eb76c50568e1aa026255b85077eb88714e,/9.0/jdk13/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11398,0c9673eb76c50568e1aa026255b85077eb88714e,/9.0/jdk13/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
11399,0c9673eb76c50568e1aa026255b85077eb88714e,/9.0/jdk13/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
11400,0c9673eb76c50568e1aa026255b85077eb88714e,/9.0/jdk13/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11401,0c9673eb76c50568e1aa026255b85077eb88714e,/9.0/jdk13/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11402,0c9673eb76c50568e1aa026255b85077eb88714e,/9.0/jdk13/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11403,0c9673eb76c50568e1aa026255b85077eb88714e,/9.0/jdk13/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11404,0c9673eb76c50568e1aa026255b85077eb88714e,/9.0/jdk13/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
11405,7392659258be9e70dd2c93faa7aadacd060ab4d2,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11406,7392659258be9e70dd2c93faa7aadacd060ab4d2,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
11407,7392659258be9e70dd2c93faa7aadacd060ab4d2,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
11408,7392659258be9e70dd2c93faa7aadacd060ab4d2,/9.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
11409,7392659258be9e70dd2c93faa7aadacd060ab4d2,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11410,7392659258be9e70dd2c93faa7aadacd060ab4d2,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11411,7392659258be9e70dd2c93faa7aadacd060ab4d2,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11412,7392659258be9e70dd2c93faa7aadacd060ab4d2,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
11413,dae2567be7566c2fee975d067b79674301357af2,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11414,dae2567be7566c2fee975d067b79674301357af2,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11415,dae2567be7566c2fee975d067b79674301357af2,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11416,dae2567be7566c2fee975d067b79674301357af2,/8.5/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
11417,dae2567be7566c2fee975d067b79674301357af2,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11418,dae2567be7566c2fee975d067b79674301357af2,/8.5/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
11419,dae2567be7566c2fee975d067b79674301357af2,/8.5/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11420,dae2567be7566c2fee975d067b79674301357af2,/8.5/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11421,dae2567be7566c2fee975d067b79674301357af2,/8.5/jre8-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11422,dae2567be7566c2fee975d067b79674301357af2,/8.5/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
11423,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11424,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11425,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11426,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11427,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
11428,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
11429,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
11430,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11431,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11432,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11433,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11434,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
11435,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11436,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
11437,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
11438,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
11439,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
11440,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11441,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11442,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
11443,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11444,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11445,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11446,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11447,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11448,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
11449,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11450,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre9/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
11451,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre9/Dockerfile,"# only add stretch if we're not already building from within stretch
"
11452,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre9/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
11453,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre9/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
11454,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11455,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11456,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre9/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
11457,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre9/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11458,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11459,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11460,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
11461,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11462,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
11463,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
11464,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
11465,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
11466,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11467,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11468,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
11469,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11470,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11471,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11472,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11473,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11474,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
11475,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11476,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11477,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11478,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11479,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11480,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11481,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11482,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11483,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
11484,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/6/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11485,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/6/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
11486,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/6/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
11487,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/6/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
11488,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/6/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
11489,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/6/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11490,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/6/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11491,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/6/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11492,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/6/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11493,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/6/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
11494,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11495,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11496,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11497,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11498,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11499,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11500,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11501,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11502,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
11503,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk11-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11504,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk11-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
11505,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk11-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
11506,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk11-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
11507,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk11-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
11508,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk11-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11509,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk11-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11510,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk11-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
11511,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk11-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11512,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk11-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11513,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk11-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11514,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk11-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11515,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk11-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11516,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk11-slim/Dockerfile,"# verify Tomcat Native is working properly
"
11517,7f37b0e675efd7f654e1fcbfbf6628f25b68f605,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11518,7f37b0e675efd7f654e1fcbfbf6628f25b68f605,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
11519,7f37b0e675efd7f654e1fcbfbf6628f25b68f605,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
11520,7f37b0e675efd7f654e1fcbfbf6628f25b68f605,/8.5/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
11521,7f37b0e675efd7f654e1fcbfbf6628f25b68f605,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11522,7f37b0e675efd7f654e1fcbfbf6628f25b68f605,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11523,7f37b0e675efd7f654e1fcbfbf6628f25b68f605,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11524,7f37b0e675efd7f654e1fcbfbf6628f25b68f605,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
11525,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11526,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11527,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11528,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11529,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
11530,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
11531,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
11532,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11533,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11534,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11535,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11536,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
11537,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre10-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11538,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre10-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
11539,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre10-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
11540,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre10-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
11541,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre10-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
11542,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre10-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11543,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre10-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11544,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre10-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
11545,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre10-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11546,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre10-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11547,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre10-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11548,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre10-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
11549,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11550,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11551,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11552,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11553,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11554,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11555,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11556,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11557,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
11558,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11559,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
11560,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
11561,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
11562,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
11563,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11564,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11565,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
11566,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11567,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11568,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11569,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
11570,52beaf7ad8bd55ae0b0f44031f370b5461209af8,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11571,52beaf7ad8bd55ae0b0f44031f370b5461209af8,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11572,52beaf7ad8bd55ae0b0f44031f370b5461209af8,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11573,52beaf7ad8bd55ae0b0f44031f370b5461209af8,/9.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
11574,52beaf7ad8bd55ae0b0f44031f370b5461209af8,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11575,52beaf7ad8bd55ae0b0f44031f370b5461209af8,/9.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
11576,52beaf7ad8bd55ae0b0f44031f370b5461209af8,/9.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11577,52beaf7ad8bd55ae0b0f44031f370b5461209af8,/9.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
11578,fa5fe9c4327c92a99fa2ae63ff876acc8e5389e5,/7-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
11579,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11580,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11581,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11582,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11583,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11584,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11585,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11586,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11587,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
11588,7eae995786f14b4e96010bcc11338724706e30eb,/7/jdk8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11589,7eae995786f14b4e96010bcc11338724706e30eb,/7/jdk8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
11590,7eae995786f14b4e96010bcc11338724706e30eb,/7/jdk8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
11591,7eae995786f14b4e96010bcc11338724706e30eb,/7/jdk8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
11592,7eae995786f14b4e96010bcc11338724706e30eb,/7/jdk8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
11593,7eae995786f14b4e96010bcc11338724706e30eb,/7/jdk8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11594,7eae995786f14b4e96010bcc11338724706e30eb,/7/jdk8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11595,7eae995786f14b4e96010bcc11338724706e30eb,/7/jdk8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
11596,7eae995786f14b4e96010bcc11338724706e30eb,/7/jdk8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11597,7eae995786f14b4e96010bcc11338724706e30eb,/7/jdk8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11598,7eae995786f14b4e96010bcc11338724706e30eb,/7/jdk8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11599,7eae995786f14b4e96010bcc11338724706e30eb,/7/jdk8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11600,7eae995786f14b4e96010bcc11338724706e30eb,/7/jdk8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11601,7eae995786f14b4e96010bcc11338724706e30eb,/7/jdk8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
11602,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11603,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11604,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11605,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
11606,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11607,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
11608,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11609,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
11610,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11611,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11612,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11613,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
11614,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11615,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11616,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11617,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11618,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11619,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
11620,545107b374ce0b807a29ed958207d177576761ad,/8.5/jre11-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11621,545107b374ce0b807a29ed958207d177576761ad,/8.5/jre11-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
11622,545107b374ce0b807a29ed958207d177576761ad,/8.5/jre11-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
11623,545107b374ce0b807a29ed958207d177576761ad,/8.5/jre11-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
11624,545107b374ce0b807a29ed958207d177576761ad,/8.5/jre11-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
11625,545107b374ce0b807a29ed958207d177576761ad,/8.5/jre11-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11626,545107b374ce0b807a29ed958207d177576761ad,/8.5/jre11-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11627,545107b374ce0b807a29ed958207d177576761ad,/8.5/jre11-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
11628,545107b374ce0b807a29ed958207d177576761ad,/8.5/jre11-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11629,545107b374ce0b807a29ed958207d177576761ad,/8.5/jre11-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11630,545107b374ce0b807a29ed958207d177576761ad,/8.5/jre11-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11631,545107b374ce0b807a29ed958207d177576761ad,/8.5/jre11-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11632,545107b374ce0b807a29ed958207d177576761ad,/8.5/jre11-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11633,545107b374ce0b807a29ed958207d177576761ad,/8.5/jre11-slim/Dockerfile,"# verify Tomcat Native is working properly
"
11634,29f8484d577632d5124082f87719d7ee28ab939e,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11635,29f8484d577632d5124082f87719d7ee28ab939e,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11636,29f8484d577632d5124082f87719d7ee28ab939e,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11637,29f8484d577632d5124082f87719d7ee28ab939e,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11638,29f8484d577632d5124082f87719d7ee28ab939e,/9.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
11639,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11640,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11641,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
11642,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
11643,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
11644,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11645,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11646,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-oracle/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
11647,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-oracle/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
11648,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-oracle/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
11649,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
11650,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
11651,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11652,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11653,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11654,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
11655,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11656,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11657,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
11658,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
11659,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
11660,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11661,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11662,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
11663,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
11664,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
11665,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
11666,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
11667,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11668,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11669,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11670,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
11671,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11672,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
11673,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
11674,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
11675,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
11676,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11677,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11678,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
11679,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11680,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11681,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
11682,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre10-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11683,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre10-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
11684,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre10-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
11685,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre10-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
11686,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre10-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
11687,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre10-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11688,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre10-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11689,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre10-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
11690,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre10-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11691,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre10-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11692,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre10-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11693,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre10-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11694,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre10-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11695,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre10-slim/Dockerfile,"# verify Tomcat Native is working properly
"
11696,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11697,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11698,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11699,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11700,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11701,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11702,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11703,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11704,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
11705,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11706,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
11707,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
11708,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
11709,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
11710,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11711,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11712,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
11713,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11714,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11715,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11716,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
11717,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11718,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11719,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11720,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11721,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
11722,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
11723,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
11724,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11725,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11726,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11727,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11728,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
11729,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11730,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11731,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11732,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11733,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
11734,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
11735,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
11736,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11737,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11738,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11739,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11740,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
11741,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11742,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11743,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11744,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11745,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
11746,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
11747,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11748,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11749,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11750,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11751,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
11752,06a7e79e30595058df3c2fec9c769e47e2bca56d,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11753,06a7e79e30595058df3c2fec9c769e47e2bca56d,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
11754,06a7e79e30595058df3c2fec9c769e47e2bca56d,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
11755,06a7e79e30595058df3c2fec9c769e47e2bca56d,/7/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
11756,06a7e79e30595058df3c2fec9c769e47e2bca56d,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11757,06a7e79e30595058df3c2fec9c769e47e2bca56d,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11758,06a7e79e30595058df3c2fec9c769e47e2bca56d,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11759,06a7e79e30595058df3c2fec9c769e47e2bca56d,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
11760,943f430b7a25c5613548cdf9970573d28ab1b080,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11761,943f430b7a25c5613548cdf9970573d28ab1b080,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11762,943f430b7a25c5613548cdf9970573d28ab1b080,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11763,943f430b7a25c5613548cdf9970573d28ab1b080,/7/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
11764,943f430b7a25c5613548cdf9970573d28ab1b080,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11765,943f430b7a25c5613548cdf9970573d28ab1b080,/7/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
11766,943f430b7a25c5613548cdf9970573d28ab1b080,/7/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11767,943f430b7a25c5613548cdf9970573d28ab1b080,/7/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
11768,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11769,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11770,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11771,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11772,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11773,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11774,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11775,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11776,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
11777,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11778,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11779,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11780,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
11781,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11782,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
11783,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11784,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
11785,f26c14147f9affae8f32100430130271fc82bd3e,/6/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11786,f26c14147f9affae8f32100430130271fc82bd3e,/6/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
11787,f26c14147f9affae8f32100430130271fc82bd3e,/6/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
11788,f26c14147f9affae8f32100430130271fc82bd3e,/6/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
11789,f26c14147f9affae8f32100430130271fc82bd3e,/6/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11790,f26c14147f9affae8f32100430130271fc82bd3e,/6/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11791,f26c14147f9affae8f32100430130271fc82bd3e,/6/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11792,f26c14147f9affae8f32100430130271fc82bd3e,/6/jre7/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
11793,ee1adc11bb185b1948058931ee9e5c48cfd606a1,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11794,ee1adc11bb185b1948058931ee9e5c48cfd606a1,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11795,ee1adc11bb185b1948058931ee9e5c48cfd606a1,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11796,ee1adc11bb185b1948058931ee9e5c48cfd606a1,/8.5/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
11797,ee1adc11bb185b1948058931ee9e5c48cfd606a1,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11798,ee1adc11bb185b1948058931ee9e5c48cfd606a1,/8.5/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
11799,ee1adc11bb185b1948058931ee9e5c48cfd606a1,/8.5/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11800,ee1adc11bb185b1948058931ee9e5c48cfd606a1,/8.5/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11801,ee1adc11bb185b1948058931ee9e5c48cfd606a1,/8.5/jre8-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11802,ee1adc11bb185b1948058931ee9e5c48cfd606a1,/8.5/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
11803,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11804,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11805,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
11806,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
11807,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
11808,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11809,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11810,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
11811,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
11812,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
11813,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
11814,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
11815,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11816,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11817,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11818,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
11819,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11820,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11821,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11822,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11823,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
11824,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
11825,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
11826,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11827,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11828,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11829,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11830,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
11831,6c810f194f2bd912333ecb180aabdd3612824f61,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11832,6c810f194f2bd912333ecb180aabdd3612824f61,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11833,6c810f194f2bd912333ecb180aabdd3612824f61,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11834,6c810f194f2bd912333ecb180aabdd3612824f61,/7/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
11835,6c810f194f2bd912333ecb180aabdd3612824f61,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11836,6c810f194f2bd912333ecb180aabdd3612824f61,/7/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
11837,6c810f194f2bd912333ecb180aabdd3612824f61,/7/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11838,6c810f194f2bd912333ecb180aabdd3612824f61,/7/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
11839,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk12/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11840,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk12/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11841,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk12/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
11842,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk12/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
11843,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk12/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
11844,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk12/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11845,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk12/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11846,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk12/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
11847,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk12/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
11848,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk12/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11849,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk12/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11850,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk12/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11851,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk12/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
11852,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk11/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11853,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk11/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
11854,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk11/Dockerfile,"# only add stretch if we're not already building from within stretch
"
11855,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk11/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
11856,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk11/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
11857,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk11/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11858,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk11/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11859,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk11/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
11860,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk11/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11861,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk11/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11862,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk11/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11863,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk11/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11864,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk11/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11865,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk11/Dockerfile,"# verify Tomcat Native is working properly
"
11866,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11867,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
11868,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
11869,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
11870,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
11871,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11872,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11873,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11874,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre8/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
11875,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11876,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
11877,ed98c30c1cd42c53831f64dffa78a0abf7db8e9a,/8-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
11878,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11879,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11880,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
11881,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
11882,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
11883,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11884,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11885,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
11886,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
11887,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
11888,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
11889,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
11890,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11891,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11892,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11893,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
11894,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/7/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11895,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/7/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11896,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/7/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
11897,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/7/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
11898,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/7/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
11899,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/7/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11900,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/7/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11901,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/7/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
11902,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/7/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
11903,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/7/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11904,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/7/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11905,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/7/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11906,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/7/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
11907,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11908,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
11909,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
11910,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
11911,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
11912,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11913,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11914,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
11915,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11916,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11917,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11918,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11919,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11920,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
11921,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11922,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11923,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
11924,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
11925,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
11926,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11927,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11928,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
11929,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
11930,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
11931,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
11932,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
11933,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11934,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11935,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11936,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
11937,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre10-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11938,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre10-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
11939,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre10-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
11940,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre10-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
11941,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre10-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
11942,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre10-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11943,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre10-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11944,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre10-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
11945,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre10-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11946,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre10-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11947,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre10-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11948,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre10-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11949,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre10-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11950,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre10-slim/Dockerfile,"# verify Tomcat Native is working properly
"
11951,ec75141e3cb6276b07d66c16042152e2d4de119c,/8.0/jre8/Dockerfile,"# runtime dependency for Tomcat Native Libraries
"
11952,ec75141e3cb6276b07d66c16042152e2d4de119c,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
11953,ec75141e3cb6276b07d66c16042152e2d4de119c,/8.0/jre8/Dockerfile,"# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)

"
11954,ec75141e3cb6276b07d66c16042152e2d4de119c,/8.0/jre8/Dockerfile,"# http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5048274.html (ie, HACK HACK HACK)
"
11955,ec75141e3cb6276b07d66c16042152e2d4de119c,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
11956,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11957,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
11958,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
11959,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
11960,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
11961,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11962,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11963,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
11964,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11965,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11966,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11967,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11968,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11969,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
11970,aceabe036433c68b278767811bac728c6db4f8b3,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11971,aceabe036433c68b278767811bac728c6db4f8b3,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11972,aceabe036433c68b278767811bac728c6db4f8b3,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11973,aceabe036433c68b278767811bac728c6db4f8b3,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11974,aceabe036433c68b278767811bac728c6db4f8b3,/7/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
11975,0f2fe0306c1d86ea66daf581f741c76745ee5414,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11976,0f2fe0306c1d86ea66daf581f741c76745ee5414,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
11977,0f2fe0306c1d86ea66daf581f741c76745ee5414,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
11978,0f2fe0306c1d86ea66daf581f741c76745ee5414,/8.5/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
11979,0f2fe0306c1d86ea66daf581f741c76745ee5414,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11980,0f2fe0306c1d86ea66daf581f741c76745ee5414,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11981,0f2fe0306c1d86ea66daf581f741c76745ee5414,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11982,0f2fe0306c1d86ea66daf581f741c76745ee5414,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
11983,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk11-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11984,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk11-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
11985,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk11-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
11986,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk11-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
11987,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk11-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
11988,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk11-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11989,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk11-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11990,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk11-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
11991,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk11-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11992,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk11-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11993,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk11-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11994,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk11-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11995,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk11-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11996,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk11-slim/Dockerfile,"# verify Tomcat Native is working properly
"
11997,6f1c628fa92feea8b28e98e56a990500f2326936,/7-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
11998,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/7/jdk8/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11999,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/7/jdk8/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12000,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/7/jdk8/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12001,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/7/jdk8/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
12002,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/7/jdk8/openjdk-slim-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
12003,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/7/jdk8/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
12004,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/7/jdk8/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
12005,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/7/jdk8/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12006,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/7/jdk8/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12007,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/7/jdk8/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12008,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/7/jdk8/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12009,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/7/jdk8/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
12010,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12011,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
12012,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
12013,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12014,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
12015,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12016,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12017,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12018,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12019,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12020,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12021,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
12022,20a00bb175913f9597ba3831bacbe99d2a470403,/7/jdk8/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12023,20a00bb175913f9597ba3831bacbe99d2a470403,/7/jdk8/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12024,20a00bb175913f9597ba3831bacbe99d2a470403,/7/jdk8/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12025,20a00bb175913f9597ba3831bacbe99d2a470403,/7/jdk8/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
12026,20a00bb175913f9597ba3831bacbe99d2a470403,/7/jdk8/openjdk-slim-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
12027,20a00bb175913f9597ba3831bacbe99d2a470403,/7/jdk8/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
12028,20a00bb175913f9597ba3831bacbe99d2a470403,/7/jdk8/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
12029,20a00bb175913f9597ba3831bacbe99d2a470403,/7/jdk8/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12030,20a00bb175913f9597ba3831bacbe99d2a470403,/7/jdk8/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12031,20a00bb175913f9597ba3831bacbe99d2a470403,/7/jdk8/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12032,20a00bb175913f9597ba3831bacbe99d2a470403,/7/jdk8/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12033,20a00bb175913f9597ba3831bacbe99d2a470403,/7/jdk8/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
12034,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12035,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre9/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
12036,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre9/Dockerfile,"# only add stretch if we're not already building from within stretch
"
12037,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre9/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12038,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre9/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
12039,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12040,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12041,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre9/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12042,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre9/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12043,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12044,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12045,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
12046,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre11/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12047,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre11/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
12048,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre11/Dockerfile,"# only add stretch if we're not already building from within stretch
"
12049,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre11/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12050,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre11/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
12051,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre11/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12052,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre11/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12053,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre11/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12054,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre11/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12055,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre11/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12056,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre11/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12057,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre11/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12058,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre11/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12059,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre11/Dockerfile,"# verify Tomcat Native is working properly
"
12060,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12061,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12062,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12063,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
12064,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
12065,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
12066,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
12067,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12068,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12069,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12070,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12071,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
12072,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12073,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12074,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12075,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
12076,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12077,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12078,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12079,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12080,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
12081,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12082,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12083,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12084,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
12085,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
12086,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
12087,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
12088,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12089,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12090,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12091,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12092,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
12093,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12094,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
12095,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
12096,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12097,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
12098,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12099,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12100,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12101,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12102,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre7/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12103,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12104,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
12105,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12106,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12107,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
12108,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
12109,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
12110,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12111,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
12112,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
12113,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
12114,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
12115,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
12116,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
12117,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12118,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12119,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12120,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
12121,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre11/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12122,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre11/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
12123,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre11/Dockerfile,"# only add stretch if we're not already building from within stretch
"
12124,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre11/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12125,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre11/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
12126,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre11/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12127,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre11/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12128,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre11/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12129,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre11/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12130,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre11/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12131,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre11/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12132,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre11/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12133,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre11/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12134,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre11/Dockerfile,"# verify Tomcat Native is working properly
"
12135,2045c78917577ff88fbe6787a11041047eb3a3bc,/6/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
12136,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12137,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre9/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
12138,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre9/Dockerfile,"# only add stretch if we're not already building from within stretch
"
12139,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre9/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12140,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre9/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
12141,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12142,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12143,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre9/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12144,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre9/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12145,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12146,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12147,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
12148,7d5b334fc0770be842991ed9d8168c5b1ebb86f8,/8-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
12149,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk11/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12150,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk11/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12151,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk11/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12152,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk11/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
12153,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk11/openjdk-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
12154,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk11/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
12155,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk11/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
12156,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk11/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12157,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk11/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12158,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk11/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12159,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk11/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12160,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk11/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
12161,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12162,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12163,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12164,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
12165,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
12166,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
12167,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12168,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12169,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12170,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12171,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
12172,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre7-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12173,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre7-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
12174,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre7-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
12175,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre7-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12176,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre7-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
12177,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre7-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12178,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre7-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12179,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre7-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12180,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre7-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12181,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre7-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12182,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre7-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12183,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre7-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
12184,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12185,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12186,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12187,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
12188,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12189,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12190,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12191,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12192,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
12193,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12194,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12195,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12196,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12197,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12198,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
12199,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12200,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
12201,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12202,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre9/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
12203,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre9/Dockerfile,"# only add stretch if we're not already building from within stretch
"
12204,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre9/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12205,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre9/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
12206,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12207,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12208,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre9/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12209,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre9/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12210,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12211,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12212,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
12213,9a104de6086d4a05ca08c193e25ec45a379ba4b2,/6-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
12214,0c9673eb76c50568e1aa026255b85077eb88714e,/8.5/jdk13/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12215,0c9673eb76c50568e1aa026255b85077eb88714e,/8.5/jdk13/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12216,0c9673eb76c50568e1aa026255b85077eb88714e,/8.5/jdk13/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12217,0c9673eb76c50568e1aa026255b85077eb88714e,/8.5/jdk13/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
12218,0c9673eb76c50568e1aa026255b85077eb88714e,/8.5/jdk13/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
12219,0c9673eb76c50568e1aa026255b85077eb88714e,/8.5/jdk13/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
12220,0c9673eb76c50568e1aa026255b85077eb88714e,/8.5/jdk13/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12221,0c9673eb76c50568e1aa026255b85077eb88714e,/8.5/jdk13/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12222,0c9673eb76c50568e1aa026255b85077eb88714e,/8.5/jdk13/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12223,0c9673eb76c50568e1aa026255b85077eb88714e,/8.5/jdk13/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12224,0c9673eb76c50568e1aa026255b85077eb88714e,/8.5/jdk13/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
12225,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12226,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
12227,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
12228,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12229,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
12230,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12231,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12232,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12233,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12234,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12235,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12236,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
12237,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12238,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
12239,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
12240,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/8.5/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
12241,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
12242,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12243,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12244,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
12245,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12246,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
12247,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
12248,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12249,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
12250,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12251,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12252,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12253,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12254,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12255,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12256,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
12257,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk8/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12258,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk8/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12259,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk8/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12260,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk8/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
12261,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk8/openjdk-slim-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
12262,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk8/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
12263,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk8/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
12264,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk8/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12265,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk8/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12266,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk8/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12267,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk8/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12268,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk8/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
12269,676f0e07000cd25c027b71d2433ddf531a75eefd,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12270,676f0e07000cd25c027b71d2433ddf531a75eefd,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
12271,676f0e07000cd25c027b71d2433ddf531a75eefd,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
12272,676f0e07000cd25c027b71d2433ddf531a75eefd,/8.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
12273,676f0e07000cd25c027b71d2433ddf531a75eefd,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
12274,676f0e07000cd25c027b71d2433ddf531a75eefd,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
12275,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12276,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
12277,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
12278,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12279,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
12280,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12281,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12282,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12283,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12284,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12285,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12286,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12287,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12288,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk8/Dockerfile,"# verify Tomcat Native is working properly
"
12289,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12290,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
12291,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/8.0/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
12292,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12293,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/8.0/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
12294,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12295,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12296,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12297,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/8.0/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12298,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/8.0/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
12299,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12300,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12301,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12302,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
12303,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
12304,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
12305,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12306,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12307,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12308,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12309,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
12310,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12311,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12312,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12313,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12314,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12315,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12316,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12317,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12318,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12319,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
12320,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12321,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12322,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12323,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12324,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/8.5/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12325,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/8.5/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
12326,cb70d3024fc6c3e5ee88ad1616e6e85633e51a0c,/9.0/jre10-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12327,cb70d3024fc6c3e5ee88ad1616e6e85633e51a0c,/9.0/jre10-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
12328,cb70d3024fc6c3e5ee88ad1616e6e85633e51a0c,/9.0/jre10-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
12329,cb70d3024fc6c3e5ee88ad1616e6e85633e51a0c,/9.0/jre10-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12330,cb70d3024fc6c3e5ee88ad1616e6e85633e51a0c,/9.0/jre10-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
12331,cb70d3024fc6c3e5ee88ad1616e6e85633e51a0c,/9.0/jre10-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12332,cb70d3024fc6c3e5ee88ad1616e6e85633e51a0c,/9.0/jre10-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12333,cb70d3024fc6c3e5ee88ad1616e6e85633e51a0c,/9.0/jre10-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12334,cb70d3024fc6c3e5ee88ad1616e6e85633e51a0c,/9.0/jre10-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12335,cb70d3024fc6c3e5ee88ad1616e6e85633e51a0c,/9.0/jre10-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12336,cb70d3024fc6c3e5ee88ad1616e6e85633e51a0c,/9.0/jre10-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12337,cb70d3024fc6c3e5ee88ad1616e6e85633e51a0c,/9.0/jre10-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
12338,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12339,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12340,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12341,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
12342,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12343,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12344,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12345,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12346,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
12347,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre10/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12348,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre10/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
12349,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre10/Dockerfile,"# only add stretch if we're not already building from within stretch
"
12350,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre10/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12351,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre10/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
12352,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre10/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12353,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre10/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12354,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre10/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12355,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre10/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12356,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre10/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12357,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre10/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12358,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre10/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12359,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre10/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12360,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre10/Dockerfile,"# verify Tomcat Native is working properly
"
12361,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12362,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12363,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12364,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12365,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.5/jre8-alpine/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
12366,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.5/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12367,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.5/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
12368,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12369,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12370,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12371,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
12372,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
12373,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
12374,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12375,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12376,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12377,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12378,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
12379,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12380,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
12381,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12382,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/7/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
12383,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12384,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12385,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12386,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
12387,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12388,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12389,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12390,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
12391,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
12392,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
12393,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
12394,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12395,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12396,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12397,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12398,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
12399,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12400,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12401,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12402,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
12403,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12404,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12405,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12406,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12407,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
12408,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12409,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12410,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12411,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
12412,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
12413,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
12414,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12415,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12416,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12417,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12418,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
12419,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12420,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12421,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12422,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk8/openjdk/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12423,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk8/openjdk/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12424,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12425,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12426,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12427,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12428,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
12429,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre10/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12430,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre10/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
12431,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre10/Dockerfile,"# only add stretch if we're not already building from within stretch
"
12432,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre10/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12433,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre10/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
12434,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre10/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12435,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre10/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12436,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre10/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12437,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre10/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12438,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre10/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12439,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre10/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12440,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre10/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
12441,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12442,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12443,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12444,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12445,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12446,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
12447,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12448,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
12449,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12450,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12451,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12452,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
12453,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
12454,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
12455,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
12456,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12457,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12458,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12459,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12460,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
12461,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12462,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12463,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12464,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
12465,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
12466,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
12467,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12468,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12469,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12470,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12471,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
12472,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12473,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
12474,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
12475,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12476,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
12477,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12478,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12479,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12480,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12481,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12482,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12483,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12484,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12485,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
12486,9355db128c52e0463e37d2fbd267c0ea33ed0b19,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12487,9355db128c52e0463e37d2fbd267c0ea33ed0b19,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
12488,9355db128c52e0463e37d2fbd267c0ea33ed0b19,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12489,9355db128c52e0463e37d2fbd267c0ea33ed0b19,/7/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
12490,9355db128c52e0463e37d2fbd267c0ea33ed0b19,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12491,9355db128c52e0463e37d2fbd267c0ea33ed0b19,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12492,9355db128c52e0463e37d2fbd267c0ea33ed0b19,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12493,9355db128c52e0463e37d2fbd267c0ea33ed0b19,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
12494,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12495,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
12496,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
12497,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12498,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
12499,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12500,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12501,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12502,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12503,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12504,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12505,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
12506,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12507,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
12508,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
12509,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12510,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
12511,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12512,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12513,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12514,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12515,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12516,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12517,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12518,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12519,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
12520,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12521,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12522,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12523,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
12524,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12525,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12526,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12527,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12528,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
12529,3c72bd6721ab6645badc72c164cbe6f3a8970bdb,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12530,3c72bd6721ab6645badc72c164cbe6f3a8970bdb,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
12531,3c72bd6721ab6645badc72c164cbe6f3a8970bdb,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12532,3c72bd6721ab6645badc72c164cbe6f3a8970bdb,/8.0/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
12533,3c72bd6721ab6645badc72c164cbe6f3a8970bdb,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12534,3c72bd6721ab6645badc72c164cbe6f3a8970bdb,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12535,3c72bd6721ab6645badc72c164cbe6f3a8970bdb,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12536,3c72bd6721ab6645badc72c164cbe6f3a8970bdb,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
12537,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre7-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12538,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre7-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
12539,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre7-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
12540,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre7-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12541,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre7-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
12542,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre7-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12543,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre7-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12544,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre7-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12545,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre7-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12546,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre7-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12547,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre7-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12548,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre7-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12549,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre7-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12550,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre7-slim/Dockerfile,"# verify Tomcat Native is working properly
"
12551,51f9cbc7c310671209ce69e128738a74593de870,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12552,51f9cbc7c310671209ce69e128738a74593de870,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
12553,51f9cbc7c310671209ce69e128738a74593de870,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12554,51f9cbc7c310671209ce69e128738a74593de870,/7/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
12555,51f9cbc7c310671209ce69e128738a74593de870,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12556,51f9cbc7c310671209ce69e128738a74593de870,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12557,51f9cbc7c310671209ce69e128738a74593de870,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12558,51f9cbc7c310671209ce69e128738a74593de870,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
12559,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12560,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
12561,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12562,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/8.0/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
12563,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12564,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12565,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12566,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
12567,42acf24d6056b82d396da6658943f5c26e7b5cc1,/6-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
12568,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12569,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12570,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12571,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk11/openjdk/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12572,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk11/openjdk/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12573,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12574,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12575,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12576,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12577,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
12578,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre10/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12579,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre10/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
12580,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre10/Dockerfile,"# only add stretch if we're not already building from within stretch
"
12581,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre10/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12582,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre10/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
12583,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre10/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12584,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre10/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12585,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre10/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12586,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre10/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12587,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre10/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12588,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre10/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12589,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre10/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12590,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre10/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12591,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre10/Dockerfile,"# verify Tomcat Native is working properly
"
12592,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12593,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
12594,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
12595,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12596,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
12597,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12598,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12599,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12600,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12601,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12602,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12603,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12604,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12605,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
12606,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12607,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12608,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12609,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
12610,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12611,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12612,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12613,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12614,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
12615,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12616,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12617,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12618,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk8/openjdk/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12619,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk8/openjdk/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12620,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12621,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12622,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12623,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12624,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
12625,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12626,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12627,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12628,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
12629,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12630,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12631,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12632,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12633,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
12634,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12635,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
12636,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
12637,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12638,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
12639,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12640,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12641,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12642,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12643,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12644,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12645,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12646,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12647,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
12648,aceabe036433c68b278767811bac728c6db4f8b3,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12649,aceabe036433c68b278767811bac728c6db4f8b3,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12650,aceabe036433c68b278767811bac728c6db4f8b3,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12651,aceabe036433c68b278767811bac728c6db4f8b3,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12652,aceabe036433c68b278767811bac728c6db4f8b3,/7/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
12653,d44c35d4ec4907263cdfad76d6c56e6676ddd382,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12654,d44c35d4ec4907263cdfad76d6c56e6676ddd382,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12655,d44c35d4ec4907263cdfad76d6c56e6676ddd382,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12656,d44c35d4ec4907263cdfad76d6c56e6676ddd382,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12657,d44c35d4ec4907263cdfad76d6c56e6676ddd382,/8.5/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
12658,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre10/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12659,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre10/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
12660,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre10/Dockerfile,"# only add stretch if we're not already building from within stretch
"
12661,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre10/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12662,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre10/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
12663,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre10/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12664,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre10/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12665,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre10/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12666,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre10/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12667,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre10/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12668,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre10/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12669,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre10/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
12670,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk12/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12671,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk12/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12672,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk12/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
12673,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk12/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
12674,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk12/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
12675,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk12/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12676,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk12/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
12677,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk12/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
12678,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk12/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
12679,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk12/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12680,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk12/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12681,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk12/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12682,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk12/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
12683,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12684,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12685,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12686,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
12687,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12688,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12689,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12690,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12691,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
12692,656c22d037ccaa6adaedbb791febbd2e5197fadd,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12693,656c22d037ccaa6adaedbb791febbd2e5197fadd,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
12694,656c22d037ccaa6adaedbb791febbd2e5197fadd,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
12695,656c22d037ccaa6adaedbb791febbd2e5197fadd,/9.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
12696,656c22d037ccaa6adaedbb791febbd2e5197fadd,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12697,656c22d037ccaa6adaedbb791febbd2e5197fadd,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12698,656c22d037ccaa6adaedbb791febbd2e5197fadd,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12699,656c22d037ccaa6adaedbb791febbd2e5197fadd,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
12700,9a0ce75409536c8c72ef266654d8a64e9354f7e9,/6/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12701,9a0ce75409536c8c72ef266654d8a64e9354f7e9,/6/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
12702,9a0ce75409536c8c72ef266654d8a64e9354f7e9,/6/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12703,9a0ce75409536c8c72ef266654d8a64e9354f7e9,/6/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
12704,9a0ce75409536c8c72ef266654d8a64e9354f7e9,/6/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12705,9a0ce75409536c8c72ef266654d8a64e9354f7e9,/6/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12706,9a0ce75409536c8c72ef266654d8a64e9354f7e9,/6/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12707,9a0ce75409536c8c72ef266654d8a64e9354f7e9,/6/jre8/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
12708,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12709,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12710,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
12711,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
12712,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
12713,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12714,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
12715,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
12716,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
12717,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
12718,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
12719,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
12720,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12721,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12722,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12723,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
12724,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12725,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12726,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
12727,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
12728,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
12729,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12730,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
12731,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
12732,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
12733,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12734,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12735,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12736,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
12737,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre9-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12738,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre9-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
12739,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre9-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
12740,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre9-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12741,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre9-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
12742,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre9-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12743,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre9-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12744,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre9-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12745,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre9-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12746,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre9-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12747,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre9-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12748,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre9-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
12749,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12750,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12751,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12752,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
12753,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
12754,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
12755,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12756,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12757,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12758,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12759,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
12760,9fcf1c13eb901de73aa3abdfc36d1989a1154365,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12761,9fcf1c13eb901de73aa3abdfc36d1989a1154365,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12762,9fcf1c13eb901de73aa3abdfc36d1989a1154365,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12763,9fcf1c13eb901de73aa3abdfc36d1989a1154365,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12764,9fcf1c13eb901de73aa3abdfc36d1989a1154365,/9.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
12765,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12766,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12767,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12768,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
12769,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
12770,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
12771,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12772,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12773,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12774,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12775,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
12776,58c79694a83a12077150ad57b8dd46296548b958,/7/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12777,58c79694a83a12077150ad57b8dd46296548b958,/7/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12778,58c79694a83a12077150ad57b8dd46296548b958,/7/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12779,58c79694a83a12077150ad57b8dd46296548b958,/7/jdk8/corretto/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12780,58c79694a83a12077150ad57b8dd46296548b958,/7/jdk8/corretto/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12781,58c79694a83a12077150ad57b8dd46296548b958,/7/jdk8/corretto/Dockerfile,"# TODO should we leave these installed, or remove them too?
"
12782,58c79694a83a12077150ad57b8dd46296548b958,/7/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html (updating ""reason"" to ""user"" for tomcat-native build dependencies)
# TODO find a better/cleaner way to generically interact with the yumdb for the purposes of marking things as automatically/manually installed
"
12783,58c79694a83a12077150ad57b8dd46296548b958,/7/jdk8/corretto/Dockerfile,"# TODO handle ""$nativeBuildDeps"" in a similarly generic way?
"
12784,58c79694a83a12077150ad57b8dd46296548b958,/7/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12785,58c79694a83a12077150ad57b8dd46296548b958,/7/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12786,58c79694a83a12077150ad57b8dd46296548b958,/7/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12787,58c79694a83a12077150ad57b8dd46296548b958,/7/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
12788,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12789,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12790,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
12791,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
12792,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
12793,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12794,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
12795,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
12796,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
12797,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
12798,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
12799,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
12800,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12801,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12802,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12803,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
12804,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12805,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12806,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
12807,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
12808,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
12809,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12810,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
12811,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
12812,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
12813,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
12814,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
12815,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
12816,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12817,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12818,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12819,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
12820,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12821,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12822,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12823,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
12824,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12825,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12826,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12827,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12828,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
12829,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12830,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12831,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12832,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
12833,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
12834,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
12835,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
12836,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12837,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12838,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12839,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12840,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
12841,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12842,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12843,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12844,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12845,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12846,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
12847,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12848,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
12849,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk11-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12850,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk11-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
12851,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk11-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
12852,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk11-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12853,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk11-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
12854,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk11-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12855,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk11-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12856,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk11-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12857,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk11-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12858,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk11-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12859,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk11-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12860,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk11-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12861,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk11-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12862,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk11-slim/Dockerfile,"# verify Tomcat Native is working properly
"
12863,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12864,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12865,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12866,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
12867,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12868,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12869,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12870,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12871,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
12872,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12873,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12874,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
12875,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
12876,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
12877,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12878,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
12879,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-oracle/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
12880,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-oracle/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
12881,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-oracle/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
12882,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
12883,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
12884,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12885,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12886,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12887,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
12888,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12889,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12890,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12891,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
12892,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
12893,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
12894,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
12895,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12896,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12897,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12898,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12899,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
12900,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12901,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
12902,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
12903,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/7/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
12904,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
12905,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
12906,6c810f194f2bd912333ecb180aabdd3612824f61,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12907,6c810f194f2bd912333ecb180aabdd3612824f61,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12908,6c810f194f2bd912333ecb180aabdd3612824f61,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12909,6c810f194f2bd912333ecb180aabdd3612824f61,/7/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12910,6c810f194f2bd912333ecb180aabdd3612824f61,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12911,6c810f194f2bd912333ecb180aabdd3612824f61,/7/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
12912,6c810f194f2bd912333ecb180aabdd3612824f61,/7/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12913,6c810f194f2bd912333ecb180aabdd3612824f61,/7/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
12914,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12915,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12916,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12917,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
12918,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12919,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12920,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12921,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12922,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
12923,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12924,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
12925,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
12926,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12927,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
12928,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12929,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12930,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12931,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12932,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12933,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12934,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12935,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12936,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
12937,612749027978d45b348c04a692f267e4052f3c71,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12938,612749027978d45b348c04a692f267e4052f3c71,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
12939,612749027978d45b348c04a692f267e4052f3c71,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12940,612749027978d45b348c04a692f267e4052f3c71,/7/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
12941,612749027978d45b348c04a692f267e4052f3c71,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12942,612749027978d45b348c04a692f267e4052f3c71,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12943,612749027978d45b348c04a692f267e4052f3c71,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12944,612749027978d45b348c04a692f267e4052f3c71,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
12945,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12946,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12947,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12948,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
12949,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12950,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12951,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12952,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12953,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
12954,78b5ae4bf558d626859cbb63b2837fd6980ca1f1,/6/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12955,78b5ae4bf558d626859cbb63b2837fd6980ca1f1,/6/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
12956,78b5ae4bf558d626859cbb63b2837fd6980ca1f1,/6/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12957,78b5ae4bf558d626859cbb63b2837fd6980ca1f1,/6/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
12958,78b5ae4bf558d626859cbb63b2837fd6980ca1f1,/6/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12959,78b5ae4bf558d626859cbb63b2837fd6980ca1f1,/6/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12960,78b5ae4bf558d626859cbb63b2837fd6980ca1f1,/6/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12961,78b5ae4bf558d626859cbb63b2837fd6980ca1f1,/6/jre8/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
12962,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12963,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12964,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
12965,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
12966,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
12967,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12968,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
12969,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
12970,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
12971,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12972,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12973,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12974,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
12975,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/8.5/jdk14/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12976,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/8.5/jdk14/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12977,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/8.5/jdk14/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
12978,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/8.5/jdk14/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
12979,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/8.5/jdk14/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
12980,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/8.5/jdk14/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12981,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/8.5/jdk14/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
12982,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/8.5/jdk14/openjdk-oracle/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
12983,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/8.5/jdk14/openjdk-oracle/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
12984,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/8.5/jdk14/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
12985,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/8.5/jdk14/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
12986,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/8.5/jdk14/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12987,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/8.5/jdk14/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12988,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/8.5/jdk14/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12989,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/8.5/jdk14/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
12990,943f430b7a25c5613548cdf9970573d28ab1b080,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12991,943f430b7a25c5613548cdf9970573d28ab1b080,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12992,943f430b7a25c5613548cdf9970573d28ab1b080,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12993,943f430b7a25c5613548cdf9970573d28ab1b080,/7/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12994,943f430b7a25c5613548cdf9970573d28ab1b080,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12995,943f430b7a25c5613548cdf9970573d28ab1b080,/7/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
12996,943f430b7a25c5613548cdf9970573d28ab1b080,/7/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12997,943f430b7a25c5613548cdf9970573d28ab1b080,/7/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
12998,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12999,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13000,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13001,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13002,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
13003,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
13004,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
13005,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13006,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13007,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13008,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13009,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
13010,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13011,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13012,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13013,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
13014,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13015,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13016,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13017,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13018,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13019,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
13020,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13021,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13022,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13023,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13024,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
13025,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
13026,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13027,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13028,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13029,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13030,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
13031,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13032,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13033,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13034,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13035,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13036,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13037,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13038,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13039,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
13040,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13041,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
13042,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
13043,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
13044,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
13045,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13046,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13047,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
13048,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13049,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13050,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
13051,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13052,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13053,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13054,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13055,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
13056,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
13057,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
13058,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13059,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13060,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13061,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13062,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
13063,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13064,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13065,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
13066,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
13067,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
13068,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13069,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13070,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-oracle/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
13071,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-oracle/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
13072,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-oracle/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
13073,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
13074,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
13075,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13076,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13077,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13078,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
13079,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre10/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13080,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre10/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
13081,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre10/Dockerfile,"# only add stretch if we're not already building from within stretch
"
13082,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre10/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
13083,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre10/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
13084,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre10/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13085,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre10/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13086,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre10/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
13087,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre10/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13088,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre10/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13089,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre10/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13090,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre10/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13091,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre10/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13092,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre10/Dockerfile,"# verify Tomcat Native is working properly
"
13093,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk8/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13094,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk8/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13095,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk8/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13096,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk8/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13097,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk8/openjdk-slim-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
13098,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk8/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
13099,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk8/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
13100,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk8/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13101,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk8/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13102,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk8/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13103,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk8/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13104,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk8/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
13105,61ce27ddd02b9380e52ee6021ec706d417ba4669,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13106,61ce27ddd02b9380e52ee6021ec706d417ba4669,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
13107,61ce27ddd02b9380e52ee6021ec706d417ba4669,/8.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
13108,61ce27ddd02b9380e52ee6021ec706d417ba4669,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
13109,61ce27ddd02b9380e52ee6021ec706d417ba4669,/8.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
13110,61ce27ddd02b9380e52ee6021ec706d417ba4669,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13111,61ce27ddd02b9380e52ee6021ec706d417ba4669,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13112,61ce27ddd02b9380e52ee6021ec706d417ba4669,/8.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
13113,61ce27ddd02b9380e52ee6021ec706d417ba4669,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13114,61ce27ddd02b9380e52ee6021ec706d417ba4669,/8.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13115,61ce27ddd02b9380e52ee6021ec706d417ba4669,/8.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
13116,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13117,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13118,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13119,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13120,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
13121,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
13122,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13123,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13124,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13125,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13126,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
13127,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13128,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13129,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13130,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13131,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13132,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13133,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13134,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13135,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
13136,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13137,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13138,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13139,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
13140,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13141,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
13142,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13143,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
13144,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13145,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13146,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13147,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13148,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13149,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13150,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13151,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13152,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
13153,06a7e79e30595058df3c2fec9c769e47e2bca56d,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13154,06a7e79e30595058df3c2fec9c769e47e2bca56d,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
13155,06a7e79e30595058df3c2fec9c769e47e2bca56d,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
13156,06a7e79e30595058df3c2fec9c769e47e2bca56d,/9.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
13157,06a7e79e30595058df3c2fec9c769e47e2bca56d,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13158,06a7e79e30595058df3c2fec9c769e47e2bca56d,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13159,06a7e79e30595058df3c2fec9c769e47e2bca56d,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13160,06a7e79e30595058df3c2fec9c769e47e2bca56d,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
13161,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13162,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13163,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13164,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13165,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13166,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13167,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13168,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13169,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
13170,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13171,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13172,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13173,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13174,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
13175,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
13176,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
13177,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13178,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13179,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13180,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13181,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
13182,a227157792e94c669148c3c2a09072fb317070e0,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13183,a227157792e94c669148c3c2a09072fb317070e0,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13184,a227157792e94c669148c3c2a09072fb317070e0,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13185,a227157792e94c669148c3c2a09072fb317070e0,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13186,a227157792e94c669148c3c2a09072fb317070e0,/7/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13187,a227157792e94c669148c3c2a09072fb317070e0,/7/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
13188,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk8/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13189,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk8/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13190,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk8/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13191,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk8/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13192,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk8/openjdk-slim-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
13193,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk8/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
13194,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk8/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
13195,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk8/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13196,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk8/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13197,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk8/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13198,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk8/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13199,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk8/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
13200,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13201,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13202,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
13203,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
13204,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
13205,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13206,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13207,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
13208,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
13209,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
13210,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
13211,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
13212,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13213,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13214,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13215,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
13216,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/6/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13217,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/6/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
13218,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/6/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
13219,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/6/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
13220,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/6/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
13221,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/6/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13222,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/6/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13223,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/6/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13224,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/6/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13225,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/6/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
13226,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13227,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13228,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13229,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13230,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
13231,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
13232,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13233,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13234,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13235,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13236,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
13237,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk13/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13238,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk13/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13239,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk13/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13240,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk13/openjdk-oracle/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
13241,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk13/openjdk-oracle/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13242,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk13/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
13243,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk13/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
13244,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk13/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
13245,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk13/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
13246,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk13/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
13247,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk13/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13248,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk13/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13249,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk13/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13250,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk13/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
13251,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre10-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13252,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre10-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
13253,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre10-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
13254,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre10-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
13255,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre10-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
13256,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre10-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13257,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre10-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13258,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre10-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
13259,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre10-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13260,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre10-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13261,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre10-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13262,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre10-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
13263,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13264,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
13265,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
13266,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
13267,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
13268,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13269,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13270,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
13271,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13272,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre7/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13273,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13274,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13275,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre7/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13276,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
13277,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13278,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13279,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13280,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13281,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13282,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13283,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13284,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13285,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
13286,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre7-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13287,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre7-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
13288,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre7-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
13289,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre7-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
13290,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre7-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
13291,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre7-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13292,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre7-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13293,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre7-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
13294,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre7-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13295,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre7-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13296,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre7-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13297,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre7-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
13298,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13299,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13300,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13301,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13302,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13303,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13304,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13305,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13306,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
13307,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13308,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13309,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13310,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk11/corretto/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
13311,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk11/corretto/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13312,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
13313,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
13314,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
13315,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
13316,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
13317,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13318,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13319,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13320,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
13321,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13322,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13323,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13324,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk8/corretto/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
13325,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk8/corretto/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13326,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
13327,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
13328,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
13329,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
13330,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
13331,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13332,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13333,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13334,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
13335,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13336,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13337,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13338,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13339,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
13340,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
13341,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
13342,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13343,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13344,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13345,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13346,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
13347,c130c5c596edced66978f54b4d7fd8b4c2637719,/8.5/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13348,c130c5c596edced66978f54b4d7fd8b4c2637719,/8.5/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13349,c130c5c596edced66978f54b4d7fd8b4c2637719,/8.5/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13350,c130c5c596edced66978f54b4d7fd8b4c2637719,/8.5/jdk11/corretto/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
13351,c130c5c596edced66978f54b4d7fd8b4c2637719,/8.5/jdk11/corretto/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13352,c130c5c596edced66978f54b4d7fd8b4c2637719,/8.5/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
13353,c130c5c596edced66978f54b4d7fd8b4c2637719,/8.5/jdk11/corretto/Dockerfile,"#?}}""; \
"
13354,c130c5c596edced66978f54b4d7fd8b4c2637719,/8.5/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
13355,c130c5c596edced66978f54b4d7fd8b4c2637719,/8.5/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
13356,c130c5c596edced66978f54b4d7fd8b4c2637719,/8.5/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
13357,c130c5c596edced66978f54b4d7fd8b4c2637719,/8.5/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13358,c130c5c596edced66978f54b4d7fd8b4c2637719,/8.5/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13359,c130c5c596edced66978f54b4d7fd8b4c2637719,/8.5/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13360,c130c5c596edced66978f54b4d7fd8b4c2637719,/8.5/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
13361,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13362,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13363,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
13364,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
13365,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
13366,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13367,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13368,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
13369,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
13370,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13371,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13372,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13373,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
13374,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13375,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13376,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13377,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13378,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
13379,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
13380,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
13381,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13382,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13383,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13384,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13385,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
13386,7eae995786f14b4e96010bcc11338724706e30eb,/7/jdk8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13387,7eae995786f14b4e96010bcc11338724706e30eb,/7/jdk8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
13388,7eae995786f14b4e96010bcc11338724706e30eb,/7/jdk8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
13389,7eae995786f14b4e96010bcc11338724706e30eb,/7/jdk8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
13390,7eae995786f14b4e96010bcc11338724706e30eb,/7/jdk8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
13391,7eae995786f14b4e96010bcc11338724706e30eb,/7/jdk8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13392,7eae995786f14b4e96010bcc11338724706e30eb,/7/jdk8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13393,7eae995786f14b4e96010bcc11338724706e30eb,/7/jdk8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
13394,7eae995786f14b4e96010bcc11338724706e30eb,/7/jdk8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13395,7eae995786f14b4e96010bcc11338724706e30eb,/7/jdk8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13396,7eae995786f14b4e96010bcc11338724706e30eb,/7/jdk8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13397,7eae995786f14b4e96010bcc11338724706e30eb,/7/jdk8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13398,7eae995786f14b4e96010bcc11338724706e30eb,/7/jdk8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13399,7eae995786f14b4e96010bcc11338724706e30eb,/7/jdk8/Dockerfile,"# verify Tomcat Native is working properly
"
13400,9afdd27634a5b847a3b7aa2d611ad5828659d228,/8-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
13401,60aabb354b1b0c9724631d82890ba7e308104d76,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13402,60aabb354b1b0c9724631d82890ba7e308104d76,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
13403,60aabb354b1b0c9724631d82890ba7e308104d76,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
13404,60aabb354b1b0c9724631d82890ba7e308104d76,/8.0/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
13405,60aabb354b1b0c9724631d82890ba7e308104d76,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13406,60aabb354b1b0c9724631d82890ba7e308104d76,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13407,60aabb354b1b0c9724631d82890ba7e308104d76,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13408,60aabb354b1b0c9724631d82890ba7e308104d76,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
13409,03255da1fc6f0e3ab4a3507cb9e28d707fc921d0,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13410,03255da1fc6f0e3ab4a3507cb9e28d707fc921d0,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13411,03255da1fc6f0e3ab4a3507cb9e28d707fc921d0,/8.0/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13412,03255da1fc6f0e3ab4a3507cb9e28d707fc921d0,/8.0/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13413,03255da1fc6f0e3ab4a3507cb9e28d707fc921d0,/8.0/jre7-alpine/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
13414,03255da1fc6f0e3ab4a3507cb9e28d707fc921d0,/8.0/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13415,03255da1fc6f0e3ab4a3507cb9e28d707fc921d0,/8.0/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
13416,2b55df5b9feaa7b8354e8b2419a88e494a110621,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13417,2b55df5b9feaa7b8354e8b2419a88e494a110621,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
13418,2b55df5b9feaa7b8354e8b2419a88e494a110621,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
13419,2b55df5b9feaa7b8354e8b2419a88e494a110621,/9.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
13420,2b55df5b9feaa7b8354e8b2419a88e494a110621,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
13421,2b55df5b9feaa7b8354e8b2419a88e494a110621,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13422,2b55df5b9feaa7b8354e8b2419a88e494a110621,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13423,2b55df5b9feaa7b8354e8b2419a88e494a110621,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
13424,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13425,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13426,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13427,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
13428,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13429,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
13430,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13431,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13432,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre8-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13433,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
13434,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13435,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13436,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13437,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13438,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13439,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13440,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13441,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13442,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
13443,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13444,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13445,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13446,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13447,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
13448,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
13449,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
13450,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13451,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13452,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13453,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13454,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
13455,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13456,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13457,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13458,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13459,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
13460,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
13461,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13462,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13463,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13464,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13465,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
13466,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13467,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13468,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13469,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13470,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13471,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13472,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13473,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13474,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
13475,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre7-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13476,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre7-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
13477,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre7-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
13478,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre7-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
13479,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre7-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
13480,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre7-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13481,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre7-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13482,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre7-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
13483,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre7-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13484,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre7-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13485,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre7-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13486,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre7-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
13487,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13488,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13489,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13490,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13491,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
13492,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
13493,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
13494,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13495,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13496,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13497,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13498,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
13499,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13500,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
13501,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
13502,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
13503,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
13504,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13505,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13506,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
13507,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13508,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13509,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13510,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13511,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13512,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
13513,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13514,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13515,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
13516,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
13517,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
13518,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13519,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13520,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
13521,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
13522,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
13523,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
13524,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13525,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13526,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13527,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
13528,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/6/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13529,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/6/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
13530,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/6/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
13531,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/6/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
13532,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/6/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13533,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/6/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13534,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/6/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13535,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/6/jre8/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
13536,b2bcdfb78e2fdc63423dfc210066b381f6f73a14,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13537,b2bcdfb78e2fdc63423dfc210066b381f6f73a14,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
13538,b2bcdfb78e2fdc63423dfc210066b381f6f73a14,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
13539,b2bcdfb78e2fdc63423dfc210066b381f6f73a14,/7/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
13540,b2bcdfb78e2fdc63423dfc210066b381f6f73a14,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
13541,b2bcdfb78e2fdc63423dfc210066b381f6f73a14,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
13542,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13543,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13544,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13545,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13546,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
13547,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
13548,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13549,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13550,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13551,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13552,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
13553,d08341e2ed934abd7ff1baa0c26d6eac4f45f73a,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
13554,d08341e2ed934abd7ff1baa0c26d6eac4f45f73a,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
13555,d08341e2ed934abd7ff1baa0c26d6eac4f45f73a,/8.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
13556,d08341e2ed934abd7ff1baa0c26d6eac4f45f73a,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
13557,d08341e2ed934abd7ff1baa0c26d6eac4f45f73a,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
13558,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13559,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre9/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
13560,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre9/Dockerfile,"# only add stretch if we're not already building from within stretch
"
13561,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre9/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
13562,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre9/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
13563,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13564,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13565,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre9/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
13566,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre9/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13567,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13568,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13569,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
13570,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13571,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13572,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13573,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13574,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13575,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13576,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13577,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13578,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
13579,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13580,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13581,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13582,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13583,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
13584,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
13585,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
13586,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13587,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13588,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13589,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13590,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
13591,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13592,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13593,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13594,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13595,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
13596,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
13597,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
13598,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13599,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13600,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13601,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13602,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
13603,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13604,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13605,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13606,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
13607,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk11/openjdk-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13608,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13609,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13610,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13611,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13612,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
13613,30cca452bf25d5f7f6d164e66902a39afc4593ed,/6/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13614,30cca452bf25d5f7f6d164e66902a39afc4593ed,/6/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
13615,30cca452bf25d5f7f6d164e66902a39afc4593ed,/6/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
13616,30cca452bf25d5f7f6d164e66902a39afc4593ed,/6/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
13617,30cca452bf25d5f7f6d164e66902a39afc4593ed,/6/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13618,30cca452bf25d5f7f6d164e66902a39afc4593ed,/6/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13619,30cca452bf25d5f7f6d164e66902a39afc4593ed,/6/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13620,30cca452bf25d5f7f6d164e66902a39afc4593ed,/6/jre7/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
13621,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13622,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13623,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13624,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13625,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
13626,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
13627,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13628,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13629,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13630,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13631,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
13632,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13633,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
13634,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
13635,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
13636,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
13637,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13638,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13639,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
13640,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13641,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13642,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13643,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
13644,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre11/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13645,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre11/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
13646,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre11/Dockerfile,"# only add stretch if we're not already building from within stretch
"
13647,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre11/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
13648,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre11/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
13649,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre11/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13650,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre11/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13651,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre11/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
13652,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre11/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13653,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre11/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13654,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre11/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13655,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre11/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13656,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre11/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13657,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre11/Dockerfile,"# verify Tomcat Native is working properly
"
13658,7da0fe6d6ba425faf5706ad13f1b6970a5192dd5,/8-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
13659,beafeb41b26e8cba4d78d213ec1a65baabecbc00,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13660,beafeb41b26e8cba4d78d213ec1a65baabecbc00,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
13661,beafeb41b26e8cba4d78d213ec1a65baabecbc00,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
13662,beafeb41b26e8cba4d78d213ec1a65baabecbc00,/7/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
13663,beafeb41b26e8cba4d78d213ec1a65baabecbc00,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13664,beafeb41b26e8cba4d78d213ec1a65baabecbc00,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13665,beafeb41b26e8cba4d78d213ec1a65baabecbc00,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13666,beafeb41b26e8cba4d78d213ec1a65baabecbc00,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
13667,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13668,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13669,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13670,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13671,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
13672,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
13673,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
13674,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13675,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13676,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13677,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13678,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
13679,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13680,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
13681,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
13682,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
13683,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
13684,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13685,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13686,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
13687,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13688,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13689,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13690,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
13691,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13692,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
13693,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
13694,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
13695,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
13696,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13697,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13698,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
13699,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13700,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13701,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13702,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
13703,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre10/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13704,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre10/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
13705,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre10/Dockerfile,"# only add stretch if we're not already building from within stretch
"
13706,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre10/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
13707,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre10/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
13708,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre10/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13709,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre10/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13710,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre10/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
13711,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre10/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13712,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre10/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13713,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre10/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13714,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre10/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13715,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre10/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13716,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre10/Dockerfile,"# verify Tomcat Native is working properly
"
13717,dcadb55c324ad088e5e34b5bc6f1202e025ea848,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13718,dcadb55c324ad088e5e34b5bc6f1202e025ea848,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13719,dcadb55c324ad088e5e34b5bc6f1202e025ea848,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13720,dcadb55c324ad088e5e34b5bc6f1202e025ea848,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13721,dcadb55c324ad088e5e34b5bc6f1202e025ea848,/9.0/jre8-alpine/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
13722,dcadb55c324ad088e5e34b5bc6f1202e025ea848,/9.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13723,dcadb55c324ad088e5e34b5bc6f1202e025ea848,/9.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
13724,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13725,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13726,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13727,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13728,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
13729,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
13730,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13731,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13732,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13733,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13734,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
13735,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13736,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13737,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13738,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13739,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
13740,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
13741,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13742,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13743,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13744,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13745,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
13746,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13747,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13748,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
13749,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
13750,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
13751,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13752,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13753,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
13754,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
13755,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
13756,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
13757,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13758,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13759,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13760,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
13761,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13762,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13763,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
13764,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
13765,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
13766,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13767,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13768,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-oracle/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
13769,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-oracle/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
13770,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-oracle/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
13771,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
13772,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
13773,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13774,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13775,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13776,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
13777,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk11/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13778,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk11/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
13779,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk11/Dockerfile,"# only add stretch if we're not already building from within stretch
"
13780,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk11/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
13781,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk11/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
13782,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk11/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13783,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk11/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13784,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk11/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
13785,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk11/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13786,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk11/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13787,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk11/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13788,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk11/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13789,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk11/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13790,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk11/Dockerfile,"# verify Tomcat Native is working properly
"
13791,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13792,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
13793,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
13794,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
13795,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
13796,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13797,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13798,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
13799,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13800,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13801,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
13802,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13803,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13804,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13805,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13806,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
13807,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
13808,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
13809,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13810,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13811,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13812,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13813,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
13814,37d3fe38619a328aefbe7e7c4bfff043f8be8489,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13815,37d3fe38619a328aefbe7e7c4bfff043f8be8489,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
13816,37d3fe38619a328aefbe7e7c4bfff043f8be8489,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
13817,37d3fe38619a328aefbe7e7c4bfff043f8be8489,/8.0/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
13818,37d3fe38619a328aefbe7e7c4bfff043f8be8489,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13819,37d3fe38619a328aefbe7e7c4bfff043f8be8489,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13820,37d3fe38619a328aefbe7e7c4bfff043f8be8489,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13821,37d3fe38619a328aefbe7e7c4bfff043f8be8489,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
13822,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13823,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13824,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13825,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13826,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
13827,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
13828,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
13829,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13830,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13831,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13832,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13833,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
13834,e31b8a805c2e4d6e5c98abb640c5e74cb334033b,/6/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13835,e31b8a805c2e4d6e5c98abb640c5e74cb334033b,/6/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
13836,e31b8a805c2e4d6e5c98abb640c5e74cb334033b,/6/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
13837,e31b8a805c2e4d6e5c98abb640c5e74cb334033b,/6/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
13838,e31b8a805c2e4d6e5c98abb640c5e74cb334033b,/6/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13839,e31b8a805c2e4d6e5c98abb640c5e74cb334033b,/6/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13840,e31b8a805c2e4d6e5c98abb640c5e74cb334033b,/6/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13841,e31b8a805c2e4d6e5c98abb640c5e74cb334033b,/6/jre7/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
13842,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13843,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13844,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13845,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13846,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13847,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13848,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13849,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13850,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
13851,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13852,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13853,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13854,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13855,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13856,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13857,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13858,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13859,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
13860,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13861,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13862,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13863,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13864,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
13865,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
13866,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13867,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13868,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13869,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13870,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
13871,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13872,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13873,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13874,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13875,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
13876,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
13877,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
13878,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13879,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13880,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13881,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13882,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
13883,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13884,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
13885,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
13886,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
13887,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
13888,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13889,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13890,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
13891,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13892,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13893,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13894,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
13895,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13896,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13897,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13898,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13899,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
13900,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
13901,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
13902,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13903,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13904,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13905,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13906,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
13907,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13908,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13909,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13910,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
13911,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13912,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
13913,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13914,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
13915,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13916,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
13917,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
13918,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/7/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
13919,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
13920,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
13921,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13922,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
13923,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
13924,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
13925,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
13926,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13927,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13928,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
13929,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13930,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre7/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13931,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13932,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
13933,9c2fb18446d9e6841997362e575804da73f23eee,/7-jre8/Dockerfile,"# add our user and group first to make sure their IDs get assigned consistently, regardless of whatever dependencies get added
"
13934,9c2fb18446d9e6841997362e575804da73f23eee,/7-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
13935,cb70d3024fc6c3e5ee88ad1616e6e85633e51a0c,/9.0/jre10/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13936,cb70d3024fc6c3e5ee88ad1616e6e85633e51a0c,/9.0/jre10/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
13937,cb70d3024fc6c3e5ee88ad1616e6e85633e51a0c,/9.0/jre10/Dockerfile,"# only add stretch if we're not already building from within stretch
"
13938,cb70d3024fc6c3e5ee88ad1616e6e85633e51a0c,/9.0/jre10/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
13939,cb70d3024fc6c3e5ee88ad1616e6e85633e51a0c,/9.0/jre10/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
13940,cb70d3024fc6c3e5ee88ad1616e6e85633e51a0c,/9.0/jre10/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13941,cb70d3024fc6c3e5ee88ad1616e6e85633e51a0c,/9.0/jre10/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13942,cb70d3024fc6c3e5ee88ad1616e6e85633e51a0c,/9.0/jre10/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
13943,cb70d3024fc6c3e5ee88ad1616e6e85633e51a0c,/9.0/jre10/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13944,cb70d3024fc6c3e5ee88ad1616e6e85633e51a0c,/9.0/jre10/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13945,cb70d3024fc6c3e5ee88ad1616e6e85633e51a0c,/9.0/jre10/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13946,cb70d3024fc6c3e5ee88ad1616e6e85633e51a0c,/9.0/jre10/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
13947,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13948,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13949,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13950,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
13951,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13952,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
13953,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13954,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
13955,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13956,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13957,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13958,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13959,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13960,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13961,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13962,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13963,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
13964,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13965,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
13966,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
13967,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/8.0/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
13968,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
13969,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
13970,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13971,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
13972,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
13973,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
13974,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
13975,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13976,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13977,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13978,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre8/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
13979,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13980,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
13981,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/6/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13982,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/6/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
13983,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/6/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
13984,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/6/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
13985,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/6/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13986,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/6/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13987,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/6/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13988,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/6/jre7/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
13989,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre10/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13990,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre10/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
13991,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre10/Dockerfile,"# only add stretch if we're not already building from within stretch
"
13992,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre10/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
13993,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre10/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
13994,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre10/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13995,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre10/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13996,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre10/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
13997,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre10/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13998,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre10/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13999,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre10/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14000,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre10/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
14001,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14002,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14003,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14004,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14005,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
14006,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
14007,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
14008,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14009,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14010,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14011,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14012,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
14013,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14014,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14015,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14016,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14017,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
14018,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
14019,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
14020,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14021,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14022,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14023,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14024,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
14025,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14026,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
14027,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
14028,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
14029,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
14030,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14031,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14032,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
14033,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14034,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14035,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
14036,1ac581da0dbef3f191cbb2d5fbfc4292e32bb0dd,/7-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
14037,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14038,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14039,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
14040,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
14041,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
14042,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14043,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14044,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
14045,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
14046,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
14047,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
14048,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14049,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14050,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14051,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
14052,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14053,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
14054,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
14055,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
14056,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
14057,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14058,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14059,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
14060,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14061,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14062,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14063,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
14064,6611537f66f8f1df614f86bfda5b5fc020755aad,/7-jre8/Dockerfile,"# add our user and group first to make sure their IDs get assigned consistently, regardless of whatever dependencies get added
"
14065,6611537f66f8f1df614f86bfda5b5fc020755aad,/7-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
14066,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14067,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
14068,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
14069,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/9.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
14070,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
14071,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
14072,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre10/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14073,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre10/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
14074,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre10/Dockerfile,"# only add stretch if we're not already building from within stretch
"
14075,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre10/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
14076,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre10/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
14077,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre10/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14078,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre10/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14079,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre10/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
14080,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre10/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14081,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre10/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14082,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre10/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14083,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre10/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
14084,5c76c4a20c9192ca75d9a9739070b7030b64304b,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14085,5c76c4a20c9192ca75d9a9739070b7030b64304b,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
14086,5c76c4a20c9192ca75d9a9739070b7030b64304b,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
14087,5c76c4a20c9192ca75d9a9739070b7030b64304b,/8.0/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
14088,5c76c4a20c9192ca75d9a9739070b7030b64304b,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14089,5c76c4a20c9192ca75d9a9739070b7030b64304b,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14090,5c76c4a20c9192ca75d9a9739070b7030b64304b,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14091,5c76c4a20c9192ca75d9a9739070b7030b64304b,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
14092,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14093,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14094,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14095,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14096,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/8.5/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
14097,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14098,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
14099,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
14100,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
14101,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
14102,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14103,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14104,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
14105,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14106,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14107,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14108,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14109,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14110,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
14111,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14112,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14113,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14114,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14115,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14116,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14117,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14118,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14119,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
14120,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14121,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14122,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14123,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14124,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14125,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14126,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14127,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14128,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
14129,24e869945b9d9d3f02f979524b8caf989d08ed6c,/7-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
14130,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14131,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
14132,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
14133,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
14134,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
14135,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14136,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14137,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
14138,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14139,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14140,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14141,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14142,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14143,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
14144,cb70d3024fc6c3e5ee88ad1616e6e85633e51a0c,/8.5/jre10/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14145,cb70d3024fc6c3e5ee88ad1616e6e85633e51a0c,/8.5/jre10/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
14146,cb70d3024fc6c3e5ee88ad1616e6e85633e51a0c,/8.5/jre10/Dockerfile,"# only add stretch if we're not already building from within stretch
"
14147,cb70d3024fc6c3e5ee88ad1616e6e85633e51a0c,/8.5/jre10/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
14148,cb70d3024fc6c3e5ee88ad1616e6e85633e51a0c,/8.5/jre10/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
14149,cb70d3024fc6c3e5ee88ad1616e6e85633e51a0c,/8.5/jre10/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14150,cb70d3024fc6c3e5ee88ad1616e6e85633e51a0c,/8.5/jre10/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14151,cb70d3024fc6c3e5ee88ad1616e6e85633e51a0c,/8.5/jre10/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
14152,cb70d3024fc6c3e5ee88ad1616e6e85633e51a0c,/8.5/jre10/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14153,cb70d3024fc6c3e5ee88ad1616e6e85633e51a0c,/8.5/jre10/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14154,cb70d3024fc6c3e5ee88ad1616e6e85633e51a0c,/8.5/jre10/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14155,cb70d3024fc6c3e5ee88ad1616e6e85633e51a0c,/8.5/jre10/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
14156,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14157,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14158,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14159,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
14160,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14161,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14162,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14163,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14164,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14165,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
14166,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14167,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14168,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
14169,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
14170,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
14171,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14172,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14173,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
14174,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
14175,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14176,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14177,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14178,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
14179,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14180,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14181,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14182,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
14183,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14184,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14185,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14186,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14187,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14188,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
14189,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre9-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14190,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre9-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
14191,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre9-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
14192,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre9-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
14193,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre9-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
14194,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre9-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14195,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre9-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14196,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre9-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
14197,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre9-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14198,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre9-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14199,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre9-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14200,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre9-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
14201,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14202,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14203,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14204,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
14205,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14206,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14207,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14208,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14209,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14210,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
14211,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre11/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14212,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre11/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
14213,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre11/Dockerfile,"# only add stretch if we're not already building from within stretch
"
14214,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre11/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
14215,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre11/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
14216,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre11/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14217,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre11/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14218,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre11/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
14219,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre11/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14220,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre11/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14221,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre11/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14222,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre11/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14223,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre11/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14224,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre11/Dockerfile,"# verify Tomcat Native is working properly
"
14225,1c1e57eac69764f7c46309d7321f381209067d9c,/7/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14226,1c1e57eac69764f7c46309d7321f381209067d9c,/7/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14227,1c1e57eac69764f7c46309d7321f381209067d9c,/7/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14228,1c1e57eac69764f7c46309d7321f381209067d9c,/7/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
14229,1c1e57eac69764f7c46309d7321f381209067d9c,/7/jdk8/openjdk-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14230,1c1e57eac69764f7c46309d7321f381209067d9c,/7/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14231,1c1e57eac69764f7c46309d7321f381209067d9c,/7/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14232,1c1e57eac69764f7c46309d7321f381209067d9c,/7/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14233,1c1e57eac69764f7c46309d7321f381209067d9c,/7/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14234,1c1e57eac69764f7c46309d7321f381209067d9c,/7/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
14235,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14236,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14237,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
14238,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
14239,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
14240,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14241,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14242,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
14243,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
14244,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
14245,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
14246,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
14247,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14248,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14249,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14250,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
14251,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk13/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14252,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk13/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14253,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk13/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
14254,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk13/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
14255,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk13/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
14256,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk13/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14257,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk13/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14258,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk13/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
14259,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk13/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
14260,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk13/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14261,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk13/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14262,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk13/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14263,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk13/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
14264,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14265,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
14266,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
14267,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
14268,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
14269,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14270,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14271,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
14272,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14273,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14274,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14275,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
14276,1691653797eb1f26b4e1d4898c71094ff9104e0e,/8-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
14277,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14278,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14279,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14280,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14281,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
14282,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
14283,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14284,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14285,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14286,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14287,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
14288,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14289,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14290,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14291,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14292,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14293,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14294,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14295,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14296,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
14297,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14298,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
14299,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/8.5/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
14300,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14301,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14302,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14303,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14304,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14305,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14306,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14307,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14308,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
14309,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre11-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14310,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre11-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
14311,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre11-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
14312,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre11-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
14313,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre11-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
14314,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre11-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14315,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre11-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14316,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre11-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
14317,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre11-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14318,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre11-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14319,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre11-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14320,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre11-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14321,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre11-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14322,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre11-slim/Dockerfile,"# verify Tomcat Native is working properly
"
14323,03255da1fc6f0e3ab4a3507cb9e28d707fc921d0,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14324,03255da1fc6f0e3ab4a3507cb9e28d707fc921d0,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14325,03255da1fc6f0e3ab4a3507cb9e28d707fc921d0,/8.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14326,03255da1fc6f0e3ab4a3507cb9e28d707fc921d0,/8.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14327,03255da1fc6f0e3ab4a3507cb9e28d707fc921d0,/8.0/jre8-alpine/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
14328,03255da1fc6f0e3ab4a3507cb9e28d707fc921d0,/8.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14329,03255da1fc6f0e3ab4a3507cb9e28d707fc921d0,/8.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
14330,aceabe036433c68b278767811bac728c6db4f8b3,/6/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14331,aceabe036433c68b278767811bac728c6db4f8b3,/6/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
14332,aceabe036433c68b278767811bac728c6db4f8b3,/6/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
14333,aceabe036433c68b278767811bac728c6db4f8b3,/6/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
14334,aceabe036433c68b278767811bac728c6db4f8b3,/6/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14335,aceabe036433c68b278767811bac728c6db4f8b3,/6/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14336,aceabe036433c68b278767811bac728c6db4f8b3,/6/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14337,aceabe036433c68b278767811bac728c6db4f8b3,/6/jre7/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
14338,89b879193cbf8eff9792d847f2bdc285647ded15,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14339,89b879193cbf8eff9792d847f2bdc285647ded15,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14340,89b879193cbf8eff9792d847f2bdc285647ded15,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14341,89b879193cbf8eff9792d847f2bdc285647ded15,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14342,89b879193cbf8eff9792d847f2bdc285647ded15,/8.5/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
14343,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14344,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
14345,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.0/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
14346,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
14347,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.0/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
14348,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14349,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14350,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14351,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.0/jre7/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
14352,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.0/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14353,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.0/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
14354,221fa4f6f1abfa3f033d4be781fa48faecbee212,/6-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
14355,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14356,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
14357,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.0/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
14358,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
14359,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.0/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
14360,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14361,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14362,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.0/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
14363,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14364,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.0/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14365,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.0/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
14366,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk11/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14367,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk11/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14368,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk11/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14369,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk11/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14370,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk11/openjdk-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
14371,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk11/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
14372,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk11/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
14373,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk11/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14374,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk11/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14375,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk11/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14376,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk11/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14377,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk11/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
14378,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14379,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
14380,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
14381,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
14382,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
14383,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14384,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14385,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
14386,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14387,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14388,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14389,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
14390,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14391,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
14392,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
14393,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
14394,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
14395,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14396,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14397,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
14398,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14399,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14400,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14401,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
14402,989f50ed5db788921a4954109b90362e2209295e,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14403,989f50ed5db788921a4954109b90362e2209295e,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
14404,989f50ed5db788921a4954109b90362e2209295e,/8.5/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
14405,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14406,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14407,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14408,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
14409,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14410,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
14411,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14412,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14413,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre7-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14414,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
14415,58c79694a83a12077150ad57b8dd46296548b958,/9.0/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14416,58c79694a83a12077150ad57b8dd46296548b958,/9.0/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14417,58c79694a83a12077150ad57b8dd46296548b958,/9.0/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14418,58c79694a83a12077150ad57b8dd46296548b958,/9.0/jdk8/corretto/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
14419,58c79694a83a12077150ad57b8dd46296548b958,/9.0/jdk8/corretto/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14420,58c79694a83a12077150ad57b8dd46296548b958,/9.0/jdk8/corretto/Dockerfile,"# TODO should we leave these installed, or remove them too?
"
14421,58c79694a83a12077150ad57b8dd46296548b958,/9.0/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html (updating ""reason"" to ""user"" for tomcat-native build dependencies)
# TODO find a better/cleaner way to generically interact with the yumdb for the purposes of marking things as automatically/manually installed
"
14422,58c79694a83a12077150ad57b8dd46296548b958,/9.0/jdk8/corretto/Dockerfile,"# TODO handle ""$nativeBuildDeps"" in a similarly generic way?
"
14423,58c79694a83a12077150ad57b8dd46296548b958,/9.0/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14424,58c79694a83a12077150ad57b8dd46296548b958,/9.0/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14425,58c79694a83a12077150ad57b8dd46296548b958,/9.0/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14426,58c79694a83a12077150ad57b8dd46296548b958,/9.0/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
14427,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre10/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14428,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre10/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
14429,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre10/Dockerfile,"# only add stretch if we're not already building from within stretch
"
14430,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre10/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
14431,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre10/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
14432,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre10/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14433,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre10/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14434,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre10/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
14435,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre10/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14436,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre10/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14437,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre10/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14438,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre10/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
14439,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14440,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14441,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
14442,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
14443,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
14444,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14445,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14446,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
14447,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
14448,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
14449,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
14450,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14451,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14452,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14453,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
14454,efe59ebe52ba94045f4923be85214f4431a982a6,/6/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14455,efe59ebe52ba94045f4923be85214f4431a982a6,/6/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
14456,efe59ebe52ba94045f4923be85214f4431a982a6,/6/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
14457,efe59ebe52ba94045f4923be85214f4431a982a6,/6/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
14458,efe59ebe52ba94045f4923be85214f4431a982a6,/6/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
14459,efe59ebe52ba94045f4923be85214f4431a982a6,/6/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14460,efe59ebe52ba94045f4923be85214f4431a982a6,/6/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14461,efe59ebe52ba94045f4923be85214f4431a982a6,/6/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14462,efe59ebe52ba94045f4923be85214f4431a982a6,/6/jre8/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
14463,7457d9c11ffdb055cb9084c498c2d47118561814,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14464,7457d9c11ffdb055cb9084c498c2d47118561814,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
14465,7457d9c11ffdb055cb9084c498c2d47118561814,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
14466,7457d9c11ffdb055cb9084c498c2d47118561814,/9.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
14467,7457d9c11ffdb055cb9084c498c2d47118561814,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14468,7457d9c11ffdb055cb9084c498c2d47118561814,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14469,7457d9c11ffdb055cb9084c498c2d47118561814,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14470,7457d9c11ffdb055cb9084c498c2d47118561814,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
14471,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14472,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14473,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
14474,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
14475,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
14476,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14477,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14478,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
14479,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
14480,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14481,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14482,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14483,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
14484,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14485,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14486,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14487,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14488,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/openjdk-slim-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
14489,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
14490,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
14491,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14492,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14493,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14494,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14495,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
14496,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk8/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14497,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk8/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14498,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk8/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14499,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk8/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14500,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk8/openjdk-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
14501,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk8/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
14502,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk8/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
14503,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk8/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14504,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk8/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14505,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk8/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14506,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk8/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14507,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk8/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
14508,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk13/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14509,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk13/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14510,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk13/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
14511,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk13/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
14512,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk13/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
14513,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk13/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14514,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk13/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14515,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk13/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
14516,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk13/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
14517,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk13/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14518,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk13/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14519,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk13/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14520,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk13/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
14521,a227157792e94c669148c3c2a09072fb317070e0,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14522,a227157792e94c669148c3c2a09072fb317070e0,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14523,a227157792e94c669148c3c2a09072fb317070e0,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14524,a227157792e94c669148c3c2a09072fb317070e0,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14525,a227157792e94c669148c3c2a09072fb317070e0,/7/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14526,a227157792e94c669148c3c2a09072fb317070e0,/7/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
14527,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14528,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
14529,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
14530,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
14531,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
14532,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14533,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14534,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
14535,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14536,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14537,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14538,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14539,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14540,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
14541,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre11/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14542,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre11/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
14543,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre11/Dockerfile,"# only add stretch if we're not already building from within stretch
"
14544,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre11/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
14545,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre11/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
14546,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre11/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14547,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre11/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14548,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre11/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
14549,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre11/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14550,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre11/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14551,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre11/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14552,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre11/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14553,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre11/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14554,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre11/Dockerfile,"# verify Tomcat Native is working properly
"
14555,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14556,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
14557,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
14558,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
14559,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
14560,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14561,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14562,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
14563,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14564,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14565,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14566,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
14567,61ce27ddd02b9380e52ee6021ec706d417ba4669,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14568,61ce27ddd02b9380e52ee6021ec706d417ba4669,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
14569,61ce27ddd02b9380e52ee6021ec706d417ba4669,/8.0/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
14570,61ce27ddd02b9380e52ee6021ec706d417ba4669,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
14571,61ce27ddd02b9380e52ee6021ec706d417ba4669,/8.0/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
14572,61ce27ddd02b9380e52ee6021ec706d417ba4669,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14573,61ce27ddd02b9380e52ee6021ec706d417ba4669,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14574,61ce27ddd02b9380e52ee6021ec706d417ba4669,/8.0/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
14575,61ce27ddd02b9380e52ee6021ec706d417ba4669,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14576,61ce27ddd02b9380e52ee6021ec706d417ba4669,/8.0/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14577,61ce27ddd02b9380e52ee6021ec706d417ba4669,/8.0/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
14578,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14579,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
14580,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/7/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
14581,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14582,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14583,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
14584,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
14585,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
14586,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14587,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14588,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
14589,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
14590,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14591,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14592,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14593,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
14594,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14595,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
14596,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14597,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14598,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.5/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
14599,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14600,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14601,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14602,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14603,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
14604,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
14605,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14606,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14607,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14608,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14609,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
14610,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14611,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14612,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14613,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
14614,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk8/openjdk-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14615,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14616,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14617,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14618,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14619,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
14620,9b1b4d00ed9b281e16de07f891b7b399c3457d5e,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14621,9b1b4d00ed9b281e16de07f891b7b399c3457d5e,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
14622,9b1b4d00ed9b281e16de07f891b7b399c3457d5e,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
14623,9b1b4d00ed9b281e16de07f891b7b399c3457d5e,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
14624,9b1b4d00ed9b281e16de07f891b7b399c3457d5e,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
14625,9b1b4d00ed9b281e16de07f891b7b399c3457d5e,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14626,9b1b4d00ed9b281e16de07f891b7b399c3457d5e,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14627,9b1b4d00ed9b281e16de07f891b7b399c3457d5e,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14628,9b1b4d00ed9b281e16de07f891b7b399c3457d5e,/9.0/jre8/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
14629,9b1b4d00ed9b281e16de07f891b7b399c3457d5e,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14630,9b1b4d00ed9b281e16de07f891b7b399c3457d5e,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
14631,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14632,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
14633,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
14634,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
14635,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
14636,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14637,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14638,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
14639,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14640,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14641,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
14642,0c9673eb76c50568e1aa026255b85077eb88714e,/9.0/jdk13/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14643,0c9673eb76c50568e1aa026255b85077eb88714e,/9.0/jdk13/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14644,0c9673eb76c50568e1aa026255b85077eb88714e,/9.0/jdk13/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14645,0c9673eb76c50568e1aa026255b85077eb88714e,/9.0/jdk13/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14646,0c9673eb76c50568e1aa026255b85077eb88714e,/9.0/jdk13/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
14647,0c9673eb76c50568e1aa026255b85077eb88714e,/9.0/jdk13/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
14648,0c9673eb76c50568e1aa026255b85077eb88714e,/9.0/jdk13/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14649,0c9673eb76c50568e1aa026255b85077eb88714e,/9.0/jdk13/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14650,0c9673eb76c50568e1aa026255b85077eb88714e,/9.0/jdk13/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14651,0c9673eb76c50568e1aa026255b85077eb88714e,/9.0/jdk13/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14652,0c9673eb76c50568e1aa026255b85077eb88714e,/9.0/jdk13/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
14653,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14654,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
14655,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/9.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
14656,1c1e57eac69764f7c46309d7321f381209067d9c,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14657,1c1e57eac69764f7c46309d7321f381209067d9c,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14658,1c1e57eac69764f7c46309d7321f381209067d9c,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14659,1c1e57eac69764f7c46309d7321f381209067d9c,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
14660,1c1e57eac69764f7c46309d7321f381209067d9c,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14661,1c1e57eac69764f7c46309d7321f381209067d9c,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14662,1c1e57eac69764f7c46309d7321f381209067d9c,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14663,1c1e57eac69764f7c46309d7321f381209067d9c,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14664,1c1e57eac69764f7c46309d7321f381209067d9c,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14665,1c1e57eac69764f7c46309d7321f381209067d9c,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
14666,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14667,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14668,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14669,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14670,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
14671,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
14672,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14673,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14674,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14675,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14676,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
14677,0e9a915bf893faa9160ab1a144c7ba5049a4fe27,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14678,0e9a915bf893faa9160ab1a144c7ba5049a4fe27,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14679,0e9a915bf893faa9160ab1a144c7ba5049a4fe27,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14680,0e9a915bf893faa9160ab1a144c7ba5049a4fe27,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14681,0e9a915bf893faa9160ab1a144c7ba5049a4fe27,/7/jre8-alpine/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
14682,0e9a915bf893faa9160ab1a144c7ba5049a4fe27,/7/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14683,0e9a915bf893faa9160ab1a144c7ba5049a4fe27,/7/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
14684,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre11/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14685,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre11/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
14686,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre11/Dockerfile,"# only add stretch if we're not already building from within stretch
"
14687,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre11/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
14688,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre11/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
14689,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre11/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14690,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre11/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14691,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre11/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
14692,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre11/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14693,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre11/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14694,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre11/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14695,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre11/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14696,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre11/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14697,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre11/Dockerfile,"# verify Tomcat Native is working properly
"
14698,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14699,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14700,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14701,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14702,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
14703,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
14704,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
14705,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14706,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14707,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14708,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14709,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
14710,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14711,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14712,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14713,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14714,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
14715,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
14716,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
14717,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14718,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14719,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14720,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14721,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
14722,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14723,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14724,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14725,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14726,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
14727,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
14728,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14729,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14730,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14731,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14732,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
14733,78b5ae4bf558d626859cbb63b2837fd6980ca1f1,/6/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14734,78b5ae4bf558d626859cbb63b2837fd6980ca1f1,/6/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
14735,78b5ae4bf558d626859cbb63b2837fd6980ca1f1,/6/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
14736,78b5ae4bf558d626859cbb63b2837fd6980ca1f1,/6/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
14737,78b5ae4bf558d626859cbb63b2837fd6980ca1f1,/6/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14738,78b5ae4bf558d626859cbb63b2837fd6980ca1f1,/6/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14739,78b5ae4bf558d626859cbb63b2837fd6980ca1f1,/6/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14740,78b5ae4bf558d626859cbb63b2837fd6980ca1f1,/6/jre7/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
14741,612749027978d45b348c04a692f267e4052f3c71,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14742,612749027978d45b348c04a692f267e4052f3c71,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
14743,612749027978d45b348c04a692f267e4052f3c71,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
14744,612749027978d45b348c04a692f267e4052f3c71,/7/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
14745,612749027978d45b348c04a692f267e4052f3c71,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14746,612749027978d45b348c04a692f267e4052f3c71,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14747,612749027978d45b348c04a692f267e4052f3c71,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14748,612749027978d45b348c04a692f267e4052f3c71,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
14749,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14750,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14751,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
14752,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
14753,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
14754,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14755,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14756,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
14757,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
14758,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
14759,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
14760,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14761,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14762,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14763,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
14764,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14765,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
14766,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14767,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14768,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/7/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
14769,656c22d037ccaa6adaedbb791febbd2e5197fadd,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14770,656c22d037ccaa6adaedbb791febbd2e5197fadd,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14771,656c22d037ccaa6adaedbb791febbd2e5197fadd,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14772,656c22d037ccaa6adaedbb791febbd2e5197fadd,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14773,656c22d037ccaa6adaedbb791febbd2e5197fadd,/8.5/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
14774,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14775,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
14776,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
14777,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/7/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
14778,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
14779,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
14780,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14781,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14782,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14783,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14784,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/7/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
14785,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14786,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14787,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14788,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14789,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14790,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14791,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14792,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14793,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
14794,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14795,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14796,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14797,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14798,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre7-alpine/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
14799,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14800,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
14801,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14802,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14803,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14804,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14805,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14806,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14807,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14808,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14809,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
14810,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14811,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14812,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14813,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14814,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
14815,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
14816,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
14817,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14818,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14819,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14820,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14821,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
14822,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14823,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14824,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
14825,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
14826,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
14827,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14828,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14829,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
14830,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
14831,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
14832,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
14833,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14834,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14835,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14836,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
14837,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14838,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14839,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14840,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14841,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
14842,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
14843,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
14844,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14845,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14846,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14847,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14848,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
14849,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14850,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14851,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
14852,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
14853,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
14854,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14855,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14856,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
14857,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
14858,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14859,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14860,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14861,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
14862,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14863,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14864,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14865,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14866,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
14867,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
14868,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
14869,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14870,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14871,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14872,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14873,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
14874,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14875,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14876,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14877,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14878,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
14879,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
14880,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
14881,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14882,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14883,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14884,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14885,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
14886,9a0ce75409536c8c72ef266654d8a64e9354f7e9,/6/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14887,9a0ce75409536c8c72ef266654d8a64e9354f7e9,/6/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
14888,9a0ce75409536c8c72ef266654d8a64e9354f7e9,/6/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
14889,9a0ce75409536c8c72ef266654d8a64e9354f7e9,/6/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
14890,9a0ce75409536c8c72ef266654d8a64e9354f7e9,/6/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14891,9a0ce75409536c8c72ef266654d8a64e9354f7e9,/6/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14892,9a0ce75409536c8c72ef266654d8a64e9354f7e9,/6/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14893,9a0ce75409536c8c72ef266654d8a64e9354f7e9,/6/jre7/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
14894,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14895,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
14896,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
14897,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
14898,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
14899,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14900,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14901,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
14902,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14903,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14904,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14905,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
14906,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk11/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14907,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk11/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14908,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk11/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14909,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk11/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14910,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk11/openjdk-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
14911,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk11/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
14912,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk11/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
14913,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk11/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14914,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk11/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14915,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk11/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14916,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk11/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14917,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk11/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
14918,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre7-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14919,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre7-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
14920,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre7-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
14921,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre7-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
14922,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre7-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
14923,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre7-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14924,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre7-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14925,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre7-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
14926,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre7-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14927,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre7-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14928,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre7-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14929,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre7-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
14930,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14931,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14932,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
14933,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
14934,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
14935,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14936,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14937,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-oracle/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
14938,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-oracle/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
14939,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-oracle/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
14940,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
14941,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
14942,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14943,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14944,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14945,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
14946,42acf24d6056b82d396da6658943f5c26e7b5cc1,/6-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
14947,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk13/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14948,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk13/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14949,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk13/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
14950,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk13/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
14951,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk13/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
14952,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk13/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14953,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk13/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14954,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk13/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
14955,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk13/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
14956,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk13/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14957,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk13/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14958,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk13/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14959,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk13/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
14960,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14961,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
14962,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
14963,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/8.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
14964,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14965,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14966,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14967,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
14968,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14969,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14970,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14971,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14972,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
14973,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
14974,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14975,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14976,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14977,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14978,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
14979,3c72bd6721ab6645badc72c164cbe6f3a8970bdb,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14980,3c72bd6721ab6645badc72c164cbe6f3a8970bdb,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
14981,3c72bd6721ab6645badc72c164cbe6f3a8970bdb,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
14982,3c72bd6721ab6645badc72c164cbe6f3a8970bdb,/8.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
14983,3c72bd6721ab6645badc72c164cbe6f3a8970bdb,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14984,3c72bd6721ab6645badc72c164cbe6f3a8970bdb,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14985,3c72bd6721ab6645badc72c164cbe6f3a8970bdb,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14986,3c72bd6721ab6645badc72c164cbe6f3a8970bdb,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
14987,51f9cbc7c310671209ce69e128738a74593de870,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14988,51f9cbc7c310671209ce69e128738a74593de870,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
14989,51f9cbc7c310671209ce69e128738a74593de870,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
14990,51f9cbc7c310671209ce69e128738a74593de870,/7/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
14991,51f9cbc7c310671209ce69e128738a74593de870,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14992,51f9cbc7c310671209ce69e128738a74593de870,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14993,51f9cbc7c310671209ce69e128738a74593de870,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14994,51f9cbc7c310671209ce69e128738a74593de870,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
14995,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14996,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
14997,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
14998,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
14999,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
15000,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15001,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15002,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
15003,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15004,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15005,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15006,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
15007,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15008,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15009,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
15010,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
15011,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
15012,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15013,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
15014,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
15015,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
15016,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
15017,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
15018,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
15019,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15020,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15021,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15022,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
15023,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/7/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15024,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/7/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15025,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/7/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15026,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/7/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
15027,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/7/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15028,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/7/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15029,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/7/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15030,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/7/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15031,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/7/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
15032,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15033,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15034,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
15035,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
15036,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
15037,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15038,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
15039,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
15040,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
15041,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
15042,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
15043,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
15044,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15045,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15046,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15047,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
15048,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15049,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15050,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15051,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
15052,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15053,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15054,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15055,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15056,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
15057,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15058,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15059,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15060,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
15061,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
15062,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
15063,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
15064,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15065,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15066,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15067,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15068,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
15069,9355db128c52e0463e37d2fbd267c0ea33ed0b19,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15070,9355db128c52e0463e37d2fbd267c0ea33ed0b19,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
15071,9355db128c52e0463e37d2fbd267c0ea33ed0b19,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
15072,9355db128c52e0463e37d2fbd267c0ea33ed0b19,/7/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
15073,9355db128c52e0463e37d2fbd267c0ea33ed0b19,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15074,9355db128c52e0463e37d2fbd267c0ea33ed0b19,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15075,9355db128c52e0463e37d2fbd267c0ea33ed0b19,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15076,9355db128c52e0463e37d2fbd267c0ea33ed0b19,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
15077,656c22d037ccaa6adaedbb791febbd2e5197fadd,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15078,656c22d037ccaa6adaedbb791febbd2e5197fadd,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15079,656c22d037ccaa6adaedbb791febbd2e5197fadd,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15080,656c22d037ccaa6adaedbb791febbd2e5197fadd,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15081,656c22d037ccaa6adaedbb791febbd2e5197fadd,/7/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
15082,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15083,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15084,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15085,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
15086,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15087,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15088,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15089,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15090,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15091,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
15092,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15093,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
15094,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
15095,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
15096,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
15097,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15098,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15099,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
15100,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15101,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15102,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15103,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
15104,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15105,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15106,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
15107,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
15108,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
15109,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15110,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
15111,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
15112,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
15113,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15114,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15115,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15116,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
15117,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/8.5/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15118,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/8.5/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15119,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/8.5/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15120,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/8.5/jdk8/corretto/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
15121,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/8.5/jdk8/corretto/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15122,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/8.5/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
15123,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/8.5/jdk8/corretto/Dockerfile,"#?}}""; \
"
15124,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/8.5/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
15125,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/8.5/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
15126,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/8.5/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
15127,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/8.5/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15128,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/8.5/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15129,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/8.5/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15130,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/8.5/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
15131,85486f9d3edfa08a827037e556924b1aeb7069d9,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15132,85486f9d3edfa08a827037e556924b1aeb7069d9,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15133,85486f9d3edfa08a827037e556924b1aeb7069d9,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15134,85486f9d3edfa08a827037e556924b1aeb7069d9,/7/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
15135,85486f9d3edfa08a827037e556924b1aeb7069d9,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15136,85486f9d3edfa08a827037e556924b1aeb7069d9,/7/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
15137,85486f9d3edfa08a827037e556924b1aeb7069d9,/7/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15138,85486f9d3edfa08a827037e556924b1aeb7069d9,/7/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
15139,fae008566295d1eec89de04385215fdd54eceda5,/8.5/jre10-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15140,fae008566295d1eec89de04385215fdd54eceda5,/8.5/jre10-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
15141,fae008566295d1eec89de04385215fdd54eceda5,/8.5/jre10-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
15142,fae008566295d1eec89de04385215fdd54eceda5,/8.5/jre10-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
15143,fae008566295d1eec89de04385215fdd54eceda5,/8.5/jre10-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
15144,fae008566295d1eec89de04385215fdd54eceda5,/8.5/jre10-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15145,fae008566295d1eec89de04385215fdd54eceda5,/8.5/jre10-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15146,fae008566295d1eec89de04385215fdd54eceda5,/8.5/jre10-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
15147,fae008566295d1eec89de04385215fdd54eceda5,/8.5/jre10-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15148,fae008566295d1eec89de04385215fdd54eceda5,/8.5/jre10-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15149,fae008566295d1eec89de04385215fdd54eceda5,/8.5/jre10-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15150,fae008566295d1eec89de04385215fdd54eceda5,/8.5/jre10-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
15151,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15152,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15153,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15154,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
15155,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15156,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15157,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15158,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15159,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
15160,82b1da640aa15ff2e9713e59dba3dbf7487d6815,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15161,82b1da640aa15ff2e9713e59dba3dbf7487d6815,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15162,82b1da640aa15ff2e9713e59dba3dbf7487d6815,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15163,82b1da640aa15ff2e9713e59dba3dbf7487d6815,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15164,82b1da640aa15ff2e9713e59dba3dbf7487d6815,/8.5/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
15165,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15166,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15167,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15168,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk8/corretto/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
15169,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk8/corretto/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15170,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
15171,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
15172,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
15173,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
15174,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
15175,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15176,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15177,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15178,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
15179,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15180,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15181,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15182,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
15183,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15184,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15185,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15186,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15187,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
15188,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15189,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15190,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15191,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15192,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre8-alpine/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
15193,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15194,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
15195,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15196,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15197,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15198,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
15199,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15200,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15201,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15202,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15203,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
15204,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15205,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15206,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15207,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
15208,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
15209,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
15210,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15211,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15212,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15213,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15214,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
15215,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15216,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
15217,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
15218,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/7/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
15219,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15220,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15221,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15222,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
15223,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre11/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15224,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre11/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
15225,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre11/Dockerfile,"# only add stretch if we're not already building from within stretch
"
15226,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre11/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
15227,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre11/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
15228,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre11/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15229,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre11/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15230,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre11/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
15231,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre11/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15232,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre11/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15233,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre11/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15234,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre11/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15235,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre11/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15236,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre11/Dockerfile,"# verify Tomcat Native is working properly
"
15237,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15238,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15239,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15240,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
15241,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15242,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15243,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15244,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15245,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
15246,55a3f09bc475c11c23f6a972b17766b2f68c29a0,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15247,55a3f09bc475c11c23f6a972b17766b2f68c29a0,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15248,55a3f09bc475c11c23f6a972b17766b2f68c29a0,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15249,55a3f09bc475c11c23f6a972b17766b2f68c29a0,/9.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
15250,55a3f09bc475c11c23f6a972b17766b2f68c29a0,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15251,55a3f09bc475c11c23f6a972b17766b2f68c29a0,/9.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
15252,55a3f09bc475c11c23f6a972b17766b2f68c29a0,/9.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15253,55a3f09bc475c11c23f6a972b17766b2f68c29a0,/9.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
15254,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15255,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15256,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15257,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
15258,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
15259,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
15260,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
15261,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15262,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15263,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15264,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15265,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
15266,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15267,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
15268,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
15269,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
15270,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
15271,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15272,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15273,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
15274,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15275,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15276,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15277,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
15278,5b0cd615bf08392873a4802dfee2efabf1d71456,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15279,5b0cd615bf08392873a4802dfee2efabf1d71456,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15280,5b0cd615bf08392873a4802dfee2efabf1d71456,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15281,5b0cd615bf08392873a4802dfee2efabf1d71456,/9.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
15282,5b0cd615bf08392873a4802dfee2efabf1d71456,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15283,5b0cd615bf08392873a4802dfee2efabf1d71456,/9.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
15284,5b0cd615bf08392873a4802dfee2efabf1d71456,/9.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15285,5b0cd615bf08392873a4802dfee2efabf1d71456,/9.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
15286,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15287,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15288,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
15289,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
15290,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
15291,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15292,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
15293,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
15294,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
15295,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
15296,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
15297,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15298,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15299,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15300,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
15301,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15302,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
15303,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/8.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
15304,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
15305,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/8.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
15306,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15307,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15308,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15309,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/8.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15310,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/8.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
15311,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15312,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15313,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15314,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15315,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre7-alpine/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
15316,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15317,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
15318,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15319,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15320,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15321,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
15322,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
15323,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
15324,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
15325,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15326,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15327,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15328,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15329,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
15330,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15331,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15332,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15333,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
15334,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
15335,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
15336,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15337,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15338,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15339,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15340,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
15341,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15342,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15343,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
15344,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
15345,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
15346,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15347,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
15348,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
15349,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
15350,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
15351,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
15352,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
15353,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15354,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15355,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15356,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
15357,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15358,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15359,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15360,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk8/openjdk/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
15361,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk8/openjdk/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15362,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15363,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15364,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15365,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15366,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
15367,676f0e07000cd25c027b71d2433ddf531a75eefd,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15368,676f0e07000cd25c027b71d2433ddf531a75eefd,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
15369,676f0e07000cd25c027b71d2433ddf531a75eefd,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
15370,676f0e07000cd25c027b71d2433ddf531a75eefd,/8.0/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
15371,676f0e07000cd25c027b71d2433ddf531a75eefd,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
15372,676f0e07000cd25c027b71d2433ddf531a75eefd,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
15373,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15374,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15375,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15376,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
15377,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15378,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15379,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15380,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15381,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15382,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
15383,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15384,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15385,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15386,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
15387,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
15388,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
15389,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
15390,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15391,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15392,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15393,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15394,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
15395,85486f9d3edfa08a827037e556924b1aeb7069d9,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15396,85486f9d3edfa08a827037e556924b1aeb7069d9,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15397,85486f9d3edfa08a827037e556924b1aeb7069d9,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15398,85486f9d3edfa08a827037e556924b1aeb7069d9,/7/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
15399,85486f9d3edfa08a827037e556924b1aeb7069d9,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15400,85486f9d3edfa08a827037e556924b1aeb7069d9,/7/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
15401,85486f9d3edfa08a827037e556924b1aeb7069d9,/7/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15402,85486f9d3edfa08a827037e556924b1aeb7069d9,/7/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
15403,9a104de6086d4a05ca08c193e25ec45a379ba4b2,/6-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
15404,656c22d037ccaa6adaedbb791febbd2e5197fadd,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15405,656c22d037ccaa6adaedbb791febbd2e5197fadd,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15406,656c22d037ccaa6adaedbb791febbd2e5197fadd,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15407,656c22d037ccaa6adaedbb791febbd2e5197fadd,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15408,656c22d037ccaa6adaedbb791febbd2e5197fadd,/7/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
15409,92b97a945a2241f868a91d2919e0e7e3f5c84216,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
15410,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15411,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15412,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
15413,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
15414,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
15415,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15416,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
15417,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
15418,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
15419,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
15420,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
15421,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
15422,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15423,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15424,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15425,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
15426,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk13/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15427,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk13/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15428,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk13/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15429,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk13/openjdk-oracle/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
15430,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk13/openjdk-oracle/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15431,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk13/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
15432,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk13/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
15433,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk13/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
15434,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk13/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
15435,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk13/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
15436,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk13/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15437,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk13/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15438,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk13/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15439,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk13/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
15440,f26c14147f9affae8f32100430130271fc82bd3e,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15441,f26c14147f9affae8f32100430130271fc82bd3e,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
15442,f26c14147f9affae8f32100430130271fc82bd3e,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
15443,f26c14147f9affae8f32100430130271fc82bd3e,/9.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
15444,f26c14147f9affae8f32100430130271fc82bd3e,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15445,f26c14147f9affae8f32100430130271fc82bd3e,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15446,f26c14147f9affae8f32100430130271fc82bd3e,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15447,f26c14147f9affae8f32100430130271fc82bd3e,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
15448,7d5b334fc0770be842991ed9d8168c5b1ebb86f8,/8-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
15449,2045c78917577ff88fbe6787a11041047eb3a3bc,/6/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
15450,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15451,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15452,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15453,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
15454,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15455,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15456,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15457,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15458,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
15459,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15460,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
15461,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
15462,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
15463,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
15464,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15465,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15466,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
15467,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15468,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15469,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15470,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
15471,075a394e34f7329415e87ad5f0d77d46aac24876,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15472,075a394e34f7329415e87ad5f0d77d46aac24876,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15473,075a394e34f7329415e87ad5f0d77d46aac24876,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15474,075a394e34f7329415e87ad5f0d77d46aac24876,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15475,075a394e34f7329415e87ad5f0d77d46aac24876,/9.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
15476,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15477,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15478,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15479,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
15480,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15481,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15482,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15483,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15484,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
15485,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15486,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15487,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
15488,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
15489,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
15490,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15491,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
15492,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
15493,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
15494,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
15495,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
15496,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15497,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15498,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15499,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
15500,8a2acf4ccfa691465fa41c0828ab6ea47225dfd0,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15501,8a2acf4ccfa691465fa41c0828ab6ea47225dfd0,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15502,8a2acf4ccfa691465fa41c0828ab6ea47225dfd0,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15503,8a2acf4ccfa691465fa41c0828ab6ea47225dfd0,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15504,8a2acf4ccfa691465fa41c0828ab6ea47225dfd0,/8.5/jre8-alpine/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
15505,8a2acf4ccfa691465fa41c0828ab6ea47225dfd0,/8.5/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
15506,8a2acf4ccfa691465fa41c0828ab6ea47225dfd0,/8.5/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15507,8a2acf4ccfa691465fa41c0828ab6ea47225dfd0,/8.5/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
15508,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15509,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15510,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15511,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
15512,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
15513,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
15514,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
15515,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15516,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15517,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15518,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15519,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
15520,6f1c628fa92feea8b28e98e56a990500f2326936,/7-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
15521,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15522,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15523,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15524,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
15525,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15526,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
15527,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15528,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
15529,a227157792e94c669148c3c2a09072fb317070e0,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15530,a227157792e94c669148c3c2a09072fb317070e0,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
15531,a227157792e94c669148c3c2a09072fb317070e0,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
15532,a227157792e94c669148c3c2a09072fb317070e0,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
15533,a227157792e94c669148c3c2a09072fb317070e0,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
15534,a227157792e94c669148c3c2a09072fb317070e0,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15535,a227157792e94c669148c3c2a09072fb317070e0,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15536,a227157792e94c669148c3c2a09072fb317070e0,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15537,a227157792e94c669148c3c2a09072fb317070e0,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15538,a227157792e94c669148c3c2a09072fb317070e0,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
15539,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15540,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15541,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15542,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk8/openjdk/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
15543,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk8/openjdk/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15544,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15545,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15546,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15547,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15548,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
15549,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre9-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15550,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre9-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
15551,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre9-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
15552,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre9-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
15553,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre9-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
15554,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre9-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15555,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre9-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15556,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre9-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
15557,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre9-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15558,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre9-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15559,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre9-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15560,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre9-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
15561,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre7-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15562,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre7-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
15563,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre7-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
15564,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre7-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
15565,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre7-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
15566,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre7-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15567,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre7-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15568,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre7-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
15569,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre7-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15570,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre7-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15571,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre7-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15572,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre7-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
15573,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15574,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15575,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15576,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
15577,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
15578,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
15579,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15580,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15581,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15582,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15583,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
15584,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15585,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
15586,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
15587,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
15588,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
15589,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15590,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15591,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
15592,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15593,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15594,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15595,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15596,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15597,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
15598,db35ce4f9b3ea68419f5c0a908cbf83343bbc0ca,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15599,db35ce4f9b3ea68419f5c0a908cbf83343bbc0ca,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
15600,db35ce4f9b3ea68419f5c0a908cbf83343bbc0ca,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
15601,db35ce4f9b3ea68419f5c0a908cbf83343bbc0ca,/8.5/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
15602,db35ce4f9b3ea68419f5c0a908cbf83343bbc0ca,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15603,db35ce4f9b3ea68419f5c0a908cbf83343bbc0ca,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15604,db35ce4f9b3ea68419f5c0a908cbf83343bbc0ca,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15605,db35ce4f9b3ea68419f5c0a908cbf83343bbc0ca,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
15606,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15607,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15608,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15609,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
15610,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
15611,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
15612,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
15613,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15614,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15615,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15616,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15617,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
15618,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15619,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15620,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15621,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
15622,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
15623,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
15624,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15625,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15626,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15627,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15628,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
15629,ec75141e3cb6276b07d66c16042152e2d4de119c,/8.0/jre7/Dockerfile,"# runtime dependency for Tomcat Native Libraries
"
15630,ec75141e3cb6276b07d66c16042152e2d4de119c,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
15631,ec75141e3cb6276b07d66c16042152e2d4de119c,/8.0/jre7/Dockerfile,"# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)

"
15632,ec75141e3cb6276b07d66c16042152e2d4de119c,/8.0/jre7/Dockerfile,"# http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5048274.html (ie, HACK HACK HACK)
"
15633,ec75141e3cb6276b07d66c16042152e2d4de119c,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
15634,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15635,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15636,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
15637,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
15638,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
15639,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15640,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
15641,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-oracle/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
15642,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-oracle/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
15643,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-oracle/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
15644,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
15645,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
15646,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15647,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15648,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15649,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
15650,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15651,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15652,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15653,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
15654,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
15655,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
15656,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15657,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15658,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15659,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15660,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
15661,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15662,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15663,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15664,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
15665,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15666,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15667,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15668,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15669,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
15670,e06eaa32013932a95835399c0ae4a497134db0a5,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15671,e06eaa32013932a95835399c0ae4a497134db0a5,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
15672,e06eaa32013932a95835399c0ae4a497134db0a5,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
15673,e06eaa32013932a95835399c0ae4a497134db0a5,/8.5/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
15674,e06eaa32013932a95835399c0ae4a497134db0a5,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15675,e06eaa32013932a95835399c0ae4a497134db0a5,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15676,e06eaa32013932a95835399c0ae4a497134db0a5,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15677,e06eaa32013932a95835399c0ae4a497134db0a5,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
15678,ed98c30c1cd42c53831f64dffa78a0abf7db8e9a,/8-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
15679,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15680,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
15681,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
15682,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
15683,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
15684,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15685,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15686,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15687,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre7/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
15688,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15689,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
15690,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15691,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
15692,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
15693,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
15694,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
15695,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15696,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15697,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
15698,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15699,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15700,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15701,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15702,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15703,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk8/Dockerfile,"# verify Tomcat Native is working properly
"
15704,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15705,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15706,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
15707,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
15708,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
15709,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15710,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
15711,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-oracle/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
15712,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-oracle/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
15713,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-oracle/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
15714,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
15715,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
15716,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15717,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15718,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15719,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
15720,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15721,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15722,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15723,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
15724,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
15725,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
15726,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15727,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15728,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15729,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15730,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
15731,20a00bb175913f9597ba3831bacbe99d2a470403,/7/jdk8/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15732,20a00bb175913f9597ba3831bacbe99d2a470403,/7/jdk8/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15733,20a00bb175913f9597ba3831bacbe99d2a470403,/7/jdk8/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15734,20a00bb175913f9597ba3831bacbe99d2a470403,/7/jdk8/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
15735,20a00bb175913f9597ba3831bacbe99d2a470403,/7/jdk8/openjdk-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
15736,20a00bb175913f9597ba3831bacbe99d2a470403,/7/jdk8/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
15737,20a00bb175913f9597ba3831bacbe99d2a470403,/7/jdk8/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
15738,20a00bb175913f9597ba3831bacbe99d2a470403,/7/jdk8/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15739,20a00bb175913f9597ba3831bacbe99d2a470403,/7/jdk8/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15740,20a00bb175913f9597ba3831bacbe99d2a470403,/7/jdk8/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15741,20a00bb175913f9597ba3831bacbe99d2a470403,/7/jdk8/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15742,20a00bb175913f9597ba3831bacbe99d2a470403,/7/jdk8/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
15743,d9a438155caff88fad8114297954e2347b534ce3,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15744,d9a438155caff88fad8114297954e2347b534ce3,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
15745,d9a438155caff88fad8114297954e2347b534ce3,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
15746,d9a438155caff88fad8114297954e2347b534ce3,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
15747,d9a438155caff88fad8114297954e2347b534ce3,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
15748,d9a438155caff88fad8114297954e2347b534ce3,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15749,d9a438155caff88fad8114297954e2347b534ce3,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15750,d9a438155caff88fad8114297954e2347b534ce3,/8.5/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
15751,d9a438155caff88fad8114297954e2347b534ce3,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15752,d9a438155caff88fad8114297954e2347b534ce3,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15753,d9a438155caff88fad8114297954e2347b534ce3,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
15754,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15755,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15756,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
15757,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
15758,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
15759,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15760,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
15761,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
15762,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
15763,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
15764,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
15765,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15766,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15767,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15768,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
15769,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15770,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15771,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15772,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
15773,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15774,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15775,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15776,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15777,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
15778,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15779,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
15780,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
15781,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
15782,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
15783,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15784,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15785,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
15786,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15787,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15788,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15789,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15790,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15791,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
15792,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre7-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15793,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre7-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
15794,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre7-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
15795,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre7-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
15796,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre7-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
15797,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre7-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15798,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre7-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15799,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre7-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
15800,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre7-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15801,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre7-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15802,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre7-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15803,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre7-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
15804,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15805,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15806,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15807,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
15808,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15809,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15810,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15811,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15812,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
15813,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15814,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15815,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15816,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15817,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre8-alpine/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
15818,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15819,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
15820,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15821,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15822,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15823,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15824,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/9.0/jre8-alpine/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
15825,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/9.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
15826,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/9.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15827,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/9.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
15828,f26c14147f9affae8f32100430130271fc82bd3e,/6/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15829,f26c14147f9affae8f32100430130271fc82bd3e,/6/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
15830,f26c14147f9affae8f32100430130271fc82bd3e,/6/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
15831,f26c14147f9affae8f32100430130271fc82bd3e,/6/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
15832,f26c14147f9affae8f32100430130271fc82bd3e,/6/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15833,f26c14147f9affae8f32100430130271fc82bd3e,/6/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15834,f26c14147f9affae8f32100430130271fc82bd3e,/6/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15835,f26c14147f9affae8f32100430130271fc82bd3e,/6/jre8/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
15836,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15837,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15838,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15839,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15840,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/7/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
15841,58c79694a83a12077150ad57b8dd46296548b958,/8.5/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15842,58c79694a83a12077150ad57b8dd46296548b958,/8.5/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15843,58c79694a83a12077150ad57b8dd46296548b958,/8.5/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15844,58c79694a83a12077150ad57b8dd46296548b958,/8.5/jdk11/corretto/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
15845,58c79694a83a12077150ad57b8dd46296548b958,/8.5/jdk11/corretto/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15846,58c79694a83a12077150ad57b8dd46296548b958,/8.5/jdk11/corretto/Dockerfile,"# TODO should we leave these installed, or remove them too?
"
15847,58c79694a83a12077150ad57b8dd46296548b958,/8.5/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html (updating ""reason"" to ""user"" for tomcat-native build dependencies)
# TODO find a better/cleaner way to generically interact with the yumdb for the purposes of marking things as automatically/manually installed
"
15848,58c79694a83a12077150ad57b8dd46296548b958,/8.5/jdk11/corretto/Dockerfile,"# TODO handle ""$nativeBuildDeps"" in a similarly generic way?
"
15849,58c79694a83a12077150ad57b8dd46296548b958,/8.5/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15850,58c79694a83a12077150ad57b8dd46296548b958,/8.5/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15851,58c79694a83a12077150ad57b8dd46296548b958,/8.5/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15852,58c79694a83a12077150ad57b8dd46296548b958,/8.5/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
15853,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15854,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15855,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
15856,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
15857,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
15858,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15859,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
15860,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
15861,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
15862,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
15863,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
15864,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
15865,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15866,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15867,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15868,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
15869,06a7e79e30595058df3c2fec9c769e47e2bca56d,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15870,06a7e79e30595058df3c2fec9c769e47e2bca56d,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
15871,06a7e79e30595058df3c2fec9c769e47e2bca56d,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
15872,06a7e79e30595058df3c2fec9c769e47e2bca56d,/7/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
15873,06a7e79e30595058df3c2fec9c769e47e2bca56d,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15874,06a7e79e30595058df3c2fec9c769e47e2bca56d,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15875,06a7e79e30595058df3c2fec9c769e47e2bca56d,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15876,06a7e79e30595058df3c2fec9c769e47e2bca56d,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
15877,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15878,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
15879,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/9.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
15880,0e9a915bf893faa9160ab1a144c7ba5049a4fe27,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15881,0e9a915bf893faa9160ab1a144c7ba5049a4fe27,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15882,0e9a915bf893faa9160ab1a144c7ba5049a4fe27,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15883,0e9a915bf893faa9160ab1a144c7ba5049a4fe27,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15884,0e9a915bf893faa9160ab1a144c7ba5049a4fe27,/7/jre7-alpine/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
15885,0e9a915bf893faa9160ab1a144c7ba5049a4fe27,/7/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15886,0e9a915bf893faa9160ab1a144c7ba5049a4fe27,/7/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
15887,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15888,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15889,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15890,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
15891,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15892,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15893,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15894,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15895,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
15896,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15897,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
15898,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
15899,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
15900,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
15901,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15902,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15903,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
15904,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15905,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre7/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15906,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15907,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
15908,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15909,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
15910,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15911,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15912,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/7/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
15913,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15914,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
15915,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
15916,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
15917,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
15918,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15919,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15920,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
15921,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15922,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15923,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15924,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15925,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15926,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
15927,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15928,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
15929,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
15930,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
15931,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
15932,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15933,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15934,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
15935,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15936,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15937,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15938,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
15939,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15940,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
15941,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
15942,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
15943,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
15944,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15945,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15946,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
15947,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15948,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15949,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15950,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15951,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15952,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
15953,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15954,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
15955,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
15956,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
15957,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
15958,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15959,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15960,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
15961,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15962,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15963,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
15964,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15965,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15966,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15967,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
15968,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
15969,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
15970,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15971,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15972,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15973,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15974,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
15975,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15976,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15977,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
15978,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
15979,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
15980,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15981,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
15982,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
15983,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
15984,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15985,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15986,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15987,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
15988,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15989,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
15990,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/7/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
15991,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre9-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15992,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre9-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
15993,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre9-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
15994,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre9-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
15995,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre9-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
15996,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre9-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15997,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre9-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15998,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre9-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
15999,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre9-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
16000,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre9-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
16001,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre9-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16002,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre9-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
16003,fa5fe9c4327c92a99fa2ae63ff876acc8e5389e5,/7-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
16004,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16005,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16006,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16007,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
16008,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
16009,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
16010,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
16011,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
16012,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16013,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
16014,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
16015,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
16016,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16017,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16018,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16019,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
16020,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
16021,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16022,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
16023,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
16024,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
16025,c130c5c596edced66978f54b4d7fd8b4c2637719,/8.5/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16026,c130c5c596edced66978f54b4d7fd8b4c2637719,/8.5/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16027,c130c5c596edced66978f54b4d7fd8b4c2637719,/8.5/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16028,c130c5c596edced66978f54b4d7fd8b4c2637719,/8.5/jdk8/corretto/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
16029,c130c5c596edced66978f54b4d7fd8b4c2637719,/8.5/jdk8/corretto/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
16030,c130c5c596edced66978f54b4d7fd8b4c2637719,/8.5/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
16031,c130c5c596edced66978f54b4d7fd8b4c2637719,/8.5/jdk8/corretto/Dockerfile,"#?}}""; \
"
16032,c130c5c596edced66978f54b4d7fd8b4c2637719,/8.5/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
16033,c130c5c596edced66978f54b4d7fd8b4c2637719,/8.5/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
16034,c130c5c596edced66978f54b4d7fd8b4c2637719,/8.5/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
16035,c130c5c596edced66978f54b4d7fd8b4c2637719,/8.5/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16036,c130c5c596edced66978f54b4d7fd8b4c2637719,/8.5/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
16037,c130c5c596edced66978f54b4d7fd8b4c2637719,/8.5/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
16038,c130c5c596edced66978f54b4d7fd8b4c2637719,/8.5/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
16039,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16040,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16041,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16042,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
16043,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
16044,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
16045,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
16046,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16047,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
16048,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
16049,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
16050,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16051,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16052,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16053,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
16054,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/openjdk-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
16055,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
16056,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
16057,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
16058,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16059,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
16060,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
16061,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
16062,221fa4f6f1abfa3f033d4be781fa48faecbee212,/8-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
16063,d759792f71eb5889c1e73c01d47a2e1b2a6bae7b,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16064,d759792f71eb5889c1e73c01d47a2e1b2a6bae7b,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
16065,d759792f71eb5889c1e73c01d47a2e1b2a6bae7b,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
16066,d759792f71eb5889c1e73c01d47a2e1b2a6bae7b,/9.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
16067,d759792f71eb5889c1e73c01d47a2e1b2a6bae7b,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16068,d759792f71eb5889c1e73c01d47a2e1b2a6bae7b,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16069,d759792f71eb5889c1e73c01d47a2e1b2a6bae7b,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
16070,d759792f71eb5889c1e73c01d47a2e1b2a6bae7b,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
16071,1691653797eb1f26b4e1d4898c71094ff9104e0e,/6-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
16072,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16073,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
16074,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
16075,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
16076,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
16077,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16078,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16079,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
16080,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
16081,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre7/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
16082,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16083,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
16084,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16085,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16086,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16087,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
16088,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
16089,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
16090,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
16091,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16092,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
16093,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
16094,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
16095,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk13/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16096,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk13/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16097,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk13/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
16098,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk13/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
16099,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk13/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
16100,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk13/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16101,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk13/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
16102,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk13/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
16103,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk13/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
16104,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk13/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16105,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk13/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
16106,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk13/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
16107,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk13/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
16108,9040855496452d91d7b0d8abbfd70c60448a07a1,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16109,9040855496452d91d7b0d8abbfd70c60448a07a1,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16110,9040855496452d91d7b0d8abbfd70c60448a07a1,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16111,9040855496452d91d7b0d8abbfd70c60448a07a1,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
16112,9040855496452d91d7b0d8abbfd70c60448a07a1,/8.5/jre8-alpine/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
16113,9040855496452d91d7b0d8abbfd70c60448a07a1,/8.5/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16114,9040855496452d91d7b0d8abbfd70c60448a07a1,/8.5/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
16115,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16116,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
16117,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
16118,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
16119,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
16120,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16121,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16122,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
16123,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
16124,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
16125,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16126,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
16127,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16128,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
16129,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
16130,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
16131,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
16132,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16133,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16134,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
16135,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
16136,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
16137,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16138,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
16139,9440e94bb99dbb82354c6e46a86a4f3228021956,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16140,9440e94bb99dbb82354c6e46a86a4f3228021956,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
16141,9440e94bb99dbb82354c6e46a86a4f3228021956,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
16142,9440e94bb99dbb82354c6e46a86a4f3228021956,/8.0/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
16143,9440e94bb99dbb82354c6e46a86a4f3228021956,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
16144,9440e94bb99dbb82354c6e46a86a4f3228021956,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16145,9440e94bb99dbb82354c6e46a86a4f3228021956,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
16146,9440e94bb99dbb82354c6e46a86a4f3228021956,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
16147,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16148,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16149,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16150,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
16151,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
16152,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
16153,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
16154,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16155,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
16156,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
16157,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
16158,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16159,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16160,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16161,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
16162,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
16163,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
16164,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
16165,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16166,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
16167,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
16168,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
16169,86d4d5031e14a9274e1fa2bd4211ab03440e883d,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16170,86d4d5031e14a9274e1fa2bd4211ab03440e883d,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16171,86d4d5031e14a9274e1fa2bd4211ab03440e883d,/8.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16172,86d4d5031e14a9274e1fa2bd4211ab03440e883d,/8.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
16173,86d4d5031e14a9274e1fa2bd4211ab03440e883d,/8.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
16174,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16175,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16176,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16177,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
16178,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
16179,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
16180,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
16181,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
16182,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16183,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
16184,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
16185,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
16186,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16187,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16188,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
16189,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
16190,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
16191,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16192,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
16193,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
16194,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
16195,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16196,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
16197,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
16198,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
16199,8a2acf4ccfa691465fa41c0828ab6ea47225dfd0,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16200,8a2acf4ccfa691465fa41c0828ab6ea47225dfd0,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16201,8a2acf4ccfa691465fa41c0828ab6ea47225dfd0,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16202,8a2acf4ccfa691465fa41c0828ab6ea47225dfd0,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
16203,8a2acf4ccfa691465fa41c0828ab6ea47225dfd0,/7/jre7-alpine/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
16204,8a2acf4ccfa691465fa41c0828ab6ea47225dfd0,/7/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
16205,8a2acf4ccfa691465fa41c0828ab6ea47225dfd0,/7/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16206,8a2acf4ccfa691465fa41c0828ab6ea47225dfd0,/7/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
16207,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16208,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16209,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
16210,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
16211,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
16212,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16213,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
16214,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
16215,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
16216,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16217,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
16218,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
16219,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
16220,c130c5c596edced66978f54b4d7fd8b4c2637719,/9.0/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16221,c130c5c596edced66978f54b4d7fd8b4c2637719,/9.0/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16222,c130c5c596edced66978f54b4d7fd8b4c2637719,/9.0/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16223,c130c5c596edced66978f54b4d7fd8b4c2637719,/9.0/jdk11/corretto/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
16224,c130c5c596edced66978f54b4d7fd8b4c2637719,/9.0/jdk11/corretto/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
16225,c130c5c596edced66978f54b4d7fd8b4c2637719,/9.0/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
16226,c130c5c596edced66978f54b4d7fd8b4c2637719,/9.0/jdk11/corretto/Dockerfile,"#?}}""; \
"
16227,c130c5c596edced66978f54b4d7fd8b4c2637719,/9.0/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
16228,c130c5c596edced66978f54b4d7fd8b4c2637719,/9.0/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
16229,c130c5c596edced66978f54b4d7fd8b4c2637719,/9.0/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
16230,c130c5c596edced66978f54b4d7fd8b4c2637719,/9.0/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16231,c130c5c596edced66978f54b4d7fd8b4c2637719,/9.0/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
16232,c130c5c596edced66978f54b4d7fd8b4c2637719,/9.0/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
16233,c130c5c596edced66978f54b4d7fd8b4c2637719,/9.0/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
16234,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16235,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16236,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
16237,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
16238,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
16239,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16240,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
16241,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
16242,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
16243,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
16244,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
16245,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
16246,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16247,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
16248,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
16249,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
16250,2c7c55c923a12607c527186fad50e6f42c3f9d6b,/7-jre7/Dockerfile,"# add our user and group first to make sure their IDs get assigned consistently, regardless of whatever dependencies get added
"
16251,2c7c55c923a12607c527186fad50e6f42c3f9d6b,/7-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
16252,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16253,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16254,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16255,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk11/corretto/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
16256,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk11/corretto/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
16257,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
16258,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
16259,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
16260,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
16261,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
16262,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16263,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
16264,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
16265,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
16266,19bdd962a61b69e3a35ddc0a8936854cc2e405f6,/8.0/jre8/Dockerfile,"# runtime dependency for Tomcat Native Libraries
"
16267,19bdd962a61b69e3a35ddc0a8936854cc2e405f6,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
16268,19bdd962a61b69e3a35ddc0a8936854cc2e405f6,/8.0/jre8/Dockerfile,"# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)

"
16269,19bdd962a61b69e3a35ddc0a8936854cc2e405f6,/8.0/jre8/Dockerfile,"# http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5048274.html (ie, HACK HACK HACK)
"
16270,19bdd962a61b69e3a35ddc0a8936854cc2e405f6,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
16271,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16272,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16273,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16274,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
16275,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
16276,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
16277,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
16278,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
16279,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16280,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
16281,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
16282,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
16283,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16284,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16285,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16286,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
16287,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
16288,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
16289,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
16290,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
16291,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16292,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
16293,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
16294,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
16295,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16296,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16297,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16298,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
16299,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
16300,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
16301,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
16302,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16303,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
16304,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
16305,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
16306,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16307,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16308,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16309,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
16310,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
16311,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
16312,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
16313,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
16314,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16315,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
16316,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
16317,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
16318,7fe8b97db15cdd3139efe72fcaeee53910560e19,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16319,7fe8b97db15cdd3139efe72fcaeee53910560e19,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16320,7fe8b97db15cdd3139efe72fcaeee53910560e19,/8.0/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16321,7fe8b97db15cdd3139efe72fcaeee53910560e19,/8.0/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
16322,7fe8b97db15cdd3139efe72fcaeee53910560e19,/8.0/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
16323,7fe8b97db15cdd3139efe72fcaeee53910560e19,/8.0/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
16324,7fe8b97db15cdd3139efe72fcaeee53910560e19,/8.0/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16325,7fe8b97db15cdd3139efe72fcaeee53910560e19,/8.0/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
16326,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16327,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16328,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16329,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
16330,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
16331,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
16332,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16333,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
16334,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
16335,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
16336,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16337,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16338,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16339,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
16340,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
16341,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
16342,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
16343,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16344,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
16345,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
16346,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
16347,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk13/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16348,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk13/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16349,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk13/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
16350,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk13/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
16351,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk13/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
16352,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk13/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16353,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk13/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
16354,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk13/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
16355,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk13/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
16356,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk13/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16357,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk13/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
16358,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk13/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
16359,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk13/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
16360,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16361,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16362,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16363,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
16364,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
16365,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
16366,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
16367,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
16368,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16369,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
16370,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
16371,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
16372,9cabcf1e71b270f31b4ff4d1a30587bb75ef3b76,/7/jre8/Dockerfile,"# runtime dependency for Tomcat Native Libraries
"
16373,9cabcf1e71b270f31b4ff4d1a30587bb75ef3b76,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
16374,9cabcf1e71b270f31b4ff4d1a30587bb75ef3b76,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
16375,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre7-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16376,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre7-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
16377,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre7-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
16378,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre7-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
16379,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre7-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
16380,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre7-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16381,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre7-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16382,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre7-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
16383,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre7-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
16384,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre7-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
16385,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre7-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16386,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre7-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
16387,4d9eeecc2d0ed70ae63b48eb203a4bc4c76481ad,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16388,4d9eeecc2d0ed70ae63b48eb203a4bc4c76481ad,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
16389,4d9eeecc2d0ed70ae63b48eb203a4bc4c76481ad,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
16390,4d9eeecc2d0ed70ae63b48eb203a4bc4c76481ad,/8.5/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
16391,4d9eeecc2d0ed70ae63b48eb203a4bc4c76481ad,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16392,4d9eeecc2d0ed70ae63b48eb203a4bc4c76481ad,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16393,4d9eeecc2d0ed70ae63b48eb203a4bc4c76481ad,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
16394,4d9eeecc2d0ed70ae63b48eb203a4bc4c76481ad,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
16395,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16396,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16397,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16398,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
16399,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
16400,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16401,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
16402,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
16403,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
16404,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk13/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16405,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk13/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16406,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk13/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
16407,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk13/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
16408,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk13/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
16409,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk13/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16410,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk13/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
16411,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk13/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
16412,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk13/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
16413,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk13/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16414,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk13/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
16415,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk13/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
16416,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk13/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
16417,f4c146bcc2f16fd1d2919a392adb46c737851dc9,/6/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16418,f4c146bcc2f16fd1d2919a392adb46c737851dc9,/6/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
16419,f4c146bcc2f16fd1d2919a392adb46c737851dc9,/6/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
16420,f4c146bcc2f16fd1d2919a392adb46c737851dc9,/6/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
16421,f4c146bcc2f16fd1d2919a392adb46c737851dc9,/6/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16422,f4c146bcc2f16fd1d2919a392adb46c737851dc9,/6/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16423,f4c146bcc2f16fd1d2919a392adb46c737851dc9,/6/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
16424,f4c146bcc2f16fd1d2919a392adb46c737851dc9,/6/jre7/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
16425,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16426,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
16427,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
16428,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/7/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
16429,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
16430,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
16431,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16432,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16433,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16434,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
16435,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
16436,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
16437,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
16438,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16439,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
16440,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
16441,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
16442,a227157792e94c669148c3c2a09072fb317070e0,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16443,a227157792e94c669148c3c2a09072fb317070e0,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16444,a227157792e94c669148c3c2a09072fb317070e0,/8.0/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16445,a227157792e94c669148c3c2a09072fb317070e0,/8.0/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
16446,a227157792e94c669148c3c2a09072fb317070e0,/8.0/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16447,a227157792e94c669148c3c2a09072fb317070e0,/8.0/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
16448,116d0258150ad27d7141d16f7492a5215a4b8fec,/7-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
16449,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre7-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16450,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre7-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
16451,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre7-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
16452,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre7-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
16453,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre7-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
16454,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre7-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16455,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre7-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16456,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre7-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
16457,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre7-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
16458,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre7-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
16459,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre7-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16460,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre7-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
16461,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16462,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16463,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16464,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
16465,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
16466,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
16467,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
16468,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
16469,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16470,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
16471,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
16472,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
16473,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16474,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16475,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16476,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
16477,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
16478,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
16479,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
16480,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
16481,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16482,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
16483,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
16484,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
16485,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16486,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16487,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16488,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
16489,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
16490,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16491,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
16492,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
16493,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
16494,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre7-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16495,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre7-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
16496,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre7-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
16497,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre7-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
16498,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre7-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
16499,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre7-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16500,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre7-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16501,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre7-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
16502,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre7-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
16503,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre7-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
16504,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre7-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16505,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre7-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
16506,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16507,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16508,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16509,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
16510,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
16511,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
16512,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
16513,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
16514,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16515,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
16516,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
16517,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
16518,4b8ed1747ba0a6e5c9f859e518cecced13335d82,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16519,4b8ed1747ba0a6e5c9f859e518cecced13335d82,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16520,4b8ed1747ba0a6e5c9f859e518cecced13335d82,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16521,4b8ed1747ba0a6e5c9f859e518cecced13335d82,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
16522,4b8ed1747ba0a6e5c9f859e518cecced13335d82,/7/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
16523,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16524,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16525,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16526,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
16527,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
16528,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
16529,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
16530,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16531,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
16532,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
16533,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
16534,4e9726eb5182dd6fe93402485b9db4aae22177e1,/8-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
16535,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16536,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16537,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16538,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
16539,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
16540,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
16541,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
16542,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
16543,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16544,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
16545,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
16546,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
16547,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16548,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
16549,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
16550,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
16551,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
16552,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16553,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16554,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
16555,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
16556,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
16557,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16558,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
16559,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
16560,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
16561,f039d5d66e36a9dbe4ae651935e105b3064017c9,/7-jre7/Dockerfile,"# add our user and group first to make sure their IDs get assigned consistently, regardless of whatever dependencies get added
"
16562,f039d5d66e36a9dbe4ae651935e105b3064017c9,/7-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
16563,7c4365e43f352c981a97eae5090bb055a68ff6a9,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
16564,7c4365e43f352c981a97eae5090bb055a68ff6a9,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
16565,7c4365e43f352c981a97eae5090bb055a68ff6a9,/7/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
16566,7c4365e43f352c981a97eae5090bb055a68ff6a9,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
16567,7c4365e43f352c981a97eae5090bb055a68ff6a9,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
16568,9b435c815366378b65a78fa84d3bed5642fddaa6,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16569,9b435c815366378b65a78fa84d3bed5642fddaa6,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
16570,9b435c815366378b65a78fa84d3bed5642fddaa6,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
16571,9b435c815366378b65a78fa84d3bed5642fddaa6,/8.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
16572,9b435c815366378b65a78fa84d3bed5642fddaa6,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16573,9b435c815366378b65a78fa84d3bed5642fddaa6,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16574,9b435c815366378b65a78fa84d3bed5642fddaa6,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
16575,9b435c815366378b65a78fa84d3bed5642fddaa6,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
16576,9cabcf1e71b270f31b4ff4d1a30587bb75ef3b76,/8.0/jre7/Dockerfile,"# runtime dependency for Tomcat Native Libraries
"
16577,9cabcf1e71b270f31b4ff4d1a30587bb75ef3b76,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
16578,9cabcf1e71b270f31b4ff4d1a30587bb75ef3b76,/8.0/jre7/Dockerfile,"# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)

"
16579,9cabcf1e71b270f31b4ff4d1a30587bb75ef3b76,/8.0/jre7/Dockerfile,"# http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5048274.html (ie, HACK HACK HACK)
"
16580,9cabcf1e71b270f31b4ff4d1a30587bb75ef3b76,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
16581,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16582,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
16583,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
16584,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
16585,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
16586,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16587,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16588,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
16589,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
16590,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
16591,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16592,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
16593,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre11-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16594,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre11-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
16595,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre11-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
16596,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre11-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
16597,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre11-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
16598,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre11-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16599,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre11-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16600,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre11-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
16601,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre11-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
16602,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre11-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
16603,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre11-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16604,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre11-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
16605,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre11-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
16606,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre11-slim/Dockerfile,"# verify Tomcat Native is working properly
"
16607,437ad1d98f2ca7667df856d13922b23a22b719d0,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16608,437ad1d98f2ca7667df856d13922b23a22b719d0,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
16609,437ad1d98f2ca7667df856d13922b23a22b719d0,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
16610,437ad1d98f2ca7667df856d13922b23a22b719d0,/7/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
16611,437ad1d98f2ca7667df856d13922b23a22b719d0,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16612,437ad1d98f2ca7667df856d13922b23a22b719d0,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16613,437ad1d98f2ca7667df856d13922b23a22b719d0,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
16614,437ad1d98f2ca7667df856d13922b23a22b719d0,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
16615,a436a06d8fb281a85596dab283a1ee41193b97b3,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16616,a436a06d8fb281a85596dab283a1ee41193b97b3,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
16617,a436a06d8fb281a85596dab283a1ee41193b97b3,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
16618,a436a06d8fb281a85596dab283a1ee41193b97b3,/7/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
16619,a436a06d8fb281a85596dab283a1ee41193b97b3,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16620,a436a06d8fb281a85596dab283a1ee41193b97b3,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16621,a436a06d8fb281a85596dab283a1ee41193b97b3,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
16622,a436a06d8fb281a85596dab283a1ee41193b97b3,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
16623,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16624,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
16625,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
16626,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/8.5/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
16627,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
16628,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
16629,35e89070548111261cf6a9e9398556d5b2c4f7f7,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16630,35e89070548111261cf6a9e9398556d5b2c4f7f7,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
16631,35e89070548111261cf6a9e9398556d5b2c4f7f7,/7/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
16632,35e89070548111261cf6a9e9398556d5b2c4f7f7,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
16633,35e89070548111261cf6a9e9398556d5b2c4f7f7,/7/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
16634,35e89070548111261cf6a9e9398556d5b2c4f7f7,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16635,35e89070548111261cf6a9e9398556d5b2c4f7f7,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16636,35e89070548111261cf6a9e9398556d5b2c4f7f7,/7/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
16637,35e89070548111261cf6a9e9398556d5b2c4f7f7,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
16638,35e89070548111261cf6a9e9398556d5b2c4f7f7,/7/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16639,35e89070548111261cf6a9e9398556d5b2c4f7f7,/7/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
16640,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/9.0/jdk14/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16641,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/9.0/jdk14/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16642,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/9.0/jdk14/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16643,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/9.0/jdk14/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
16644,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/9.0/jdk14/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
16645,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/9.0/jdk14/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
16646,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/9.0/jdk14/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
16647,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/9.0/jdk14/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16648,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/9.0/jdk14/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
16649,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/9.0/jdk14/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
16650,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/9.0/jdk14/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
16651,b1a8927025d9a0c01494d7fbc1ae06cd269bb2f8,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16652,b1a8927025d9a0c01494d7fbc1ae06cd269bb2f8,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
16653,b1a8927025d9a0c01494d7fbc1ae06cd269bb2f8,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
16654,b1a8927025d9a0c01494d7fbc1ae06cd269bb2f8,/8.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
16655,b1a8927025d9a0c01494d7fbc1ae06cd269bb2f8,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16656,b1a8927025d9a0c01494d7fbc1ae06cd269bb2f8,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16657,b1a8927025d9a0c01494d7fbc1ae06cd269bb2f8,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
16658,b1a8927025d9a0c01494d7fbc1ae06cd269bb2f8,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
16659,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16660,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16661,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16662,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
16663,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
16664,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
16665,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16666,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
16667,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16668,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16669,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16670,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
16671,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
16672,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
16673,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
16674,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16675,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
16676,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
16677,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
16678,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16679,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
16680,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
16681,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
16682,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
16683,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16684,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16685,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
16686,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
16687,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
16688,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16689,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
16690,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16691,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
16692,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/7/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
16693,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
16694,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/7/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
16695,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16696,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16697,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
16698,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/7/jre8/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
16699,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/7/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16700,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/7/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
16701,989f50ed5db788921a4954109b90362e2209295e,/6/jre7/Dockerfile,"# runtime dependency for Tomcat Native Libraries
"
16702,989f50ed5db788921a4954109b90362e2209295e,/6/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
16703,989f50ed5db788921a4954109b90362e2209295e,/6/jre7/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
16704,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16705,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16706,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16707,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
16708,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
16709,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
16710,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
16711,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16712,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
16713,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
16714,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
16715,989f50ed5db788921a4954109b90362e2209295e,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16716,989f50ed5db788921a4954109b90362e2209295e,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
16717,989f50ed5db788921a4954109b90362e2209295e,/9.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
16718,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16719,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16720,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16721,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
16722,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
16723,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
16724,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16725,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
16726,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16727,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16728,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16729,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
16730,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
16731,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16732,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
16733,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
16734,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
16735,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16736,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
16737,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
16738,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
16739,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
16740,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16741,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16742,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
16743,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
16744,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
16745,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16746,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
16747,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16748,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16749,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16750,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
16751,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
16752,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16753,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
16754,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
16755,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
16756,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16757,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16758,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
16759,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
16760,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
16761,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16762,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
16763,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
16764,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
16765,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
16766,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# mark any explicit dependencies as manually installed
"
16767,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
16768,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16769,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
16770,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
16771,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# verify Tomcat Native is working properly
"
16772,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16773,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
16774,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/9.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
16775,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre10-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16776,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre10-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
16777,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre10-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
16778,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre10-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
16779,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre10-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
16780,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre10-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16781,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre10-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16782,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre10-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
16783,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre10-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
16784,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre10-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
16785,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre10-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16786,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre10-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
16787,8c3a43c1c4f400ab9dfe6c5fe638b9c5264392c5,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16788,8c3a43c1c4f400ab9dfe6c5fe638b9c5264392c5,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
16789,8c3a43c1c4f400ab9dfe6c5fe638b9c5264392c5,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
16790,8c3a43c1c4f400ab9dfe6c5fe638b9c5264392c5,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
16791,8c3a43c1c4f400ab9dfe6c5fe638b9c5264392c5,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
16792,8c3a43c1c4f400ab9dfe6c5fe638b9c5264392c5,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16793,8c3a43c1c4f400ab9dfe6c5fe638b9c5264392c5,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16794,8c3a43c1c4f400ab9dfe6c5fe638b9c5264392c5,/9.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
16795,8c3a43c1c4f400ab9dfe6c5fe638b9c5264392c5,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
16796,8c3a43c1c4f400ab9dfe6c5fe638b9c5264392c5,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16797,8c3a43c1c4f400ab9dfe6c5fe638b9c5264392c5,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
16798,efe59ebe52ba94045f4923be85214f4431a982a6,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16799,efe59ebe52ba94045f4923be85214f4431a982a6,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
16800,efe59ebe52ba94045f4923be85214f4431a982a6,/8.0/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
16801,efe59ebe52ba94045f4923be85214f4431a982a6,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
16802,efe59ebe52ba94045f4923be85214f4431a982a6,/8.0/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
16803,efe59ebe52ba94045f4923be85214f4431a982a6,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16804,efe59ebe52ba94045f4923be85214f4431a982a6,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16805,efe59ebe52ba94045f4923be85214f4431a982a6,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
16806,efe59ebe52ba94045f4923be85214f4431a982a6,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
16807,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16808,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre9/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
16809,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre9/Dockerfile,"# only add stretch if we're not already building from within stretch
"
16810,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre9/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
16811,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre9/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
16812,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16813,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16814,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre9/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
16815,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre9/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
16816,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
16817,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16818,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
16819,a3690c7d71d468e51f0c01ded83f79c7686a2a35,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16820,a3690c7d71d468e51f0c01ded83f79c7686a2a35,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16821,a3690c7d71d468e51f0c01ded83f79c7686a2a35,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16822,a3690c7d71d468e51f0c01ded83f79c7686a2a35,/9.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
16823,a3690c7d71d468e51f0c01ded83f79c7686a2a35,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
16824,a3690c7d71d468e51f0c01ded83f79c7686a2a35,/9.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
16825,a3690c7d71d468e51f0c01ded83f79c7686a2a35,/9.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16826,a3690c7d71d468e51f0c01ded83f79c7686a2a35,/9.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
16827,a3690c7d71d468e51f0c01ded83f79c7686a2a35,/9.0/jre8-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
16828,a3690c7d71d468e51f0c01ded83f79c7686a2a35,/9.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
16829,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16830,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
16831,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
16832,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
16833,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
16834,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16835,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16836,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
16837,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
16838,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
16839,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16840,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
16841,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
16842,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
16843,7392659258be9e70dd2c93faa7aadacd060ab4d2,/6/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16844,7392659258be9e70dd2c93faa7aadacd060ab4d2,/6/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
16845,7392659258be9e70dd2c93faa7aadacd060ab4d2,/6/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
16846,7392659258be9e70dd2c93faa7aadacd060ab4d2,/6/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
16847,7392659258be9e70dd2c93faa7aadacd060ab4d2,/6/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16848,7392659258be9e70dd2c93faa7aadacd060ab4d2,/6/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16849,7392659258be9e70dd2c93faa7aadacd060ab4d2,/6/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
16850,7392659258be9e70dd2c93faa7aadacd060ab4d2,/6/jre7/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
16851,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16852,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16853,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16854,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
16855,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
16856,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
16857,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
16858,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16859,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
16860,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
16861,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
16862,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/7/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16863,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/7/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16864,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/7/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
16865,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/7/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
16866,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/7/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
16867,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/7/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16868,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/7/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
16869,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/7/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
16870,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/7/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
16871,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/7/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16872,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/7/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
16873,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/7/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
16874,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/7/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
16875,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16876,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
16877,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
16878,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
16879,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
16880,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16881,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16882,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
16883,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
16884,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
16885,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16886,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
16887,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16888,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16889,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16890,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
16891,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
16892,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
16893,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
16894,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16895,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
16896,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
16897,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
16898,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16899,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
16900,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
16901,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
16902,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
16903,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16904,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16905,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
16906,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
16907,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre7/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
16908,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16909,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
16910,4b8ed1747ba0a6e5c9f859e518cecced13335d82,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16911,4b8ed1747ba0a6e5c9f859e518cecced13335d82,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16912,4b8ed1747ba0a6e5c9f859e518cecced13335d82,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16913,4b8ed1747ba0a6e5c9f859e518cecced13335d82,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
16914,4b8ed1747ba0a6e5c9f859e518cecced13335d82,/7/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
16915,cd46dd92802bc82fb544906ae8b0108996c5de65,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16916,cd46dd92802bc82fb544906ae8b0108996c5de65,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16917,cd46dd92802bc82fb544906ae8b0108996c5de65,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16918,cd46dd92802bc82fb544906ae8b0108996c5de65,/8.5/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
16919,cd46dd92802bc82fb544906ae8b0108996c5de65,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
16920,cd46dd92802bc82fb544906ae8b0108996c5de65,/8.5/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
16921,cd46dd92802bc82fb544906ae8b0108996c5de65,/8.5/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16922,cd46dd92802bc82fb544906ae8b0108996c5de65,/8.5/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
16923,a227157792e94c669148c3c2a09072fb317070e0,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16924,a227157792e94c669148c3c2a09072fb317070e0,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16925,a227157792e94c669148c3c2a09072fb317070e0,/8.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16926,a227157792e94c669148c3c2a09072fb317070e0,/8.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
16927,a227157792e94c669148c3c2a09072fb317070e0,/8.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16928,a227157792e94c669148c3c2a09072fb317070e0,/8.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
16929,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16930,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16931,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16932,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
16933,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
16934,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16935,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
16936,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
16937,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
16938,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16939,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
16940,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
16941,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
16942,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
16943,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16944,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16945,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
16946,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
16947,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
16948,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16949,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
16950,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16951,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
16952,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
16953,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
16954,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
16955,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16956,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16957,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
16958,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
16959,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
16960,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16961,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
16962,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre7-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16963,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre7-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
16964,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre7-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
16965,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre7-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
16966,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre7-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
16967,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre7-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16968,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre7-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16969,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre7-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
16970,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre7-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
16971,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre7-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
16972,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre7-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16973,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre7-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
16974,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre7-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
16975,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre7-slim/Dockerfile,"# verify Tomcat Native is working properly
"
16976,81c66e2e695ad5548b726841c00512a9acf18eb5,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16977,81c66e2e695ad5548b726841c00512a9acf18eb5,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
16978,81c66e2e695ad5548b726841c00512a9acf18eb5,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
16979,81c66e2e695ad5548b726841c00512a9acf18eb5,/7/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
16980,81c66e2e695ad5548b726841c00512a9acf18eb5,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
16981,81c66e2e695ad5548b726841c00512a9acf18eb5,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16982,81c66e2e695ad5548b726841c00512a9acf18eb5,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
16983,81c66e2e695ad5548b726841c00512a9acf18eb5,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
16984,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16985,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16986,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16987,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
16988,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
16989,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16990,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
16991,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
16992,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
16993,06a7e79e30595058df3c2fec9c769e47e2bca56d,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16994,06a7e79e30595058df3c2fec9c769e47e2bca56d,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
16995,06a7e79e30595058df3c2fec9c769e47e2bca56d,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
16996,06a7e79e30595058df3c2fec9c769e47e2bca56d,/8.5/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
16997,06a7e79e30595058df3c2fec9c769e47e2bca56d,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16998,06a7e79e30595058df3c2fec9c769e47e2bca56d,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16999,06a7e79e30595058df3c2fec9c769e47e2bca56d,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17000,06a7e79e30595058df3c2fec9c769e47e2bca56d,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
17001,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17002,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
17003,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
17004,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/8.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
17005,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
17006,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
17007,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17008,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17009,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17010,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
17011,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
17012,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
17013,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
17014,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17015,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
17016,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
17017,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
17018,496bb4416155dff1cb794498fd003e74a22c55fa,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17019,496bb4416155dff1cb794498fd003e74a22c55fa,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17020,496bb4416155dff1cb794498fd003e74a22c55fa,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17021,496bb4416155dff1cb794498fd003e74a22c55fa,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17022,496bb4416155dff1cb794498fd003e74a22c55fa,/8.5/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
17023,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17024,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17025,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17026,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
17027,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
17028,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17029,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
17030,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
17031,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
17032,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17033,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
17034,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
17035,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
17036,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
17037,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17038,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17039,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
17040,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17041,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
17042,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17043,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
17044,7fe8b97db15cdd3139efe72fcaeee53910560e19,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17045,7fe8b97db15cdd3139efe72fcaeee53910560e19,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17046,7fe8b97db15cdd3139efe72fcaeee53910560e19,/8.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17047,7fe8b97db15cdd3139efe72fcaeee53910560e19,/8.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
17048,7fe8b97db15cdd3139efe72fcaeee53910560e19,/8.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17049,7fe8b97db15cdd3139efe72fcaeee53910560e19,/8.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
17050,7fe8b97db15cdd3139efe72fcaeee53910560e19,/8.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17051,7fe8b97db15cdd3139efe72fcaeee53910560e19,/8.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
17052,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17053,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17054,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
17055,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
17056,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
17057,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17058,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
17059,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
17060,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
17061,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
17062,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
17063,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17064,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
17065,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
17066,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
17067,8a2acf4ccfa691465fa41c0828ab6ea47225dfd0,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17068,8a2acf4ccfa691465fa41c0828ab6ea47225dfd0,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17069,8a2acf4ccfa691465fa41c0828ab6ea47225dfd0,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17070,8a2acf4ccfa691465fa41c0828ab6ea47225dfd0,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17071,8a2acf4ccfa691465fa41c0828ab6ea47225dfd0,/7/jre8-alpine/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
17072,8a2acf4ccfa691465fa41c0828ab6ea47225dfd0,/7/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
17073,8a2acf4ccfa691465fa41c0828ab6ea47225dfd0,/7/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17074,8a2acf4ccfa691465fa41c0828ab6ea47225dfd0,/7/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
17075,86d4d5031e14a9274e1fa2bd4211ab03440e883d,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17076,86d4d5031e14a9274e1fa2bd4211ab03440e883d,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17077,86d4d5031e14a9274e1fa2bd4211ab03440e883d,/8.0/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17078,86d4d5031e14a9274e1fa2bd4211ab03440e883d,/8.0/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17079,86d4d5031e14a9274e1fa2bd4211ab03440e883d,/8.0/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
17080,0f87a57ed953808a7c8d4ffaab5b112c42fb7431,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17081,0f87a57ed953808a7c8d4ffaab5b112c42fb7431,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17082,0f87a57ed953808a7c8d4ffaab5b112c42fb7431,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17083,0f87a57ed953808a7c8d4ffaab5b112c42fb7431,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17084,0f87a57ed953808a7c8d4ffaab5b112c42fb7431,/9.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
17085,c5b4144188006445b32a9897f6ecd617afce7929,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17086,c5b4144188006445b32a9897f6ecd617afce7929,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
17087,c5b4144188006445b32a9897f6ecd617afce7929,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
17088,c5b4144188006445b32a9897f6ecd617afce7929,/9.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
17089,c5b4144188006445b32a9897f6ecd617afce7929,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17090,c5b4144188006445b32a9897f6ecd617afce7929,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17091,c5b4144188006445b32a9897f6ecd617afce7929,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17092,c5b4144188006445b32a9897f6ecd617afce7929,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
17093,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17094,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17095,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17096,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
17097,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
17098,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
17099,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
17100,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
17101,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17102,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
17103,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
17104,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
17105,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17106,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
17107,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
17108,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
17109,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
17110,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17111,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17112,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
17113,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17114,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
17115,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17116,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
17117,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
17118,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
17119,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk11-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17120,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk11-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
17121,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk11-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
17122,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk11-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
17123,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk11-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
17124,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk11-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17125,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk11-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17126,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk11-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
17127,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk11-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17128,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk11-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
17129,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk11-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17130,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk11-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
17131,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk11-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
17132,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk11-slim/Dockerfile,"# verify Tomcat Native is working properly
"
17133,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17134,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17135,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17136,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
17137,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
17138,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
17139,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
17140,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
17141,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17142,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
17143,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
17144,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
17145,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17146,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
17147,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
17148,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
17149,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
17150,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17151,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17152,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
17153,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17154,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
17155,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17156,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
17157,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre10-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17158,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre10-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
17159,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre10-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
17160,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre10-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
17161,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre10-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
17162,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre10-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17163,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre10-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17164,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre10-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
17165,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre10-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17166,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre10-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
17167,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre10-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17168,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre10-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
17169,2045c78917577ff88fbe6787a11041047eb3a3bc,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
17170,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17171,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
17172,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
17173,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
17174,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
17175,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17176,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17177,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
17178,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17179,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
17180,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17181,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
17182,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
17183,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
17184,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17185,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17186,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17187,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
17188,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
17189,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
17190,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
17191,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
17192,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17193,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
17194,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
17195,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
17196,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17197,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17198,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17199,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17200,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/9.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
17201,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre11/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17202,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre11/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
17203,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre11/Dockerfile,"# only add stretch if we're not already building from within stretch
"
17204,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre11/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
17205,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre11/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
17206,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre11/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17207,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre11/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17208,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre11/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
17209,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre11/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17210,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre11/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
17211,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre11/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17212,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre11/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
17213,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre11/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
17214,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre11/Dockerfile,"# verify Tomcat Native is working properly
"
17215,2b55df5b9feaa7b8354e8b2419a88e494a110621,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17216,2b55df5b9feaa7b8354e8b2419a88e494a110621,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
17217,2b55df5b9feaa7b8354e8b2419a88e494a110621,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
17218,2b55df5b9feaa7b8354e8b2419a88e494a110621,/8.5/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
17219,2b55df5b9feaa7b8354e8b2419a88e494a110621,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
17220,2b55df5b9feaa7b8354e8b2419a88e494a110621,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17221,2b55df5b9feaa7b8354e8b2419a88e494a110621,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17222,2b55df5b9feaa7b8354e8b2419a88e494a110621,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
17223,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17224,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17225,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17226,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
17227,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
17228,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
17229,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
17230,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17231,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
17232,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
17233,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
17234,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17235,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17236,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17237,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
17238,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
17239,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
17240,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
17241,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17242,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
17243,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
17244,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
17245,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17246,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
17247,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
17248,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
17249,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
17250,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17251,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17252,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
17253,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17254,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
17255,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17256,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
17257,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17258,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17259,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17260,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
17261,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
17262,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
17263,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
17264,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
17265,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17266,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
17267,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
17268,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
17269,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17270,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
17271,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
17272,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
17273,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
17274,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17275,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17276,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
17277,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17278,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
17279,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17280,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
17281,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17282,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17283,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
17284,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
17285,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
17286,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17287,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
17288,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
17289,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
17290,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
17291,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
17292,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
17293,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17294,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
17295,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
17296,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
17297,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre10/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17298,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre10/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
17299,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre10/Dockerfile,"# only add stretch if we're not already building from within stretch
"
17300,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre10/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
17301,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre10/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
17302,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre10/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17303,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre10/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17304,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre10/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
17305,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre10/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17306,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre10/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
17307,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre10/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17308,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre10/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
17309,91cbc3af72ddf06078da3e7e9ba3ebf431001f28,/8-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
17310,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17311,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17312,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17313,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
17314,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
17315,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17316,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
17317,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
17318,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
17319,de721901dcf99bedb89af3cde8711fe84b8c680c,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17320,de721901dcf99bedb89af3cde8711fe84b8c680c,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17321,de721901dcf99bedb89af3cde8711fe84b8c680c,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17322,de721901dcf99bedb89af3cde8711fe84b8c680c,/9.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
17323,de721901dcf99bedb89af3cde8711fe84b8c680c,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17324,de721901dcf99bedb89af3cde8711fe84b8c680c,/9.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
17325,de721901dcf99bedb89af3cde8711fe84b8c680c,/9.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17326,de721901dcf99bedb89af3cde8711fe84b8c680c,/9.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
17327,de721901dcf99bedb89af3cde8711fe84b8c680c,/9.0/jre8-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
17328,de721901dcf99bedb89af3cde8711fe84b8c680c,/9.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
17329,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17330,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17331,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17332,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
17333,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
17334,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17335,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
17336,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
17337,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
17338,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17339,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17340,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
17341,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
17342,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
17343,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17344,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
17345,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
17346,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
17347,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
17348,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
17349,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17350,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
17351,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
17352,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
17353,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17354,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
17355,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
17356,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
17357,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
17358,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17359,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17360,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
17361,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17362,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
17363,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17364,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
17365,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/9.0/jre11-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17366,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/9.0/jre11-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
17367,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/9.0/jre11-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
17368,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/9.0/jre11-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
17369,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/9.0/jre11-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
17370,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/9.0/jre11-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17371,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/9.0/jre11-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17372,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/9.0/jre11-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
17373,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/9.0/jre11-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17374,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/9.0/jre11-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
17375,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/9.0/jre11-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17376,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/9.0/jre11-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
17377,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/9.0/jre11-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
17378,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/9.0/jre11-slim/Dockerfile,"# verify Tomcat Native is working properly
"
17379,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17380,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17381,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17382,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
17383,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
17384,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
17385,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
17386,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
17387,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17388,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
17389,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
17390,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
17391,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/6/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17392,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/6/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
17393,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/6/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
17394,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/6/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
17395,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/6/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17396,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/6/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17397,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/6/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17398,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/6/jre7/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
17399,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17400,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17401,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17402,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
17403,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
17404,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
17405,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
17406,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17407,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
17408,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
17409,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
17410,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17411,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17412,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17413,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
17414,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
17415,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17416,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
17417,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
17418,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
17419,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17420,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17421,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17422,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
17423,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
17424,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
17425,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
17426,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
17427,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17428,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
17429,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
17430,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
17431,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17432,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17433,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17434,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
17435,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17436,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
17437,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17438,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
17439,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17440,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17441,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17442,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
17443,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
17444,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
17445,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
17446,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
17447,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17448,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
17449,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
17450,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
17451,ed98c30c1cd42c53831f64dffa78a0abf7db8e9a,/6-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
17452,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17453,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17454,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17455,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
17456,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17457,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
17458,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17459,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
17460,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17461,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
17462,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
17463,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
17464,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
17465,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17466,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17467,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
17468,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17469,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
17470,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17471,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
17472,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17473,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
17474,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
17475,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
17476,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
17477,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17478,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17479,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
17480,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17481,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
17482,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17483,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
17484,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre11/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17485,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre11/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
17486,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre11/Dockerfile,"# only add stretch if we're not already building from within stretch
"
17487,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre11/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
17488,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre11/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
17489,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre11/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17490,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre11/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17491,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre11/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
17492,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre11/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17493,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre11/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
17494,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre11/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17495,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre11/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
17496,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre11/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
17497,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre11/Dockerfile,"# verify Tomcat Native is working properly
"
17498,64166c6cb450e6701d7b493d1d296c6c1c972a1e,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17499,64166c6cb450e6701d7b493d1d296c6c1c972a1e,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
17500,64166c6cb450e6701d7b493d1d296c6c1c972a1e,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
17501,64166c6cb450e6701d7b493d1d296c6c1c972a1e,/8.5/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
17502,64166c6cb450e6701d7b493d1d296c6c1c972a1e,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17503,64166c6cb450e6701d7b493d1d296c6c1c972a1e,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17504,64166c6cb450e6701d7b493d1d296c6c1c972a1e,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17505,64166c6cb450e6701d7b493d1d296c6c1c972a1e,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
17506,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre9-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17507,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre9-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
17508,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre9-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
17509,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre9-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
17510,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre9-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
17511,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre9-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17512,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre9-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17513,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre9-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
17514,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre9-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17515,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre9-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
17516,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre9-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17517,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre9-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
17518,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17519,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17520,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17521,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
17522,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
17523,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
17524,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
17525,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17526,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
17527,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
17528,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
17529,989f50ed5db788921a4954109b90362e2209295e,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17530,989f50ed5db788921a4954109b90362e2209295e,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
17531,989f50ed5db788921a4954109b90362e2209295e,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
17532,989f50ed5db788921a4954109b90362e2209295e,/8.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
17533,989f50ed5db788921a4954109b90362e2209295e,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
17534,989f50ed5db788921a4954109b90362e2209295e,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
17535,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17536,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17537,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17538,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
17539,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
17540,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17541,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
17542,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
17543,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
17544,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17545,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17546,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17547,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
17548,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/openjdk-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
17549,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
17550,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
17551,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
17552,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17553,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
17554,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
17555,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
17556,59c92f282053ececa51e2afe06b6c979abae9922,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17557,59c92f282053ececa51e2afe06b6c979abae9922,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
17558,59c92f282053ececa51e2afe06b6c979abae9922,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
17559,59c92f282053ececa51e2afe06b6c979abae9922,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
17560,59c92f282053ececa51e2afe06b6c979abae9922,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
17561,59c92f282053ececa51e2afe06b6c979abae9922,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17562,59c92f282053ececa51e2afe06b6c979abae9922,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17563,59c92f282053ececa51e2afe06b6c979abae9922,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17564,59c92f282053ececa51e2afe06b6c979abae9922,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17565,59c92f282053ececa51e2afe06b6c979abae9922,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
17566,4b72a0a78d129afc6c37574145c19519c977ceed,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17567,4b72a0a78d129afc6c37574145c19519c977ceed,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
17568,4b72a0a78d129afc6c37574145c19519c977ceed,/8.0/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
17569,4b72a0a78d129afc6c37574145c19519c977ceed,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
17570,4b72a0a78d129afc6c37574145c19519c977ceed,/8.0/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
17571,4b72a0a78d129afc6c37574145c19519c977ceed,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17572,4b72a0a78d129afc6c37574145c19519c977ceed,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17573,4b72a0a78d129afc6c37574145c19519c977ceed,/8.0/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
17574,4b72a0a78d129afc6c37574145c19519c977ceed,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17575,4b72a0a78d129afc6c37574145c19519c977ceed,/8.0/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17576,4b72a0a78d129afc6c37574145c19519c977ceed,/8.0/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
17577,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17578,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
17579,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
17580,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.0/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
17581,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17582,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17583,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17584,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
17585,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre10-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17586,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre10-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
17587,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre10-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
17588,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre10-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
17589,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre10-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
17590,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre10-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17591,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre10-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17592,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre10-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
17593,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre10-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17594,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre10-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
17595,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre10-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17596,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre10-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
17597,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre10-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
17598,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre10-slim/Dockerfile,"# verify Tomcat Native is working properly
"
17599,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17600,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17601,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
17602,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
17603,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
17604,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17605,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
17606,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
17607,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
17608,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
17609,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
17610,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17611,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
17612,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
17613,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
17614,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk11/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17615,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk11/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17616,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk11/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17617,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk11/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
17618,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk11/openjdk-slim-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
17619,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk11/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
17620,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk11/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
17621,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk11/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
17622,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk11/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17623,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk11/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
17624,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk11/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
17625,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk11/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
17626,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17627,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17628,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17629,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
17630,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
17631,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
17632,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
17633,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
17634,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17635,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
17636,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
17637,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
17638,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17639,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17640,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17641,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
17642,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
17643,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17644,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
17645,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
17646,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
17647,545107b374ce0b807a29ed958207d177576761ad,/9.0/jre11-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17648,545107b374ce0b807a29ed958207d177576761ad,/9.0/jre11-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
17649,545107b374ce0b807a29ed958207d177576761ad,/9.0/jre11-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
17650,545107b374ce0b807a29ed958207d177576761ad,/9.0/jre11-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
17651,545107b374ce0b807a29ed958207d177576761ad,/9.0/jre11-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
17652,545107b374ce0b807a29ed958207d177576761ad,/9.0/jre11-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17653,545107b374ce0b807a29ed958207d177576761ad,/9.0/jre11-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17654,545107b374ce0b807a29ed958207d177576761ad,/9.0/jre11-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
17655,545107b374ce0b807a29ed958207d177576761ad,/9.0/jre11-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17656,545107b374ce0b807a29ed958207d177576761ad,/9.0/jre11-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
17657,545107b374ce0b807a29ed958207d177576761ad,/9.0/jre11-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17658,545107b374ce0b807a29ed958207d177576761ad,/9.0/jre11-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
17659,545107b374ce0b807a29ed958207d177576761ad,/9.0/jre11-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
17660,545107b374ce0b807a29ed958207d177576761ad,/9.0/jre11-slim/Dockerfile,"# verify Tomcat Native is working properly
"
17661,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17662,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17663,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17664,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
17665,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
17666,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17667,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
17668,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
17669,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
17670,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17671,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17672,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17673,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
17674,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
17675,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17676,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
17677,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
17678,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
17679,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre10-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17680,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre10-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
17681,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre10-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
17682,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre10-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
17683,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre10-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
17684,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre10-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17685,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre10-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17686,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre10-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
17687,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre10-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17688,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre10-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
17689,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre10-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17690,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre10-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
17691,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre10-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
17692,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre10-slim/Dockerfile,"# verify Tomcat Native is working properly
"
17693,fcc0cd5d0992ec4a07f5844c98b0e3112a0568de,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17694,fcc0cd5d0992ec4a07f5844c98b0e3112a0568de,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
17695,fcc0cd5d0992ec4a07f5844c98b0e3112a0568de,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
17696,fcc0cd5d0992ec4a07f5844c98b0e3112a0568de,/8.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
17697,fcc0cd5d0992ec4a07f5844c98b0e3112a0568de,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17698,fcc0cd5d0992ec4a07f5844c98b0e3112a0568de,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17699,fcc0cd5d0992ec4a07f5844c98b0e3112a0568de,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17700,fcc0cd5d0992ec4a07f5844c98b0e3112a0568de,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
17701,656c22d037ccaa6adaedbb791febbd2e5197fadd,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17702,656c22d037ccaa6adaedbb791febbd2e5197fadd,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
17703,656c22d037ccaa6adaedbb791febbd2e5197fadd,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
17704,656c22d037ccaa6adaedbb791febbd2e5197fadd,/7/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
17705,656c22d037ccaa6adaedbb791febbd2e5197fadd,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17706,656c22d037ccaa6adaedbb791febbd2e5197fadd,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17707,656c22d037ccaa6adaedbb791febbd2e5197fadd,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17708,656c22d037ccaa6adaedbb791febbd2e5197fadd,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
17709,77323f32b92405944da026c68428e3180e6bc33a,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17710,77323f32b92405944da026c68428e3180e6bc33a,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
17711,77323f32b92405944da026c68428e3180e6bc33a,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
17712,77323f32b92405944da026c68428e3180e6bc33a,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
17713,77323f32b92405944da026c68428e3180e6bc33a,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
17714,77323f32b92405944da026c68428e3180e6bc33a,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17715,77323f32b92405944da026c68428e3180e6bc33a,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17716,77323f32b92405944da026c68428e3180e6bc33a,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17717,77323f32b92405944da026c68428e3180e6bc33a,/9.0/jre8/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
17718,77323f32b92405944da026c68428e3180e6bc33a,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17719,77323f32b92405944da026c68428e3180e6bc33a,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
17720,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17721,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17722,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.0/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17723,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.0/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17724,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.0/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
17725,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17726,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17727,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17728,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
17729,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
17730,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
17731,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
17732,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
17733,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17734,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
17735,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
17736,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
17737,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17738,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17739,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
17740,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
17741,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
17742,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17743,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
17744,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
17745,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
17746,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17747,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
17748,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
17749,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
17750,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17751,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17752,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17753,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
17754,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
17755,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
17756,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
17757,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
17758,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17759,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
17760,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
17761,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
17762,fe11a5d3316d12d4b68c05f2006fb35a8c8a80c1,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17763,fe11a5d3316d12d4b68c05f2006fb35a8c8a80c1,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17764,fe11a5d3316d12d4b68c05f2006fb35a8c8a80c1,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17765,fe11a5d3316d12d4b68c05f2006fb35a8c8a80c1,/9.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
17766,fe11a5d3316d12d4b68c05f2006fb35a8c8a80c1,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17767,fe11a5d3316d12d4b68c05f2006fb35a8c8a80c1,/9.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
17768,fe11a5d3316d12d4b68c05f2006fb35a8c8a80c1,/9.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17769,fe11a5d3316d12d4b68c05f2006fb35a8c8a80c1,/9.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
17770,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/7/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17771,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/7/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17772,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/7/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17773,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/7/jdk8/openjdk/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
17774,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/7/jdk8/openjdk/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17775,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/7/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
17776,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/7/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17777,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/7/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
17778,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/7/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
17779,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/7/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
17780,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17781,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
17782,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/8.0/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
17783,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
17784,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/8.0/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
17785,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17786,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17787,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17788,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
17789,5c76c4a20c9192ca75d9a9739070b7030b64304b,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17790,5c76c4a20c9192ca75d9a9739070b7030b64304b,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
17791,5c76c4a20c9192ca75d9a9739070b7030b64304b,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
17792,5c76c4a20c9192ca75d9a9739070b7030b64304b,/7/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
17793,5c76c4a20c9192ca75d9a9739070b7030b64304b,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17794,5c76c4a20c9192ca75d9a9739070b7030b64304b,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17795,5c76c4a20c9192ca75d9a9739070b7030b64304b,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17796,5c76c4a20c9192ca75d9a9739070b7030b64304b,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
17797,656c22d037ccaa6adaedbb791febbd2e5197fadd,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17798,656c22d037ccaa6adaedbb791febbd2e5197fadd,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17799,656c22d037ccaa6adaedbb791febbd2e5197fadd,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17800,656c22d037ccaa6adaedbb791febbd2e5197fadd,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17801,656c22d037ccaa6adaedbb791febbd2e5197fadd,/9.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
17802,8df55d65e8cf2ba159e4409dd7b8b155a531759b,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
17803,8df55d65e8cf2ba159e4409dd7b8b155a531759b,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
17804,8df55d65e8cf2ba159e4409dd7b8b155a531759b,/7/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
17805,8df55d65e8cf2ba159e4409dd7b8b155a531759b,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
17806,8df55d65e8cf2ba159e4409dd7b8b155a531759b,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
17807,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17808,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
17809,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
17810,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/8.0/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
17811,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17812,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17813,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17814,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
17815,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre7-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17816,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre7-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
17817,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre7-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
17818,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre7-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
17819,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre7-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
17820,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre7-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17821,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre7-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17822,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre7-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
17823,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre7-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17824,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre7-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
17825,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre7-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17826,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre7-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
17827,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre7-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
17828,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre7-slim/Dockerfile,"# verify Tomcat Native is working properly
"
17829,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk13/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17830,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk13/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17831,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk13/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
17832,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk13/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
17833,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk13/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
17834,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk13/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17835,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk13/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
17836,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk13/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
17837,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk13/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
17838,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk13/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17839,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk13/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
17840,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk13/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
17841,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk13/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
17842,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre7-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17843,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre7-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
17844,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre7-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
17845,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre7-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
17846,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre7-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
17847,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre7-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17848,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre7-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17849,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre7-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
17850,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre7-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17851,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre7-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
17852,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre7-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17853,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre7-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
17854,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre7-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
17855,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre7-slim/Dockerfile,"# verify Tomcat Native is working properly
"
17856,d183e24a7f4239f84bf521ac96690904adb21a86,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17857,d183e24a7f4239f84bf521ac96690904adb21a86,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17858,d183e24a7f4239f84bf521ac96690904adb21a86,/8.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17859,d183e24a7f4239f84bf521ac96690904adb21a86,/8.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
17860,d183e24a7f4239f84bf521ac96690904adb21a86,/8.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17861,d183e24a7f4239f84bf521ac96690904adb21a86,/8.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
17862,d183e24a7f4239f84bf521ac96690904adb21a86,/8.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17863,d183e24a7f4239f84bf521ac96690904adb21a86,/8.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
17864,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17865,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
17866,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/8.5/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
17867,9a104de6086d4a05ca08c193e25ec45a379ba4b2,/8-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
17868,3b05667011a600a2f46422dd533467eff8e7fecf,/6-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
17869,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17870,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17871,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
17872,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
17873,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
17874,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17875,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
17876,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
17877,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
17878,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17879,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
17880,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
17881,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
17882,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17883,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
17884,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/7/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
17885,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
17886,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/7/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
17887,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17888,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17889,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17890,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
17891,f26c14147f9affae8f32100430130271fc82bd3e,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17892,f26c14147f9affae8f32100430130271fc82bd3e,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
17893,f26c14147f9affae8f32100430130271fc82bd3e,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
17894,f26c14147f9affae8f32100430130271fc82bd3e,/8.5/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
17895,f26c14147f9affae8f32100430130271fc82bd3e,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17896,f26c14147f9affae8f32100430130271fc82bd3e,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17897,f26c14147f9affae8f32100430130271fc82bd3e,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17898,f26c14147f9affae8f32100430130271fc82bd3e,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
17899,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk8/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17900,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk8/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17901,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk8/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17902,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk8/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
17903,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk8/openjdk-slim-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
17904,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk8/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
17905,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk8/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
17906,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk8/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
17907,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk8/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17908,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk8/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
17909,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk8/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
17910,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk8/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
17911,81c66e2e695ad5548b726841c00512a9acf18eb5,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17912,81c66e2e695ad5548b726841c00512a9acf18eb5,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
17913,81c66e2e695ad5548b726841c00512a9acf18eb5,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17914,81c66e2e695ad5548b726841c00512a9acf18eb5,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17915,81c66e2e695ad5548b726841c00512a9acf18eb5,/9.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
17916,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/6/jre8/Dockerfile,"# runtime dependency for Tomcat Native Libraries
"
17917,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/6/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
17918,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/6/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17919,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/6/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17920,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/6/jre8/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
17921,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17922,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17923,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17924,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
17925,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17926,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
17927,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17928,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
17929,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17930,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17931,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17932,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk11/openjdk/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
17933,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk11/openjdk/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17934,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
17935,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17936,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
17937,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
17938,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
17939,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17940,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17941,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
17942,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
17943,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
17944,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17945,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
17946,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
17947,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
17948,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
17949,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
17950,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
17951,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17952,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
17953,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
17954,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
17955,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17956,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17957,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
17958,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
17959,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
17960,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17961,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
17962,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
17963,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
17964,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
17965,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
17966,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17967,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
17968,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
17969,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
17970,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17971,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17972,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
17973,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
17974,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
17975,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17976,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
17977,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
17978,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
17979,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
17980,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
17981,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
17982,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17983,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
17984,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
17985,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
17986,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17987,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17988,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17989,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
17990,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
17991,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17992,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
17993,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
17994,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
17995,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk11-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17996,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk11-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
17997,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk11-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
17998,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk11-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
17999,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk11-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
18000,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk11-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18001,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk11-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18002,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk11-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
18003,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk11-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18004,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk11-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
18005,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk11-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18006,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk11-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
18007,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk11-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
18008,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk11-slim/Dockerfile,"# verify Tomcat Native is working properly
"
18009,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18010,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18011,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18012,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
18013,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
18014,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18015,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
18016,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
18017,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
18018,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18019,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18020,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18021,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
18022,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
18023,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
18024,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
18025,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
18026,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18027,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
18028,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
18029,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
18030,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18031,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18032,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
18033,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
18034,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
18035,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18036,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
18037,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
18038,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
18039,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18040,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
18041,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
18042,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
18043,a227157792e94c669148c3c2a09072fb317070e0,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18044,a227157792e94c669148c3c2a09072fb317070e0,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
18045,a227157792e94c669148c3c2a09072fb317070e0,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
18046,a227157792e94c669148c3c2a09072fb317070e0,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
18047,a227157792e94c669148c3c2a09072fb317070e0,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
18048,a227157792e94c669148c3c2a09072fb317070e0,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18049,a227157792e94c669148c3c2a09072fb317070e0,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18050,a227157792e94c669148c3c2a09072fb317070e0,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18051,a227157792e94c669148c3c2a09072fb317070e0,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18052,a227157792e94c669148c3c2a09072fb317070e0,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
18053,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18054,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
18055,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
18056,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
18057,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
18058,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18059,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18060,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
18061,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18062,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
18063,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18064,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
18065,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
18066,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7-slim/Dockerfile,"# verify Tomcat Native is working properly
"
18067,31289c61ce9a5ad829ca9ad8adabf0e3160f16e8,/6-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
18068,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18069,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
18070,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
18071,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
18072,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
18073,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18074,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18075,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
18076,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18077,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
18078,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18079,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
18080,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18081,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18082,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18083,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18084,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/8.5/jre8-alpine/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
18085,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/8.5/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
18086,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/8.5/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18087,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/8.5/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
18088,42acf24d6056b82d396da6658943f5c26e7b5cc1,/8-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
18089,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18090,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18091,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18092,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
18093,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
18094,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
18095,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
18096,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18097,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
18098,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
18099,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
18100,8323df4824d3661f094a1a6c30ed7e13c0536b9e,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
18101,8323df4824d3661f094a1a6c30ed7e13c0536b9e,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
18102,8323df4824d3661f094a1a6c30ed7e13c0536b9e,/8.0/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
18103,8323df4824d3661f094a1a6c30ed7e13c0536b9e,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
18104,8323df4824d3661f094a1a6c30ed7e13c0536b9e,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
18105,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre10/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18106,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre10/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
18107,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre10/Dockerfile,"# only add stretch if we're not already building from within stretch
"
18108,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre10/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
18109,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre10/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
18110,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre10/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18111,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre10/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18112,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre10/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
18113,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre10/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18114,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre10/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
18115,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre10/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18116,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre10/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
18117,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre10/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
18118,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre10/Dockerfile,"# verify Tomcat Native is working properly
"
18119,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18120,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
18121,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
18122,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
18123,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
18124,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18125,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18126,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
18127,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18128,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
18129,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18130,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
18131,ba5a6d7b9fb9fa08480cc53a4ed707ea73cdc4ce,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18132,ba5a6d7b9fb9fa08480cc53a4ed707ea73cdc4ce,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18133,ba5a6d7b9fb9fa08480cc53a4ed707ea73cdc4ce,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18134,ba5a6d7b9fb9fa08480cc53a4ed707ea73cdc4ce,/9.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
18135,ba5a6d7b9fb9fa08480cc53a4ed707ea73cdc4ce,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18136,ba5a6d7b9fb9fa08480cc53a4ed707ea73cdc4ce,/9.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
18137,ba5a6d7b9fb9fa08480cc53a4ed707ea73cdc4ce,/9.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18138,ba5a6d7b9fb9fa08480cc53a4ed707ea73cdc4ce,/9.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
18139,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre10/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18140,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre10/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
18141,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre10/Dockerfile,"# only add stretch if we're not already building from within stretch
"
18142,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre10/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
18143,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre10/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
18144,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre10/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18145,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre10/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18146,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre10/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
18147,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre10/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18148,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre10/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
18149,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre10/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18150,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre10/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
18151,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18152,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
18153,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
18154,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
18155,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
18156,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18157,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18158,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
18159,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18160,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
18161,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18162,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
18163,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
18164,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
18165,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18166,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18167,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18168,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
18169,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk11/openjdk-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18170,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
18171,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18172,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
18173,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
18174,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
18175,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18176,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18177,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
18178,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
18179,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
18180,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18181,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
18182,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
18183,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
18184,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18185,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
18186,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
18187,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
18188,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18189,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18190,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18191,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
18192,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18193,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
18194,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18195,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
18196,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18197,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18198,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18199,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
18200,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18201,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
18202,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18203,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
18204,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
18205,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
18206,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/6/jre7/Dockerfile,"# runtime dependency for Tomcat Native Libraries
"
18207,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/6/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18208,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/6/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18209,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/6/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18210,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/6/jre7/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
18211,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18212,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18213,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18214,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
18215,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
18216,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18217,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
18218,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
18219,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
18220,cb70d3024fc6c3e5ee88ad1616e6e85633e51a0c,/8.5/jre10-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18221,cb70d3024fc6c3e5ee88ad1616e6e85633e51a0c,/8.5/jre10-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
18222,cb70d3024fc6c3e5ee88ad1616e6e85633e51a0c,/8.5/jre10-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
18223,cb70d3024fc6c3e5ee88ad1616e6e85633e51a0c,/8.5/jre10-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
18224,cb70d3024fc6c3e5ee88ad1616e6e85633e51a0c,/8.5/jre10-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
18225,cb70d3024fc6c3e5ee88ad1616e6e85633e51a0c,/8.5/jre10-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18226,cb70d3024fc6c3e5ee88ad1616e6e85633e51a0c,/8.5/jre10-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18227,cb70d3024fc6c3e5ee88ad1616e6e85633e51a0c,/8.5/jre10-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
18228,cb70d3024fc6c3e5ee88ad1616e6e85633e51a0c,/8.5/jre10-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18229,cb70d3024fc6c3e5ee88ad1616e6e85633e51a0c,/8.5/jre10-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
18230,cb70d3024fc6c3e5ee88ad1616e6e85633e51a0c,/8.5/jre10-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18231,cb70d3024fc6c3e5ee88ad1616e6e85633e51a0c,/8.5/jre10-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
18232,74b0911f36d776672bc943f9efb05868d1d5d79a,/6/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
18233,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre10/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18234,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre10/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
18235,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre10/Dockerfile,"# only add stretch if we're not already building from within stretch
"
18236,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre10/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
18237,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre10/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
18238,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre10/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18239,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre10/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18240,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre10/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
18241,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre10/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18242,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre10/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
18243,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre10/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18244,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre10/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
18245,be9bb25a8bec9027dc11a05531ecd1f4171c8411,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18246,be9bb25a8bec9027dc11a05531ecd1f4171c8411,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
18247,be9bb25a8bec9027dc11a05531ecd1f4171c8411,/8.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
18248,be9bb25a8bec9027dc11a05531ecd1f4171c8411,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
18249,be9bb25a8bec9027dc11a05531ecd1f4171c8411,/8.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
18250,be9bb25a8bec9027dc11a05531ecd1f4171c8411,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18251,be9bb25a8bec9027dc11a05531ecd1f4171c8411,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18252,be9bb25a8bec9027dc11a05531ecd1f4171c8411,/8.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
18253,be9bb25a8bec9027dc11a05531ecd1f4171c8411,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18254,be9bb25a8bec9027dc11a05531ecd1f4171c8411,/8.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18255,be9bb25a8bec9027dc11a05531ecd1f4171c8411,/8.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
18256,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18257,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18258,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18259,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
18260,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18261,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
18262,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18263,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
18264,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
18265,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
18266,460dd07bda6a533d8ad7ca8c03ad78d715575056,/8-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
18267,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18268,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
18269,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
18270,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.0/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
18271,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
18272,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18273,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18274,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
18275,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18276,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
18277,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
18278,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.0/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
18279,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18280,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18281,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18282,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
18283,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18284,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
18285,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
18286,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
18287,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
18288,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18289,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18290,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
18291,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18292,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
18293,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18294,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
18295,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre10/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18296,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre10/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
18297,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre10/Dockerfile,"# only add stretch if we're not already building from within stretch
"
18298,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre10/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
18299,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre10/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
18300,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre10/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18301,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre10/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18302,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre10/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
18303,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre10/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18304,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre10/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
18305,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre10/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18306,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre10/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
18307,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre10/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
18308,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre10/Dockerfile,"# verify Tomcat Native is working properly
"
18309,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18310,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18311,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18312,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
18313,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
18314,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
18315,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
18316,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
18317,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18318,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
18319,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
18320,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
18321,68ba169d29cbe2a68b3bc8549daadd9b0cb831c6,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18322,68ba169d29cbe2a68b3bc8549daadd9b0cb831c6,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
18323,68ba169d29cbe2a68b3bc8549daadd9b0cb831c6,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
18324,68ba169d29cbe2a68b3bc8549daadd9b0cb831c6,/7/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
18325,68ba169d29cbe2a68b3bc8549daadd9b0cb831c6,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18326,68ba169d29cbe2a68b3bc8549daadd9b0cb831c6,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18327,68ba169d29cbe2a68b3bc8549daadd9b0cb831c6,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18328,68ba169d29cbe2a68b3bc8549daadd9b0cb831c6,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
18329,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18330,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18331,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18332,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
18333,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18334,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
18335,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18336,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
18337,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
18338,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
18339,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18340,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
18341,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/8.5/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
18342,d183e24a7f4239f84bf521ac96690904adb21a86,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18343,d183e24a7f4239f84bf521ac96690904adb21a86,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18344,d183e24a7f4239f84bf521ac96690904adb21a86,/8.0/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18345,d183e24a7f4239f84bf521ac96690904adb21a86,/8.0/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
18346,d183e24a7f4239f84bf521ac96690904adb21a86,/8.0/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18347,d183e24a7f4239f84bf521ac96690904adb21a86,/8.0/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
18348,d183e24a7f4239f84bf521ac96690904adb21a86,/8.0/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18349,d183e24a7f4239f84bf521ac96690904adb21a86,/8.0/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
18350,2f17559d7a1c62dbc17b63750b31a0beea205120,/8-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
18351,eba2c31453300691978be256d5416821a788850d,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18352,eba2c31453300691978be256d5416821a788850d,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
18353,eba2c31453300691978be256d5416821a788850d,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
18354,eba2c31453300691978be256d5416821a788850d,/8.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
18355,eba2c31453300691978be256d5416821a788850d,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18356,eba2c31453300691978be256d5416821a788850d,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18357,eba2c31453300691978be256d5416821a788850d,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18358,eba2c31453300691978be256d5416821a788850d,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
18359,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18360,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18361,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18362,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
18363,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
18364,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
18365,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
18366,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
18367,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18368,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
18369,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
18370,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
18371,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18372,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18373,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18374,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18375,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
18376,ec75141e3cb6276b07d66c16042152e2d4de119c,/6/jre8/Dockerfile,"# runtime dependency for Tomcat Native Libraries
"
18377,ec75141e3cb6276b07d66c16042152e2d4de119c,/6/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
18378,ec75141e3cb6276b07d66c16042152e2d4de119c,/6/jre8/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
18379,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18380,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18381,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
18382,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
18383,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
18384,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18385,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
18386,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
18387,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
18388,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
18389,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
18390,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
18391,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18392,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
18393,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
18394,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
18395,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk13/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18396,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk13/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18397,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk13/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
18398,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk13/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
18399,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk13/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
18400,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk13/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18401,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk13/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
18402,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk13/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
18403,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk13/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
18404,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk13/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18405,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk13/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
18406,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk13/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
18407,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk13/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
18408,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18409,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
18410,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
18411,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
18412,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
18413,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18414,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18415,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
18416,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18417,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
18418,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18419,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
18420,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
18421,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
18422,5696723b951467b0bcd46c4a830ddb95afb45a5f,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18423,5696723b951467b0bcd46c4a830ddb95afb45a5f,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
18424,5696723b951467b0bcd46c4a830ddb95afb45a5f,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
18425,5696723b951467b0bcd46c4a830ddb95afb45a5f,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
18426,5696723b951467b0bcd46c4a830ddb95afb45a5f,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
18427,5696723b951467b0bcd46c4a830ddb95afb45a5f,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18428,5696723b951467b0bcd46c4a830ddb95afb45a5f,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18429,5696723b951467b0bcd46c4a830ddb95afb45a5f,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18430,5696723b951467b0bcd46c4a830ddb95afb45a5f,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
18431,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18432,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18433,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18434,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
18435,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
18436,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18437,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
18438,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
18439,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
18440,e06e384de299e232670c398deb8b87cec1893eaf,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18441,e06e384de299e232670c398deb8b87cec1893eaf,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18442,e06e384de299e232670c398deb8b87cec1893eaf,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18443,e06e384de299e232670c398deb8b87cec1893eaf,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18444,e06e384de299e232670c398deb8b87cec1893eaf,/8.5/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
18445,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18446,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18447,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18448,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
18449,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
18450,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
18451,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
18452,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
18453,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18454,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
18455,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
18456,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
18457,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18458,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18459,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18460,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.5/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
18461,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18462,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.5/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
18463,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.5/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18464,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.5/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
18465,58c79694a83a12077150ad57b8dd46296548b958,/9.0/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18466,58c79694a83a12077150ad57b8dd46296548b958,/9.0/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18467,58c79694a83a12077150ad57b8dd46296548b958,/9.0/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18468,58c79694a83a12077150ad57b8dd46296548b958,/9.0/jdk11/corretto/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
18469,58c79694a83a12077150ad57b8dd46296548b958,/9.0/jdk11/corretto/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18470,58c79694a83a12077150ad57b8dd46296548b958,/9.0/jdk11/corretto/Dockerfile,"# TODO should we leave these installed, or remove them too?
"
18471,58c79694a83a12077150ad57b8dd46296548b958,/9.0/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html (updating ""reason"" to ""user"" for tomcat-native build dependencies)
# TODO find a better/cleaner way to generically interact with the yumdb for the purposes of marking things as automatically/manually installed
"
18472,58c79694a83a12077150ad57b8dd46296548b958,/9.0/jdk11/corretto/Dockerfile,"# TODO handle ""$nativeBuildDeps"" in a similarly generic way?
"
18473,58c79694a83a12077150ad57b8dd46296548b958,/9.0/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18474,58c79694a83a12077150ad57b8dd46296548b958,/9.0/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
18475,58c79694a83a12077150ad57b8dd46296548b958,/9.0/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
18476,58c79694a83a12077150ad57b8dd46296548b958,/9.0/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
18477,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18478,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18479,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18480,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
18481,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
18482,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18483,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
18484,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
18485,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
18486,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/8.5/jdk14/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18487,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/8.5/jdk14/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18488,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/8.5/jdk14/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18489,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/8.5/jdk14/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
18490,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/8.5/jdk14/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
18491,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/8.5/jdk14/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
18492,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/8.5/jdk14/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
18493,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/8.5/jdk14/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18494,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/8.5/jdk14/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
18495,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/8.5/jdk14/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
18496,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/8.5/jdk14/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
18497,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18498,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18499,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18500,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
18501,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18502,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
18503,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18504,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
18505,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18506,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18507,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
18508,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
18509,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
18510,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18511,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
18512,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
18513,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
18514,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18515,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
18516,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
18517,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
18518,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18519,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18520,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18521,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
18522,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
18523,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18524,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
18525,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
18526,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
18527,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18528,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18529,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18530,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
18531,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18532,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
18533,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18534,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
18535,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
18536,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
18537,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18538,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18539,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18540,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
18541,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18542,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
18543,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18544,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
18545,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18546,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
18547,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
18548,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/8.0/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
18549,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
18550,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
18551,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre9-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18552,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre9-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
18553,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre9-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
18554,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre9-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
18555,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre9-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
18556,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre9-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18557,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre9-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18558,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre9-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
18559,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre9-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18560,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre9-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
18561,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre9-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18562,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre9-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
18563,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18564,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18565,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18566,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
18567,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
18568,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
18569,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
18570,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
18571,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18572,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
18573,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
18574,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
18575,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18576,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
18577,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
18578,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/8.0/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
18579,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18580,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18581,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18582,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
18583,644ae253d0e833410fde43bf71b442294cc33613,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
18584,644ae253d0e833410fde43bf71b442294cc33613,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
18585,644ae253d0e833410fde43bf71b442294cc33613,/8.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
18586,644ae253d0e833410fde43bf71b442294cc33613,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
18587,644ae253d0e833410fde43bf71b442294cc33613,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
18588,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18589,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18590,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18591,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
18592,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
18593,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
18594,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
18595,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
18596,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18597,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
18598,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
18599,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
18600,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18601,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18602,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18603,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
18604,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18605,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
18606,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18607,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
18608,8a2acf4ccfa691465fa41c0828ab6ea47225dfd0,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18609,8a2acf4ccfa691465fa41c0828ab6ea47225dfd0,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18610,8a2acf4ccfa691465fa41c0828ab6ea47225dfd0,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18611,8a2acf4ccfa691465fa41c0828ab6ea47225dfd0,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18612,8a2acf4ccfa691465fa41c0828ab6ea47225dfd0,/9.0/jre8-alpine/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
18613,8a2acf4ccfa691465fa41c0828ab6ea47225dfd0,/9.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
18614,8a2acf4ccfa691465fa41c0828ab6ea47225dfd0,/9.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18615,8a2acf4ccfa691465fa41c0828ab6ea47225dfd0,/9.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
18616,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18617,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18618,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
18619,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
18620,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
18621,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18622,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
18623,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
18624,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
18625,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18626,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
18627,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
18628,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
18629,fee7a58cbf4e48b97bdea6f2547058ce662ca3b4,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18630,fee7a58cbf4e48b97bdea6f2547058ce662ca3b4,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18631,fee7a58cbf4e48b97bdea6f2547058ce662ca3b4,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18632,fee7a58cbf4e48b97bdea6f2547058ce662ca3b4,/9.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
18633,fee7a58cbf4e48b97bdea6f2547058ce662ca3b4,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18634,fee7a58cbf4e48b97bdea6f2547058ce662ca3b4,/9.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
18635,fee7a58cbf4e48b97bdea6f2547058ce662ca3b4,/9.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18636,fee7a58cbf4e48b97bdea6f2547058ce662ca3b4,/9.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
18637,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk14/openjdk-oraclelinux7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18638,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk14/openjdk-oraclelinux7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18639,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk14/openjdk-oraclelinux7/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
18640,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk14/openjdk-oraclelinux7/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
18641,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk14/openjdk-oraclelinux7/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
18642,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk14/openjdk-oraclelinux7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18643,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk14/openjdk-oraclelinux7/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
18644,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk14/openjdk-oraclelinux7/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
18645,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk14/openjdk-oraclelinux7/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
18646,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk14/openjdk-oraclelinux7/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
18647,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk14/openjdk-oraclelinux7/Dockerfile,"# mark any explicit dependencies as manually installed
"
18648,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk14/openjdk-oraclelinux7/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
18649,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk14/openjdk-oraclelinux7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18650,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk14/openjdk-oraclelinux7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
18651,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk14/openjdk-oraclelinux7/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
18652,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk14/openjdk-oraclelinux7/Dockerfile,"# verify Tomcat Native is working properly
"
18653,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18654,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18655,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18656,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
18657,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
18658,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
18659,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
18660,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
18661,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18662,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
18663,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
18664,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
18665,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre7-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18666,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre7-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
18667,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre7-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
18668,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre7-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
18669,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre7-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
18670,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre7-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18671,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre7-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18672,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre7-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
18673,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre7-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18674,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre7-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
18675,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre7-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18676,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre7-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
18677,aceabe036433c68b278767811bac728c6db4f8b3,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18678,aceabe036433c68b278767811bac728c6db4f8b3,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18679,aceabe036433c68b278767811bac728c6db4f8b3,/8.0/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18680,aceabe036433c68b278767811bac728c6db4f8b3,/8.0/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18681,aceabe036433c68b278767811bac728c6db4f8b3,/8.0/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
18682,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18683,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18684,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18685,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
18686,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
18687,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18688,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
18689,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
18690,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
18691,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18692,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18693,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18694,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
18695,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
18696,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18697,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
18698,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
18699,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
18700,91cbc3af72ddf06078da3e7e9ba3ebf431001f28,/8-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
18701,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18702,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18703,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18704,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
18705,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
18706,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
18707,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
18708,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18709,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
18710,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
18711,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
18712,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18713,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18714,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18715,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
18716,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
18717,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
18718,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
18719,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
18720,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18721,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
18722,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
18723,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
18724,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18725,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18726,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
18727,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
18728,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
18729,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18730,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
18731,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
18732,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
18733,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18734,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
18735,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
18736,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
18737,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18738,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18739,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
18740,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
18741,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
18742,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18743,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
18744,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
18745,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
18746,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
18747,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
18748,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
18749,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18750,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
18751,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
18752,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
18753,f6240449622b7a185d13cb19604282e7c56476ae,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18754,f6240449622b7a185d13cb19604282e7c56476ae,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
18755,f6240449622b7a185d13cb19604282e7c56476ae,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
18756,f6240449622b7a185d13cb19604282e7c56476ae,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
18757,f6240449622b7a185d13cb19604282e7c56476ae,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
18758,f6240449622b7a185d13cb19604282e7c56476ae,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18759,f6240449622b7a185d13cb19604282e7c56476ae,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18760,f6240449622b7a185d13cb19604282e7c56476ae,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18761,f6240449622b7a185d13cb19604282e7c56476ae,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
18762,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk11/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18763,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk11/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18764,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk11/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18765,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk11/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
18766,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk11/openjdk-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
18767,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk11/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
18768,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk11/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
18769,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk11/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
18770,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk11/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18771,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk11/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
18772,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk11/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
18773,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk11/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
18774,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18775,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
18776,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
18777,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
18778,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
18779,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18780,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18781,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
18782,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18783,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre7/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
18784,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18785,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
18786,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18787,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18788,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18789,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
18790,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
18791,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18792,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
18793,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
18794,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
18795,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre10/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18796,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre10/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
18797,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre10/Dockerfile,"# only add stretch if we're not already building from within stretch
"
18798,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre10/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
18799,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre10/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
18800,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre10/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18801,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre10/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18802,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre10/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
18803,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre10/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18804,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre10/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
18805,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre10/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18806,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre10/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
18807,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre10/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
18808,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre10/Dockerfile,"# verify Tomcat Native is working properly
"
18809,d485a5c4bfdb50a93ae36e212bbf6b2e6e1bdd9e,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18810,d485a5c4bfdb50a93ae36e212bbf6b2e6e1bdd9e,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18811,d485a5c4bfdb50a93ae36e212bbf6b2e6e1bdd9e,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18812,d485a5c4bfdb50a93ae36e212bbf6b2e6e1bdd9e,/8.5/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
18813,d485a5c4bfdb50a93ae36e212bbf6b2e6e1bdd9e,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18814,d485a5c4bfdb50a93ae36e212bbf6b2e6e1bdd9e,/8.5/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
18815,d485a5c4bfdb50a93ae36e212bbf6b2e6e1bdd9e,/8.5/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18816,d485a5c4bfdb50a93ae36e212bbf6b2e6e1bdd9e,/8.5/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
18817,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18818,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18819,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18820,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
18821,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
18822,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
18823,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
18824,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18825,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
18826,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
18827,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
18828,2045c78917577ff88fbe6787a11041047eb3a3bc,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
18829,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18830,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
18831,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
18832,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
18833,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
18834,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18835,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18836,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
18837,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18838,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre7/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
18839,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18840,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
18841,7392659258be9e70dd2c93faa7aadacd060ab4d2,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18842,7392659258be9e70dd2c93faa7aadacd060ab4d2,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
18843,7392659258be9e70dd2c93faa7aadacd060ab4d2,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
18844,7392659258be9e70dd2c93faa7aadacd060ab4d2,/8.5/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
18845,7392659258be9e70dd2c93faa7aadacd060ab4d2,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18846,7392659258be9e70dd2c93faa7aadacd060ab4d2,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18847,7392659258be9e70dd2c93faa7aadacd060ab4d2,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18848,7392659258be9e70dd2c93faa7aadacd060ab4d2,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
18849,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18850,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18851,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18852,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
18853,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
18854,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
18855,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
18856,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18857,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
18858,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
18859,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
18860,a7f6cf3172b5875be5108bfbbea87ecb94bc4626,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18861,a7f6cf3172b5875be5108bfbbea87ecb94bc4626,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18862,a7f6cf3172b5875be5108bfbbea87ecb94bc4626,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18863,a7f6cf3172b5875be5108bfbbea87ecb94bc4626,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18864,a7f6cf3172b5875be5108bfbbea87ecb94bc4626,/9.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
18865,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18866,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18867,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18868,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
18869,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
18870,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18871,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
18872,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
18873,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
18874,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18875,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
18876,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
18877,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
18878,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
18879,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18880,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18881,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
18882,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18883,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre7/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
18884,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18885,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
18886,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre7/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
18887,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
18888,4f193f544a7deb2dc95a33f8ea447c235c7d180a,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18889,4f193f544a7deb2dc95a33f8ea447c235c7d180a,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18890,4f193f544a7deb2dc95a33f8ea447c235c7d180a,/8.0/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18891,4f193f544a7deb2dc95a33f8ea447c235c7d180a,/8.0/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18892,4f193f544a7deb2dc95a33f8ea447c235c7d180a,/8.0/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
18893,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18894,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18895,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18896,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
18897,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
18898,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
18899,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
18900,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
18901,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18902,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
18903,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
18904,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
18905,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/7/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18906,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/7/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18907,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/7/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18908,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/7/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
18909,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/7/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
18910,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/7/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18911,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/7/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
18912,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/7/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
18913,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/7/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
18914,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre10-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18915,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre10-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
18916,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre10-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
18917,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre10-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
18918,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre10-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
18919,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre10-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18920,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre10-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18921,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre10-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
18922,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre10-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18923,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre10-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
18924,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre10-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18925,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre10-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
18926,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre10/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18927,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre10/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
18928,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre10/Dockerfile,"# only add stretch if we're not already building from within stretch
"
18929,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre10/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
18930,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre10/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
18931,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre10/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18932,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre10/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18933,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre10/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
18934,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre10/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18935,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre10/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
18936,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre10/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18937,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre10/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
18938,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre10/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
18939,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre10/Dockerfile,"# verify Tomcat Native is working properly
"
18940,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18941,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre9/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
18942,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre9/Dockerfile,"# only add stretch if we're not already building from within stretch
"
18943,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre9/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
18944,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre9/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
18945,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18946,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18947,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre9/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
18948,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre9/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18949,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
18950,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18951,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
18952,e826a7e6953f03f8fa03a9faed70721d6de1d3df,/6-jre8/Dockerfile,"# add our user and group first to make sure their IDs get assigned consistently, regardless of whatever dependencies get added
"
18953,e826a7e6953f03f8fa03a9faed70721d6de1d3df,/6-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
18954,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18955,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18956,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
18957,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
18958,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
18959,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18960,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
18961,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
18962,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
18963,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
18964,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# mark any explicit dependencies as manually installed
"
18965,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
18966,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18967,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
18968,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
18969,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# verify Tomcat Native is working properly
"
18970,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18971,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
18972,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
18973,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
18974,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
18975,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18976,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18977,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
18978,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18979,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
18980,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18981,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
18982,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18983,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18984,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18985,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
18986,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
18987,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
18988,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
18989,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
18990,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18991,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
18992,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
18993,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
18994,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18995,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
18996,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
18997,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/8.0/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
18998,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
18999,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
19000,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19001,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19002,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19003,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
19004,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
19005,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19006,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
19007,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
19008,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
19009,2b8ccaf69e5f338e04a04ee934a69c37384dd1e2,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19010,2b8ccaf69e5f338e04a04ee934a69c37384dd1e2,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
19011,2b8ccaf69e5f338e04a04ee934a69c37384dd1e2,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
19012,2b8ccaf69e5f338e04a04ee934a69c37384dd1e2,/8.5/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
19013,2b8ccaf69e5f338e04a04ee934a69c37384dd1e2,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19014,2b8ccaf69e5f338e04a04ee934a69c37384dd1e2,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19015,2b8ccaf69e5f338e04a04ee934a69c37384dd1e2,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19016,2b8ccaf69e5f338e04a04ee934a69c37384dd1e2,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
19017,81c66e2e695ad5548b726841c00512a9acf18eb5,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19018,81c66e2e695ad5548b726841c00512a9acf18eb5,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
19019,81c66e2e695ad5548b726841c00512a9acf18eb5,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
19020,81c66e2e695ad5548b726841c00512a9acf18eb5,/7/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
19021,81c66e2e695ad5548b726841c00512a9acf18eb5,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
19022,81c66e2e695ad5548b726841c00512a9acf18eb5,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19023,81c66e2e695ad5548b726841c00512a9acf18eb5,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19024,81c66e2e695ad5548b726841c00512a9acf18eb5,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
19025,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19026,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
19027,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
19028,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
19029,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
19030,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19031,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19032,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
19033,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19034,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre7/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
19035,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19036,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
19037,d44c35d4ec4907263cdfad76d6c56e6676ddd382,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19038,d44c35d4ec4907263cdfad76d6c56e6676ddd382,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
19039,d44c35d4ec4907263cdfad76d6c56e6676ddd382,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
19040,d44c35d4ec4907263cdfad76d6c56e6676ddd382,/8.5/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
19041,d44c35d4ec4907263cdfad76d6c56e6676ddd382,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19042,d44c35d4ec4907263cdfad76d6c56e6676ddd382,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19043,d44c35d4ec4907263cdfad76d6c56e6676ddd382,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19044,d44c35d4ec4907263cdfad76d6c56e6676ddd382,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
19045,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19046,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19047,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19048,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
19049,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
19050,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
19051,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
19052,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
19053,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19054,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
19055,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
19056,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
19057,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19058,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
19059,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
19060,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
19061,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
19062,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19063,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19064,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
19065,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19066,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
19067,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19068,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
19069,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19070,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre9/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
19071,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre9/Dockerfile,"# only add stretch if we're not already building from within stretch
"
19072,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre9/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
19073,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre9/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
19074,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19075,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19076,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre9/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
19077,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre9/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19078,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
19079,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19080,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
19081,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19082,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19083,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19084,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
19085,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19086,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
19087,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19088,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
19089,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
19090,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
19091,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19092,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19093,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19094,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
19095,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
19096,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
19097,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
19098,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
19099,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19100,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
19101,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
19102,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
19103,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19104,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
19105,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
19106,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
19107,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
19108,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19109,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19110,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
19111,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19112,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
19113,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19114,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
19115,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
19116,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
19117,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19118,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19119,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19120,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
19121,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
19122,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
19123,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
19124,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
19125,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19126,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
19127,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
19128,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
19129,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19130,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
19131,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
19132,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
19133,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
19134,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19135,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19136,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
19137,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19138,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
19139,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19140,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
19141,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19142,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
19143,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
19144,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
19145,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
19146,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19147,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19148,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
19149,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19150,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
19151,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19152,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
19153,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
19154,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
19155,a0377566c7141395d74420b93c94f8fde72c7aa9,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19156,a0377566c7141395d74420b93c94f8fde72c7aa9,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19157,a0377566c7141395d74420b93c94f8fde72c7aa9,/8.0/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19158,a0377566c7141395d74420b93c94f8fde72c7aa9,/8.0/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
19159,a0377566c7141395d74420b93c94f8fde72c7aa9,/8.0/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19160,a0377566c7141395d74420b93c94f8fde72c7aa9,/8.0/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
19161,a0377566c7141395d74420b93c94f8fde72c7aa9,/8.0/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19162,a0377566c7141395d74420b93c94f8fde72c7aa9,/8.0/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
19163,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19164,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19165,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19166,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
19167,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
19168,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
19169,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
19170,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
19171,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19172,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
19173,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
19174,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
19175,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19176,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19177,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19178,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
19179,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19180,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
19181,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19182,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
19183,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
19184,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
19185,9440e94bb99dbb82354c6e46a86a4f3228021956,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19186,9440e94bb99dbb82354c6e46a86a4f3228021956,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
19187,9440e94bb99dbb82354c6e46a86a4f3228021956,/8.0/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19188,9440e94bb99dbb82354c6e46a86a4f3228021956,/8.0/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19189,9440e94bb99dbb82354c6e46a86a4f3228021956,/8.0/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
19190,7392659258be9e70dd2c93faa7aadacd060ab4d2,/6/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19191,7392659258be9e70dd2c93faa7aadacd060ab4d2,/6/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
19192,7392659258be9e70dd2c93faa7aadacd060ab4d2,/6/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
19193,7392659258be9e70dd2c93faa7aadacd060ab4d2,/6/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
19194,7392659258be9e70dd2c93faa7aadacd060ab4d2,/6/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19195,7392659258be9e70dd2c93faa7aadacd060ab4d2,/6/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19196,7392659258be9e70dd2c93faa7aadacd060ab4d2,/6/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19197,7392659258be9e70dd2c93faa7aadacd060ab4d2,/6/jre8/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
19198,efe59ebe52ba94045f4923be85214f4431a982a6,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19199,efe59ebe52ba94045f4923be85214f4431a982a6,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
19200,efe59ebe52ba94045f4923be85214f4431a982a6,/8.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
19201,efe59ebe52ba94045f4923be85214f4431a982a6,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
19202,efe59ebe52ba94045f4923be85214f4431a982a6,/8.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
19203,efe59ebe52ba94045f4923be85214f4431a982a6,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19204,efe59ebe52ba94045f4923be85214f4431a982a6,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19205,efe59ebe52ba94045f4923be85214f4431a982a6,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19206,efe59ebe52ba94045f4923be85214f4431a982a6,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
19207,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk12/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19208,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk12/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19209,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk12/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19210,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk12/openjdk-oracle/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
19211,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk12/openjdk-oracle/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19212,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk12/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
19213,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk12/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
19214,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk12/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
19215,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk12/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
19216,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk12/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
19217,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk12/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19218,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk12/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
19219,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk12/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
19220,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk12/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
19221,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19222,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19223,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
19224,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
19225,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
19226,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19227,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
19228,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-oracle/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
19229,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-oracle/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
19230,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-oracle/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
19231,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
19232,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
19233,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19234,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
19235,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
19236,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
19237,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19238,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19239,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19240,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
19241,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
19242,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19243,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
19244,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
19245,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
19246,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19247,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19248,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19249,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
19250,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19251,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
19252,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19253,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
19254,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
19255,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
19256,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19257,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
19258,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
19259,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
19260,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
19261,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19262,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19263,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
19264,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19265,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
19266,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19267,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
19268,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
19269,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
19270,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19271,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19272,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19273,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
19274,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
19275,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19276,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
19277,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
19278,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
19279,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19280,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19281,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19282,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
19283,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
19284,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
19285,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
19286,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
19287,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19288,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
19289,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
19290,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
19291,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19292,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19293,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19294,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
19295,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19296,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
19297,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19298,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
19299,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19300,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19301,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19302,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
19303,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19304,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
19305,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19306,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
19307,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19308,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19309,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19310,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
19311,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
19312,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19313,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
19314,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
19315,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
19316,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19317,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
19318,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/7/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
19319,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
19320,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/7/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
19321,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19322,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19323,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19324,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/7/jre7/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
19325,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/7/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19326,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/7/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
19327,989f50ed5db788921a4954109b90362e2209295e,/6/jre8/Dockerfile,"# runtime dependency for Tomcat Native Libraries
"
19328,989f50ed5db788921a4954109b90362e2209295e,/6/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
19329,989f50ed5db788921a4954109b90362e2209295e,/6/jre8/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
19330,0e7ff602f64ffc447c210dcf72ffa073d17ffed4,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19331,0e7ff602f64ffc447c210dcf72ffa073d17ffed4,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19332,0e7ff602f64ffc447c210dcf72ffa073d17ffed4,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19333,0e7ff602f64ffc447c210dcf72ffa073d17ffed4,/8.5/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
19334,0e7ff602f64ffc447c210dcf72ffa073d17ffed4,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19335,0e7ff602f64ffc447c210dcf72ffa073d17ffed4,/8.5/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
19336,0e7ff602f64ffc447c210dcf72ffa073d17ffed4,/8.5/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19337,0e7ff602f64ffc447c210dcf72ffa073d17ffed4,/8.5/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
19338,0e7ff602f64ffc447c210dcf72ffa073d17ffed4,/8.5/jre8-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
19339,0e7ff602f64ffc447c210dcf72ffa073d17ffed4,/8.5/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
19340,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre11/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19341,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre11/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
19342,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre11/Dockerfile,"# only add stretch if we're not already building from within stretch
"
19343,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre11/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
19344,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre11/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
19345,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre11/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19346,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre11/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19347,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre11/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
19348,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre11/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19349,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre11/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
19350,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre11/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19351,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre11/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
19352,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre11/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
19353,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre11/Dockerfile,"# verify Tomcat Native is working properly
"
19354,b1a8927025d9a0c01494d7fbc1ae06cd269bb2f8,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19355,b1a8927025d9a0c01494d7fbc1ae06cd269bb2f8,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
19356,b1a8927025d9a0c01494d7fbc1ae06cd269bb2f8,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
19357,b1a8927025d9a0c01494d7fbc1ae06cd269bb2f8,/8.0/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
19358,b1a8927025d9a0c01494d7fbc1ae06cd269bb2f8,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19359,b1a8927025d9a0c01494d7fbc1ae06cd269bb2f8,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19360,b1a8927025d9a0c01494d7fbc1ae06cd269bb2f8,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19361,b1a8927025d9a0c01494d7fbc1ae06cd269bb2f8,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
19362,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19363,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19364,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.0/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19365,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.0/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
19366,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.0/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19367,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.0/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
19368,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.0/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19369,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.0/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
19370,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19371,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19372,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19373,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
19374,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19375,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
19376,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19377,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
19378,35e89070548111261cf6a9e9398556d5b2c4f7f7,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19379,35e89070548111261cf6a9e9398556d5b2c4f7f7,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
19380,35e89070548111261cf6a9e9398556d5b2c4f7f7,/7/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
19381,35e89070548111261cf6a9e9398556d5b2c4f7f7,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
19382,35e89070548111261cf6a9e9398556d5b2c4f7f7,/7/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
19383,35e89070548111261cf6a9e9398556d5b2c4f7f7,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19384,35e89070548111261cf6a9e9398556d5b2c4f7f7,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19385,35e89070548111261cf6a9e9398556d5b2c4f7f7,/7/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
19386,35e89070548111261cf6a9e9398556d5b2c4f7f7,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19387,35e89070548111261cf6a9e9398556d5b2c4f7f7,/7/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19388,35e89070548111261cf6a9e9398556d5b2c4f7f7,/7/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
19389,a436a06d8fb281a85596dab283a1ee41193b97b3,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19390,a436a06d8fb281a85596dab283a1ee41193b97b3,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
19391,a436a06d8fb281a85596dab283a1ee41193b97b3,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
19392,a436a06d8fb281a85596dab283a1ee41193b97b3,/7/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
19393,a436a06d8fb281a85596dab283a1ee41193b97b3,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19394,a436a06d8fb281a85596dab283a1ee41193b97b3,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19395,a436a06d8fb281a85596dab283a1ee41193b97b3,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19396,a436a06d8fb281a85596dab283a1ee41193b97b3,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
19397,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19398,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19399,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19400,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
19401,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
19402,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19403,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
19404,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
19405,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
19406,9440e94bb99dbb82354c6e46a86a4f3228021956,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19407,9440e94bb99dbb82354c6e46a86a4f3228021956,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
19408,9440e94bb99dbb82354c6e46a86a4f3228021956,/8.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19409,9440e94bb99dbb82354c6e46a86a4f3228021956,/8.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19410,9440e94bb99dbb82354c6e46a86a4f3228021956,/8.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
19411,437ad1d98f2ca7667df856d13922b23a22b719d0,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19412,437ad1d98f2ca7667df856d13922b23a22b719d0,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
19413,437ad1d98f2ca7667df856d13922b23a22b719d0,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
19414,437ad1d98f2ca7667df856d13922b23a22b719d0,/7/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
19415,437ad1d98f2ca7667df856d13922b23a22b719d0,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19416,437ad1d98f2ca7667df856d13922b23a22b719d0,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19417,437ad1d98f2ca7667df856d13922b23a22b719d0,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19418,437ad1d98f2ca7667df856d13922b23a22b719d0,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
19419,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19420,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19421,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
19422,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
19423,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
19424,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19425,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
19426,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
19427,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
19428,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
19429,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# mark any explicit dependencies as manually installed
"
19430,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
19431,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19432,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
19433,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
19434,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# verify Tomcat Native is working properly
"
19435,9cabcf1e71b270f31b4ff4d1a30587bb75ef3b76,/8.0/jre8/Dockerfile,"# runtime dependency for Tomcat Native Libraries
"
19436,9cabcf1e71b270f31b4ff4d1a30587bb75ef3b76,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
19437,9cabcf1e71b270f31b4ff4d1a30587bb75ef3b76,/8.0/jre8/Dockerfile,"# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)

"
19438,9cabcf1e71b270f31b4ff4d1a30587bb75ef3b76,/8.0/jre8/Dockerfile,"# http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5048274.html (ie, HACK HACK HACK)
"
19439,9cabcf1e71b270f31b4ff4d1a30587bb75ef3b76,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
19440,9b435c815366378b65a78fa84d3bed5642fddaa6,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19441,9b435c815366378b65a78fa84d3bed5642fddaa6,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
19442,9b435c815366378b65a78fa84d3bed5642fddaa6,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
19443,9b435c815366378b65a78fa84d3bed5642fddaa6,/8.0/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
19444,9b435c815366378b65a78fa84d3bed5642fddaa6,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19445,9b435c815366378b65a78fa84d3bed5642fddaa6,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19446,9b435c815366378b65a78fa84d3bed5642fddaa6,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19447,9b435c815366378b65a78fa84d3bed5642fddaa6,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
19448,7c4365e43f352c981a97eae5090bb055a68ff6a9,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
19449,7c4365e43f352c981a97eae5090bb055a68ff6a9,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
19450,7c4365e43f352c981a97eae5090bb055a68ff6a9,/7/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
19451,7c4365e43f352c981a97eae5090bb055a68ff6a9,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
19452,7c4365e43f352c981a97eae5090bb055a68ff6a9,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
19453,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk12/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19454,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk12/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19455,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk12/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
19456,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk12/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
19457,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk12/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
19458,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk12/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19459,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk12/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
19460,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk12/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
19461,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk12/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
19462,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk12/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19463,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk12/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
19464,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk12/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
19465,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk12/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
19466,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19467,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19468,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19469,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
19470,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
19471,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
19472,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
19473,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19474,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
19475,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
19476,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
19477,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19478,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19479,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19480,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
19481,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
19482,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
19483,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
19484,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
19485,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19486,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
19487,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
19488,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
19489,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19490,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19491,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19492,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
19493,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
19494,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19495,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
19496,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
19497,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
19498,a0377566c7141395d74420b93c94f8fde72c7aa9,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19499,a0377566c7141395d74420b93c94f8fde72c7aa9,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19500,a0377566c7141395d74420b93c94f8fde72c7aa9,/8.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19501,a0377566c7141395d74420b93c94f8fde72c7aa9,/8.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
19502,a0377566c7141395d74420b93c94f8fde72c7aa9,/8.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19503,a0377566c7141395d74420b93c94f8fde72c7aa9,/8.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
19504,a0377566c7141395d74420b93c94f8fde72c7aa9,/8.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19505,a0377566c7141395d74420b93c94f8fde72c7aa9,/8.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
19506,4e9726eb5182dd6fe93402485b9db4aae22177e1,/8-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
19507,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19508,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19509,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19510,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
19511,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
19512,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19513,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
19514,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
19515,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
19516,29f8484d577632d5124082f87719d7ee28ab939e,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19517,29f8484d577632d5124082f87719d7ee28ab939e,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
19518,29f8484d577632d5124082f87719d7ee28ab939e,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
19519,29f8484d577632d5124082f87719d7ee28ab939e,/9.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
19520,29f8484d577632d5124082f87719d7ee28ab939e,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19521,29f8484d577632d5124082f87719d7ee28ab939e,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19522,29f8484d577632d5124082f87719d7ee28ab939e,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19523,29f8484d577632d5124082f87719d7ee28ab939e,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
19524,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk13/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19525,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk13/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19526,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk13/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
19527,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk13/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
19528,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk13/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
19529,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk13/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19530,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk13/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
19531,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk13/openjdk-oracle/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
19532,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk13/openjdk-oracle/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
19533,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk13/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
19534,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk13/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
19535,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk13/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19536,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk13/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
19537,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk13/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
19538,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk13/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
19539,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19540,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19541,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19542,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
19543,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
19544,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
19545,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
19546,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
19547,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19548,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
19549,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
19550,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
19551,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19552,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19553,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19554,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
19555,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
19556,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19557,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
19558,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
19559,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
19560,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19561,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19562,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
19563,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
19564,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
19565,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19566,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
19567,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
19568,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
19569,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19570,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
19571,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
19572,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
19573,116d0258150ad27d7141d16f7492a5215a4b8fec,/7-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
19574,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19575,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19576,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19577,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
19578,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19579,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
19580,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19581,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
19582,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
19583,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
19584,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19585,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
19586,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
19587,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/7/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
19588,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
19589,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
19590,f4c146bcc2f16fd1d2919a392adb46c737851dc9,/6/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19591,f4c146bcc2f16fd1d2919a392adb46c737851dc9,/6/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
19592,f4c146bcc2f16fd1d2919a392adb46c737851dc9,/6/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
19593,f4c146bcc2f16fd1d2919a392adb46c737851dc9,/6/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
19594,f4c146bcc2f16fd1d2919a392adb46c737851dc9,/6/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19595,f4c146bcc2f16fd1d2919a392adb46c737851dc9,/6/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19596,f4c146bcc2f16fd1d2919a392adb46c737851dc9,/6/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19597,f4c146bcc2f16fd1d2919a392adb46c737851dc9,/6/jre8/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
19598,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19599,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19600,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
19601,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
19602,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
19603,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19604,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
19605,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
19606,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
19607,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19608,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
19609,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
19610,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
19611,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19612,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19613,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19614,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
19615,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
19616,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19617,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
19618,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
19619,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
19620,9cabcf1e71b270f31b4ff4d1a30587bb75ef3b76,/7/jre7/Dockerfile,"# runtime dependency for Tomcat Native Libraries
"
19621,9cabcf1e71b270f31b4ff4d1a30587bb75ef3b76,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
19622,9cabcf1e71b270f31b4ff4d1a30587bb75ef3b76,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
19623,82551c9d60c48d35a68b8eb2cc069913be9078ae,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
19624,19bdd962a61b69e3a35ddc0a8936854cc2e405f6,/8.0/jre7/Dockerfile,"# runtime dependency for Tomcat Native Libraries
"
19625,19bdd962a61b69e3a35ddc0a8936854cc2e405f6,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
19626,19bdd962a61b69e3a35ddc0a8936854cc2e405f6,/8.0/jre7/Dockerfile,"# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)

"
19627,19bdd962a61b69e3a35ddc0a8936854cc2e405f6,/8.0/jre7/Dockerfile,"# http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5048274.html (ie, HACK HACK HACK)
"
19628,19bdd962a61b69e3a35ddc0a8936854cc2e405f6,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
19629,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19630,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19631,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19632,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
19633,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
19634,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
19635,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
19636,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
19637,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19638,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
19639,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
19640,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
19641,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19642,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19643,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19644,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
19645,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
19646,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
19647,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
19648,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19649,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
19650,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
19651,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
19652,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19653,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
19654,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
19655,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
19656,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
19657,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19658,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19659,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
19660,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19661,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
19662,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19663,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
19664,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
19665,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
19666,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19667,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
19668,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
19669,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
19670,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
19671,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19672,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19673,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
19674,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19675,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
19676,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19677,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
19678,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19679,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19680,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19681,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
19682,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
19683,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19684,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
19685,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
19686,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
19687,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19688,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19689,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19690,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19691,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.5/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
19692,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19693,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
19694,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
19695,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
19696,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
19697,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19698,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19699,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
19700,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19701,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
19702,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19703,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
19704,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre10-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19705,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre10-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
19706,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre10-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
19707,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre10-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
19708,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre10-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
19709,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre10-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19710,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre10-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19711,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre10-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
19712,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre10-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19713,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre10-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
19714,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre10-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19715,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre10-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
19716,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre11/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19717,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre11/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
19718,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre11/Dockerfile,"# only add stretch if we're not already building from within stretch
"
19719,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre11/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
19720,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre11/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
19721,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre11/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19722,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre11/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19723,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre11/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
19724,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre11/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19725,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre11/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
19726,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre11/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19727,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre11/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
19728,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre11/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
19729,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre11/Dockerfile,"# verify Tomcat Native is working properly
"
19730,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19731,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19732,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19733,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
19734,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
19735,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19736,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
19737,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
19738,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
19739,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19740,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19741,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19742,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
19743,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
19744,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19745,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
19746,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
19747,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
19748,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk11/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19749,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk11/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19750,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk11/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19751,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk11/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
19752,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk11/openjdk-slim-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
19753,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk11/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
19754,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk11/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
19755,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk11/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
19756,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk11/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19757,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk11/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
19758,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk11/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
19759,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk11/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
19760,4f193f544a7deb2dc95a33f8ea447c235c7d180a,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19761,4f193f544a7deb2dc95a33f8ea447c235c7d180a,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19762,4f193f544a7deb2dc95a33f8ea447c235c7d180a,/8.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19763,4f193f544a7deb2dc95a33f8ea447c235c7d180a,/8.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19764,4f193f544a7deb2dc95a33f8ea447c235c7d180a,/8.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
19765,07b235d59c6a87e8c8ca14918105de993797435a,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19766,07b235d59c6a87e8c8ca14918105de993797435a,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19767,07b235d59c6a87e8c8ca14918105de993797435a,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19768,07b235d59c6a87e8c8ca14918105de993797435a,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19769,07b235d59c6a87e8c8ca14918105de993797435a,/9.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
19770,aceabe036433c68b278767811bac728c6db4f8b3,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19771,aceabe036433c68b278767811bac728c6db4f8b3,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
19772,aceabe036433c68b278767811bac728c6db4f8b3,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
19773,aceabe036433c68b278767811bac728c6db4f8b3,/9.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
19774,aceabe036433c68b278767811bac728c6db4f8b3,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19775,aceabe036433c68b278767811bac728c6db4f8b3,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19776,aceabe036433c68b278767811bac728c6db4f8b3,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19777,aceabe036433c68b278767811bac728c6db4f8b3,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
19778,ac840829bd52309030c8811d292776888109df63,/8.5/jdk13/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19779,ac840829bd52309030c8811d292776888109df63,/8.5/jdk13/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19780,ac840829bd52309030c8811d292776888109df63,/8.5/jdk13/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
19781,ac840829bd52309030c8811d292776888109df63,/8.5/jdk13/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
19782,ac840829bd52309030c8811d292776888109df63,/8.5/jdk13/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
19783,ac840829bd52309030c8811d292776888109df63,/8.5/jdk13/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19784,ac840829bd52309030c8811d292776888109df63,/8.5/jdk13/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
19785,ac840829bd52309030c8811d292776888109df63,/8.5/jdk13/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
19786,ac840829bd52309030c8811d292776888109df63,/8.5/jdk13/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
19787,ac840829bd52309030c8811d292776888109df63,/8.5/jdk13/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19788,ac840829bd52309030c8811d292776888109df63,/8.5/jdk13/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
19789,ac840829bd52309030c8811d292776888109df63,/8.5/jdk13/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
19790,ac840829bd52309030c8811d292776888109df63,/8.5/jdk13/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
19791,9440e94bb99dbb82354c6e46a86a4f3228021956,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19792,9440e94bb99dbb82354c6e46a86a4f3228021956,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
19793,9440e94bb99dbb82354c6e46a86a4f3228021956,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
19794,9440e94bb99dbb82354c6e46a86a4f3228021956,/8.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
19795,9440e94bb99dbb82354c6e46a86a4f3228021956,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
19796,9440e94bb99dbb82354c6e46a86a4f3228021956,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19797,9440e94bb99dbb82354c6e46a86a4f3228021956,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19798,9440e94bb99dbb82354c6e46a86a4f3228021956,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
19799,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk8/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19800,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk8/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19801,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk8/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19802,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk8/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
19803,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk8/openjdk-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
19804,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk8/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
19805,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk8/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
19806,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk8/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
19807,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk8/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19808,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk8/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
19809,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk8/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
19810,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk8/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
19811,c60667e01a4992662254338882cfd3acb94e692c,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19812,c60667e01a4992662254338882cfd3acb94e692c,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19813,c60667e01a4992662254338882cfd3acb94e692c,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19814,c60667e01a4992662254338882cfd3acb94e692c,/9.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
19815,c60667e01a4992662254338882cfd3acb94e692c,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19816,c60667e01a4992662254338882cfd3acb94e692c,/9.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
19817,c60667e01a4992662254338882cfd3acb94e692c,/9.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19818,c60667e01a4992662254338882cfd3acb94e692c,/9.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
19819,c60667e01a4992662254338882cfd3acb94e692c,/9.0/jre8-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
19820,c60667e01a4992662254338882cfd3acb94e692c,/9.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
19821,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19822,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19823,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19824,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
19825,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
19826,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
19827,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
19828,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
19829,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19830,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
19831,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
19832,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
19833,ac48cbb92d2664675929d013fd163fbc153697d9,/8.5/jdk13/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19834,ac48cbb92d2664675929d013fd163fbc153697d9,/8.5/jdk13/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19835,ac48cbb92d2664675929d013fd163fbc153697d9,/8.5/jdk13/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19836,ac48cbb92d2664675929d013fd163fbc153697d9,/8.5/jdk13/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
19837,ac48cbb92d2664675929d013fd163fbc153697d9,/8.5/jdk13/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
19838,ac48cbb92d2664675929d013fd163fbc153697d9,/8.5/jdk13/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
19839,ac48cbb92d2664675929d013fd163fbc153697d9,/8.5/jdk13/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
19840,ac48cbb92d2664675929d013fd163fbc153697d9,/8.5/jdk13/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19841,ac48cbb92d2664675929d013fd163fbc153697d9,/8.5/jdk13/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
19842,ac48cbb92d2664675929d013fd163fbc153697d9,/8.5/jdk13/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
19843,ac48cbb92d2664675929d013fd163fbc153697d9,/8.5/jdk13/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
19844,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19845,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
19846,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
19847,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
19848,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
19849,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19850,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19851,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
19852,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19853,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
19854,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19855,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
19856,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19857,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19858,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
19859,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
19860,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
19861,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19862,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
19863,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
19864,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
19865,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
19866,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
19867,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
19868,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19869,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
19870,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
19871,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
19872,2d96f919237f0211d39409da5b2d0de7e3d8733b,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19873,2d96f919237f0211d39409da5b2d0de7e3d8733b,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19874,2d96f919237f0211d39409da5b2d0de7e3d8733b,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19875,2d96f919237f0211d39409da5b2d0de7e3d8733b,/8.5/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
19876,2d96f919237f0211d39409da5b2d0de7e3d8733b,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19877,2d96f919237f0211d39409da5b2d0de7e3d8733b,/8.5/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
19878,2d96f919237f0211d39409da5b2d0de7e3d8733b,/8.5/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19879,2d96f919237f0211d39409da5b2d0de7e3d8733b,/8.5/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
19880,2d96f919237f0211d39409da5b2d0de7e3d8733b,/8.5/jre8-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
19881,2d96f919237f0211d39409da5b2d0de7e3d8733b,/8.5/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
19882,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19883,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
19884,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
19885,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
19886,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
19887,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19888,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19889,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
19890,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19891,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
19892,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19893,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
19894,1691653797eb1f26b4e1d4898c71094ff9104e0e,/6-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
19895,221fa4f6f1abfa3f033d4be781fa48faecbee212,/8-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
19896,aceabe036433c68b278767811bac728c6db4f8b3,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19897,aceabe036433c68b278767811bac728c6db4f8b3,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19898,aceabe036433c68b278767811bac728c6db4f8b3,/8.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19899,aceabe036433c68b278767811bac728c6db4f8b3,/8.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19900,aceabe036433c68b278767811bac728c6db4f8b3,/8.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
19901,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19902,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19903,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19904,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
19905,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19906,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
19907,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19908,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
19909,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
19910,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
19911,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19912,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19913,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19914,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
19915,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
19916,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19917,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
19918,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
19919,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
19920,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre11/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19921,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre11/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
19922,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre11/Dockerfile,"# only add stretch if we're not already building from within stretch
"
19923,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre11/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
19924,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre11/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
19925,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre11/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19926,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre11/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19927,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre11/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
19928,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre11/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19929,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre11/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
19930,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre11/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19931,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre11/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
19932,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre11/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
19933,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre11/Dockerfile,"# verify Tomcat Native is working properly
"
19934,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19935,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19936,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19937,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
19938,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
19939,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
19940,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
19941,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19942,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
19943,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
19944,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
19945,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19946,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19947,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19948,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
19949,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
19950,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
19951,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
19952,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19953,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
19954,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
19955,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
19956,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19957,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
19958,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
19959,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
19960,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
19961,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19962,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19963,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
19964,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19965,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
19966,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19967,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
19968,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
19969,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
19970,644ae253d0e833410fde43bf71b442294cc33613,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
19971,644ae253d0e833410fde43bf71b442294cc33613,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
19972,644ae253d0e833410fde43bf71b442294cc33613,/8.0/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
19973,644ae253d0e833410fde43bf71b442294cc33613,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
19974,644ae253d0e833410fde43bf71b442294cc33613,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
19975,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19976,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
19977,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
19978,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/8.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
19979,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19980,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19981,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19982,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
19983,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19984,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19985,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19986,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
19987,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
19988,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
19989,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
19990,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
19991,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19992,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
19993,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
19994,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
19995,215ab750b637a4a8deedc03a0954a646b351758a,/9.0/jdk13/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19996,215ab750b637a4a8deedc03a0954a646b351758a,/9.0/jdk13/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19997,215ab750b637a4a8deedc03a0954a646b351758a,/9.0/jdk13/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19998,215ab750b637a4a8deedc03a0954a646b351758a,/9.0/jdk13/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
19999,215ab750b637a4a8deedc03a0954a646b351758a,/9.0/jdk13/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
20000,215ab750b637a4a8deedc03a0954a646b351758a,/9.0/jdk13/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
20001,215ab750b637a4a8deedc03a0954a646b351758a,/9.0/jdk13/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
20002,215ab750b637a4a8deedc03a0954a646b351758a,/9.0/jdk13/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20003,215ab750b637a4a8deedc03a0954a646b351758a,/9.0/jdk13/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
20004,215ab750b637a4a8deedc03a0954a646b351758a,/9.0/jdk13/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
20005,215ab750b637a4a8deedc03a0954a646b351758a,/9.0/jdk13/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
20006,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20007,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20008,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20009,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
20010,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
20011,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
20012,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
20013,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
20014,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20015,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
20016,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
20017,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
20018,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20019,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
20020,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
20021,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/8.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
20022,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
20023,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
20024,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20025,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
20026,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/7/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
20027,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20028,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20029,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
20030,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
20031,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
20032,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20033,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
20034,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-oracle/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
20035,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-oracle/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
20036,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
20037,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
20038,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20039,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
20040,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
20041,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
20042,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk13/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20043,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk13/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20044,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk13/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
20045,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk13/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
20046,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk13/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
20047,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk13/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20048,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk13/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
20049,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk13/openjdk-oracle/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
20050,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk13/openjdk-oracle/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
20051,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk13/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
20052,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk13/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
20053,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk13/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20054,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk13/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
20055,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk13/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
20056,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk13/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
20057,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20058,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20059,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
20060,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
20061,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
20062,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20063,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
20064,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
20065,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
20066,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20067,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
20068,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
20069,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
20070,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20071,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20072,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20073,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
20074,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
20075,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
20076,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
20077,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
20078,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20079,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
20080,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
20081,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
20082,676f0e07000cd25c027b71d2433ddf531a75eefd,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20083,676f0e07000cd25c027b71d2433ddf531a75eefd,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
20084,676f0e07000cd25c027b71d2433ddf531a75eefd,/8.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
20085,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20086,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
20087,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
20088,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
20089,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
20090,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20091,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20092,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
20093,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
20094,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre7/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
20095,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20096,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
20097,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre7/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
20098,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
20099,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20100,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20101,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20102,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
20103,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
20104,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
20105,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
20106,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
20107,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20108,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
20109,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
20110,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
20111,ec75141e3cb6276b07d66c16042152e2d4de119c,/6/jre7/Dockerfile,"# runtime dependency for Tomcat Native Libraries
"
20112,ec75141e3cb6276b07d66c16042152e2d4de119c,/6/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
20113,ec75141e3cb6276b07d66c16042152e2d4de119c,/6/jre7/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
20114,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20115,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20116,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20117,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
20118,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
20119,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
20120,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
20121,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
20122,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20123,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
20124,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
20125,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
20126,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk12/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20127,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk12/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20128,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk12/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
20129,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk12/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
20130,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk12/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
20131,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk12/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20132,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk12/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
20133,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk12/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
20134,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk12/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
20135,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk12/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20136,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk12/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
20137,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk12/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
20138,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk12/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
20139,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20140,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
20141,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
20142,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
20143,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
20144,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20145,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20146,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
20147,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
20148,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
20149,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20150,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
20151,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
20152,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
20153,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20154,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
20155,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
20156,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
20157,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
20158,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20159,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20160,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
20161,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
20162,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
20163,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20164,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
20165,9c280294942795515740cb6d78b1d51d95b31928,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20166,9c280294942795515740cb6d78b1d51d95b31928,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
20167,9c280294942795515740cb6d78b1d51d95b31928,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
20168,9c280294942795515740cb6d78b1d51d95b31928,/8.5/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
20169,9c280294942795515740cb6d78b1d51d95b31928,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20170,9c280294942795515740cb6d78b1d51d95b31928,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20171,9c280294942795515740cb6d78b1d51d95b31928,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
20172,9c280294942795515740cb6d78b1d51d95b31928,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
20173,eba2c31453300691978be256d5416821a788850d,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20174,eba2c31453300691978be256d5416821a788850d,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
20175,eba2c31453300691978be256d5416821a788850d,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
20176,eba2c31453300691978be256d5416821a788850d,/8.0/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
20177,eba2c31453300691978be256d5416821a788850d,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20178,eba2c31453300691978be256d5416821a788850d,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20179,eba2c31453300691978be256d5416821a788850d,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
20180,eba2c31453300691978be256d5416821a788850d,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
20181,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20182,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20183,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20184,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
20185,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
20186,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
20187,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20188,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
20189,2f17559d7a1c62dbc17b63750b31a0beea205120,/8-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
20190,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre10-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20191,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre10-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
20192,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre10-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
20193,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre10-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
20194,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre10-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
20195,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre10-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20196,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre10-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20197,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre10-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
20198,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre10-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
20199,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre10-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
20200,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre10-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20201,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre10-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
20202,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20203,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20204,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20205,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/7/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
20206,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
20207,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/7/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
20208,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/7/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20209,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/7/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
20210,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20211,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
20212,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/8.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20213,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/8.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
20214,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/8.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
20215,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20216,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20217,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20218,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
20219,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
20220,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
20221,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
20222,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
20223,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20224,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
20225,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
20226,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
20227,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20228,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
20229,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
20230,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
20231,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
20232,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20233,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20234,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
20235,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
20236,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
20237,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20238,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
20239,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
20240,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
20241,68ba169d29cbe2a68b3bc8549daadd9b0cb831c6,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20242,68ba169d29cbe2a68b3bc8549daadd9b0cb831c6,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
20243,68ba169d29cbe2a68b3bc8549daadd9b0cb831c6,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
20244,68ba169d29cbe2a68b3bc8549daadd9b0cb831c6,/7/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
20245,68ba169d29cbe2a68b3bc8549daadd9b0cb831c6,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20246,68ba169d29cbe2a68b3bc8549daadd9b0cb831c6,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20247,68ba169d29cbe2a68b3bc8549daadd9b0cb831c6,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
20248,68ba169d29cbe2a68b3bc8549daadd9b0cb831c6,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
20249,fae008566295d1eec89de04385215fdd54eceda5,/9.0/jre10-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20250,fae008566295d1eec89de04385215fdd54eceda5,/9.0/jre10-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
20251,fae008566295d1eec89de04385215fdd54eceda5,/9.0/jre10-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
20252,fae008566295d1eec89de04385215fdd54eceda5,/9.0/jre10-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
20253,fae008566295d1eec89de04385215fdd54eceda5,/9.0/jre10-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
20254,fae008566295d1eec89de04385215fdd54eceda5,/9.0/jre10-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20255,fae008566295d1eec89de04385215fdd54eceda5,/9.0/jre10-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20256,fae008566295d1eec89de04385215fdd54eceda5,/9.0/jre10-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
20257,fae008566295d1eec89de04385215fdd54eceda5,/9.0/jre10-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
20258,fae008566295d1eec89de04385215fdd54eceda5,/9.0/jre10-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
20259,fae008566295d1eec89de04385215fdd54eceda5,/9.0/jre10-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20260,fae008566295d1eec89de04385215fdd54eceda5,/9.0/jre10-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
20261,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20262,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20263,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20264,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
20265,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
20266,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
20267,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20268,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
20269,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20270,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
20271,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
20272,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
20273,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20274,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20275,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
20276,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
20277,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk8/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20278,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk8/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20279,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk8/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20280,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk8/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
20281,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk8/openjdk-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
20282,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk8/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
20283,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk8/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
20284,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk8/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
20285,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk8/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20286,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk8/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
20287,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk8/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
20288,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk8/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
20289,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20290,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20291,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
20292,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
20293,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
20294,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20295,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
20296,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
20297,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
20298,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
20299,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
20300,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20301,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
20302,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
20303,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
20304,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre10-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20305,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre10-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
20306,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre10-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
20307,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre10-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
20308,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre10-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
20309,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre10-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20310,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre10-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20311,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre10-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
20312,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre10-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
20313,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre10-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
20314,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre10-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20315,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre10-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
20316,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre10-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
20317,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre10-slim/Dockerfile,"# verify Tomcat Native is working properly
"
20318,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20319,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
20320,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
20321,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
20322,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
20323,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20324,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
20325,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
20326,460dd07bda6a533d8ad7ca8c03ad78d715575056,/8-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
20327,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20328,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20329,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20330,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
20331,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
20332,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
20333,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20334,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
20335,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre7-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
20336,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
20337,be9bb25a8bec9027dc11a05531ecd1f4171c8411,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20338,be9bb25a8bec9027dc11a05531ecd1f4171c8411,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
20339,be9bb25a8bec9027dc11a05531ecd1f4171c8411,/8.0/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
20340,be9bb25a8bec9027dc11a05531ecd1f4171c8411,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
20341,be9bb25a8bec9027dc11a05531ecd1f4171c8411,/8.0/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
20342,be9bb25a8bec9027dc11a05531ecd1f4171c8411,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20343,be9bb25a8bec9027dc11a05531ecd1f4171c8411,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20344,be9bb25a8bec9027dc11a05531ecd1f4171c8411,/8.0/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
20345,be9bb25a8bec9027dc11a05531ecd1f4171c8411,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
20346,be9bb25a8bec9027dc11a05531ecd1f4171c8411,/8.0/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20347,be9bb25a8bec9027dc11a05531ecd1f4171c8411,/8.0/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
20348,74b0911f36d776672bc943f9efb05868d1d5d79a,/6/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
20349,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20350,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20351,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20352,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
20353,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
20354,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
20355,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
20356,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
20357,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20358,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
20359,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
20360,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
20361,6541873f38f72fdd2b4aab6afcf692f4a513b05d,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20362,6541873f38f72fdd2b4aab6afcf692f4a513b05d,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20363,6541873f38f72fdd2b4aab6afcf692f4a513b05d,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20364,6541873f38f72fdd2b4aab6afcf692f4a513b05d,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
20365,6541873f38f72fdd2b4aab6afcf692f4a513b05d,/7/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
20366,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20367,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20368,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20369,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
20370,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
20371,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
20372,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
20373,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
20374,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20375,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
20376,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
20377,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
20378,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20379,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20380,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20381,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
20382,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
20383,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
20384,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
20385,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
20386,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20387,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
20388,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
20389,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
20390,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20391,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
20392,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
20393,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
20394,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
20395,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20396,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20397,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
20398,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
20399,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
20400,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20401,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
20402,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
20403,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
20404,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre10-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20405,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre10-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
20406,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre10-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
20407,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre10-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
20408,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre10-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
20409,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre10-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20410,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre10-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20411,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre10-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
20412,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre10-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
20413,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre10-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
20414,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre10-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20415,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre10-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
20416,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/6/jre8/Dockerfile,"# runtime dependency for Tomcat Native Libraries
"
20417,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/6/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20418,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/6/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20419,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/6/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
20420,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/6/jre8/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
20421,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20422,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20423,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20424,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
20425,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/7/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20426,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/7/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
20427,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20428,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20429,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
20430,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
20431,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
20432,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20433,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
20434,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
20435,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
20436,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20437,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
20438,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
20439,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
20440,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre11/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20441,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre11/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
20442,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre11/Dockerfile,"# only add stretch if we're not already building from within stretch
"
20443,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre11/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
20444,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre11/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
20445,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre11/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20446,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre11/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20447,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre11/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
20448,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre11/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
20449,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre11/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
20450,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre11/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20451,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre11/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
20452,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre11/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
20453,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre11/Dockerfile,"# verify Tomcat Native is working properly
"
20454,8323df4824d3661f094a1a6c30ed7e13c0536b9e,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
20455,8323df4824d3661f094a1a6c30ed7e13c0536b9e,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
20456,8323df4824d3661f094a1a6c30ed7e13c0536b9e,/8.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
20457,8323df4824d3661f094a1a6c30ed7e13c0536b9e,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
20458,8323df4824d3661f094a1a6c30ed7e13c0536b9e,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
20459,0c424e7244945e69d564fbc27f644ec20f58e193,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20460,0c424e7244945e69d564fbc27f644ec20f58e193,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20461,0c424e7244945e69d564fbc27f644ec20f58e193,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20462,0c424e7244945e69d564fbc27f644ec20f58e193,/8.5/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
20463,0c424e7244945e69d564fbc27f644ec20f58e193,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
20464,0c424e7244945e69d564fbc27f644ec20f58e193,/8.5/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
20465,0c424e7244945e69d564fbc27f644ec20f58e193,/8.5/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20466,0c424e7244945e69d564fbc27f644ec20f58e193,/8.5/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
20467,0c424e7244945e69d564fbc27f644ec20f58e193,/8.5/jre8-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
20468,0c424e7244945e69d564fbc27f644ec20f58e193,/8.5/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
20469,42acf24d6056b82d396da6658943f5c26e7b5cc1,/8-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
20470,656c22d037ccaa6adaedbb791febbd2e5197fadd,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20471,656c22d037ccaa6adaedbb791febbd2e5197fadd,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
20472,656c22d037ccaa6adaedbb791febbd2e5197fadd,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
20473,656c22d037ccaa6adaedbb791febbd2e5197fadd,/8.5/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
20474,656c22d037ccaa6adaedbb791febbd2e5197fadd,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20475,656c22d037ccaa6adaedbb791febbd2e5197fadd,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20476,656c22d037ccaa6adaedbb791febbd2e5197fadd,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
20477,656c22d037ccaa6adaedbb791febbd2e5197fadd,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
20478,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20479,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20480,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
20481,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
20482,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
20483,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20484,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
20485,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
20486,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
20487,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
20488,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
20489,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
20490,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20491,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
20492,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
20493,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
20494,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20495,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20496,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20497,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
20498,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
20499,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20500,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
20501,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
20502,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
20503,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20504,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20505,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
20506,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
20507,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
20508,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20509,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
20510,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
20511,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
20512,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
20513,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
20514,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
20515,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20516,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
20517,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
20518,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
20519,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20520,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20521,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20522,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
20523,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
20524,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20525,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
20526,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
20527,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
20528,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre7-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20529,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre7-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
20530,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre7-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
20531,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre7-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
20532,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre7-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
20533,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre7-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20534,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre7-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20535,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre7-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
20536,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre7-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
20537,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre7-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
20538,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre7-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20539,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre7-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
20540,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre7-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20541,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre7-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
20542,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre7-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
20543,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre7-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
20544,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre7-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
20545,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre7-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20546,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre7-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20547,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre7-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
20548,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre7-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
20549,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre7-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
20550,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre7-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20551,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre7-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
20552,31289c61ce9a5ad829ca9ad8adabf0e3160f16e8,/6-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
20553,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20554,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20555,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20556,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
20557,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
20558,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
20559,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
20560,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
20561,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20562,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
20563,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
20564,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
20565,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre7-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20566,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre7-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
20567,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre7-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
20568,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre7-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
20569,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre7-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
20570,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre7-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20571,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre7-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20572,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre7-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
20573,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre7-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
20574,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre7-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
20575,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre7-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20576,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre7-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
20577,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre10/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20578,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre10/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
20579,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre10/Dockerfile,"# only add stretch if we're not already building from within stretch
"
20580,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre10/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
20581,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre10/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
20582,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre10/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20583,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre10/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20584,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre10/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
20585,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre10/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
20586,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre10/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
20587,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre10/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20588,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre10/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
20589,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre10/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
20590,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre10/Dockerfile,"# verify Tomcat Native is working properly
"
20591,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20592,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20593,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20594,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
20595,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/7/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20596,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/7/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
20597,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/6/jre7/Dockerfile,"# runtime dependency for Tomcat Native Libraries
"
20598,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/6/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
20599,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/6/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20600,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/6/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
20601,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/6/jre7/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
20602,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20603,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20604,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20605,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
20606,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
20607,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
20608,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
20609,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
20610,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20611,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
20612,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
20613,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
20614,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20615,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20616,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20617,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
20618,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
20619,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
20620,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20621,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
20622,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre8-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
20623,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
20624,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20625,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20626,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
20627,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
20628,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
20629,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20630,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
20631,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
20632,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
20633,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20634,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
20635,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
20636,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
20637,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20638,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20639,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20640,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
20641,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
20642,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20643,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
20644,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
20645,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
20646,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20647,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
20648,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/7/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
20649,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
20650,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/7/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
20651,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20652,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20653,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
20654,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
20655,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20656,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre9/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
20657,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre9/Dockerfile,"# only add stretch if we're not already building from within stretch
"
20658,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre9/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
20659,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre9/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
20660,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20661,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20662,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre9/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
20663,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre9/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
20664,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
20665,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20666,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
20667,3b05667011a600a2f46422dd533467eff8e7fecf,/6-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
20668,6541873f38f72fdd2b4aab6afcf692f4a513b05d,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20669,6541873f38f72fdd2b4aab6afcf692f4a513b05d,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20670,6541873f38f72fdd2b4aab6afcf692f4a513b05d,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20671,6541873f38f72fdd2b4aab6afcf692f4a513b05d,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
20672,6541873f38f72fdd2b4aab6afcf692f4a513b05d,/7/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
20673,9a104de6086d4a05ca08c193e25ec45a379ba4b2,/8-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
20674,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20675,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
20676,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
20677,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/9.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
20678,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
20679,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20680,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
20681,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
20682,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20683,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20684,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
20685,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
20686,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
20687,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20688,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
20689,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
20690,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
20691,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20692,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
20693,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
20694,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
20695,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20696,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
20697,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/8.0/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20698,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/8.0/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
20699,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/8.0/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
20700,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20701,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
20702,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
20703,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
20704,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
20705,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20706,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20707,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
20708,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
20709,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
20710,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20711,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
20712,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
20713,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk8/Dockerfile,"# verify Tomcat Native is working properly
"
20714,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20715,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
20716,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
20717,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/8.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
20718,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20719,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20720,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
20721,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
20722,8df55d65e8cf2ba159e4409dd7b8b155a531759b,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
20723,8df55d65e8cf2ba159e4409dd7b8b155a531759b,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
20724,8df55d65e8cf2ba159e4409dd7b8b155a531759b,/7/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
20725,8df55d65e8cf2ba159e4409dd7b8b155a531759b,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
20726,8df55d65e8cf2ba159e4409dd7b8b155a531759b,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
20727,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20728,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20729,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20730,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
20731,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
20732,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
20733,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20734,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
20735,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20736,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20737,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20738,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
20739,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
20740,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
20741,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
20742,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
20743,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20744,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
20745,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
20746,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
20747,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20748,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20749,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20750,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
20751,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
20752,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20753,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
20754,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
20755,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
20756,5c76c4a20c9192ca75d9a9739070b7030b64304b,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20757,5c76c4a20c9192ca75d9a9739070b7030b64304b,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
20758,5c76c4a20c9192ca75d9a9739070b7030b64304b,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
20759,5c76c4a20c9192ca75d9a9739070b7030b64304b,/7/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
20760,5c76c4a20c9192ca75d9a9739070b7030b64304b,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20761,5c76c4a20c9192ca75d9a9739070b7030b64304b,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20762,5c76c4a20c9192ca75d9a9739070b7030b64304b,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
20763,5c76c4a20c9192ca75d9a9739070b7030b64304b,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
20764,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre11-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20765,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre11-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
20766,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre11-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
20767,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre11-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
20768,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre11-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
20769,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre11-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20770,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre11-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20771,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre11-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
20772,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre11-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
20773,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre11-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
20774,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre11-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20775,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre11-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
20776,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre11-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
20777,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre11-slim/Dockerfile,"# verify Tomcat Native is working properly
"
20778,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20779,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
20780,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/8.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
20781,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
20782,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/8.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
20783,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20784,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20785,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
20786,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
20787,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20788,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20789,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20790,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
20791,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
20792,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20793,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
20794,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
20795,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
20796,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20797,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20798,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20799,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
20800,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
20801,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20802,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
20803,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
20804,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
20805,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20806,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20807,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20808,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
20809,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
20810,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
20811,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
20812,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
20813,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20814,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
20815,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
20816,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
20817,656c22d037ccaa6adaedbb791febbd2e5197fadd,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20818,656c22d037ccaa6adaedbb791febbd2e5197fadd,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
20819,656c22d037ccaa6adaedbb791febbd2e5197fadd,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
20820,656c22d037ccaa6adaedbb791febbd2e5197fadd,/7/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
20821,656c22d037ccaa6adaedbb791febbd2e5197fadd,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20822,656c22d037ccaa6adaedbb791febbd2e5197fadd,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20823,656c22d037ccaa6adaedbb791febbd2e5197fadd,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
20824,656c22d037ccaa6adaedbb791febbd2e5197fadd,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
20825,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20826,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20827,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20828,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/7/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
20829,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
20830,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/7/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
20831,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/7/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20832,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/7/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
20833,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20834,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20835,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20836,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
20837,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
20838,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
20839,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
20840,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
20841,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20842,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
20843,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
20844,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
20845,fcc0cd5d0992ec4a07f5844c98b0e3112a0568de,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20846,fcc0cd5d0992ec4a07f5844c98b0e3112a0568de,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
20847,fcc0cd5d0992ec4a07f5844c98b0e3112a0568de,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
20848,fcc0cd5d0992ec4a07f5844c98b0e3112a0568de,/8.0/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
20849,fcc0cd5d0992ec4a07f5844c98b0e3112a0568de,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20850,fcc0cd5d0992ec4a07f5844c98b0e3112a0568de,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20851,fcc0cd5d0992ec4a07f5844c98b0e3112a0568de,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
20852,fcc0cd5d0992ec4a07f5844c98b0e3112a0568de,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
20853,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20854,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20855,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20856,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
20857,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
20858,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
20859,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20860,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
20861,5985bc3fcd2479df62bdada2570651291c2e96b2,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20862,5985bc3fcd2479df62bdada2570651291c2e96b2,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20863,5985bc3fcd2479df62bdada2570651291c2e96b2,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20864,5985bc3fcd2479df62bdada2570651291c2e96b2,/8.5/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
20865,5985bc3fcd2479df62bdada2570651291c2e96b2,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
20866,5985bc3fcd2479df62bdada2570651291c2e96b2,/8.5/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
20867,5985bc3fcd2479df62bdada2570651291c2e96b2,/8.5/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20868,5985bc3fcd2479df62bdada2570651291c2e96b2,/8.5/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
20869,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre10-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20870,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre10-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
20871,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre10-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
20872,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre10-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
20873,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre10-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
20874,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre10-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20875,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre10-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20876,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre10-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
20877,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre10-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
20878,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre10-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
20879,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre10-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20880,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre10-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
20881,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20882,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20883,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20884,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
20885,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
20886,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20887,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
20888,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
20889,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
20890,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20891,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20892,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20893,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
20894,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/9.0/jre8-alpine/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
20895,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/9.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20896,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/9.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
20897,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20898,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
20899,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
20900,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
20901,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
20902,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20903,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20904,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
20905,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
20906,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
20907,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20908,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
20909,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20910,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20911,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20912,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
20913,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/9.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20914,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/9.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
20915,676f0e07000cd25c027b71d2433ddf531a75eefd,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20916,676f0e07000cd25c027b71d2433ddf531a75eefd,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
20917,676f0e07000cd25c027b71d2433ddf531a75eefd,/8.0/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
20918,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20919,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20920,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20921,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
20922,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
20923,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20924,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
20925,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
20926,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
20927,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20928,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
20929,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
20930,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
20931,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
20932,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20933,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20934,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
20935,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
20936,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
20937,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20938,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
20939,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
20940,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
20941,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20942,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
20943,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
20944,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
20945,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20946,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20947,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
20948,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
20949,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20950,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20951,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20952,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
20953,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
20954,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20955,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
20956,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
20957,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
20958,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20959,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
20960,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/7/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
20961,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20962,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20963,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
20964,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
20965,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
20966,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20967,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
20968,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
20969,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
20970,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20971,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
20972,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
20973,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
20974,4b72a0a78d129afc6c37574145c19519c977ceed,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20975,4b72a0a78d129afc6c37574145c19519c977ceed,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
20976,4b72a0a78d129afc6c37574145c19519c977ceed,/8.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
20977,4b72a0a78d129afc6c37574145c19519c977ceed,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
20978,4b72a0a78d129afc6c37574145c19519c977ceed,/8.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
20979,4b72a0a78d129afc6c37574145c19519c977ceed,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20980,4b72a0a78d129afc6c37574145c19519c977ceed,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20981,4b72a0a78d129afc6c37574145c19519c977ceed,/8.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
20982,4b72a0a78d129afc6c37574145c19519c977ceed,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
20983,4b72a0a78d129afc6c37574145c19519c977ceed,/8.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20984,4b72a0a78d129afc6c37574145c19519c977ceed,/8.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
20985,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/7/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20986,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/7/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20987,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/7/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20988,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/7/jdk8/corretto/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
20989,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/7/jdk8/corretto/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
20990,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/7/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
20991,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/7/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
20992,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/7/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
20993,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/7/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
20994,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/7/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
20995,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/7/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20996,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/7/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
20997,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/7/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
20998,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/7/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
20999,4fddd4bc6c1656e34b0da3b374ca0f036b689adb,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
21000,4fddd4bc6c1656e34b0da3b374ca0f036b689adb,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
21001,4fddd4bc6c1656e34b0da3b374ca0f036b689adb,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
21002,4fddd4bc6c1656e34b0da3b374ca0f036b689adb,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
21003,4fddd4bc6c1656e34b0da3b374ca0f036b689adb,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
21004,4fddd4bc6c1656e34b0da3b374ca0f036b689adb,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
21005,4fddd4bc6c1656e34b0da3b374ca0f036b689adb,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
21006,4fddd4bc6c1656e34b0da3b374ca0f036b689adb,/9.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
21007,4fddd4bc6c1656e34b0da3b374ca0f036b689adb,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
21008,4fddd4bc6c1656e34b0da3b374ca0f036b689adb,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
21009,4fddd4bc6c1656e34b0da3b374ca0f036b689adb,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
21010,989f50ed5db788921a4954109b90362e2209295e,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
21011,989f50ed5db788921a4954109b90362e2209295e,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
21012,989f50ed5db788921a4954109b90362e2209295e,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
21013,989f50ed5db788921a4954109b90362e2209295e,/8.0/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
21014,989f50ed5db788921a4954109b90362e2209295e,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
21015,989f50ed5db788921a4954109b90362e2209295e,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
21016,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
21017,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
21018,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
21019,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
21020,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
21021,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
21022,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
21023,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
21024,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
21025,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre7/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
21026,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
21027,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
21028,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
21029,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
21030,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
21031,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
21032,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
21033,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
21034,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
21035,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
21036,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
21037,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre7/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
21038,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
21039,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
21040,1cb69781deeac97b2bb138054de3b2f35e9b49a0,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
21041,1cb69781deeac97b2bb138054de3b2f35e9b49a0,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
21042,1cb69781deeac97b2bb138054de3b2f35e9b49a0,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
21043,1cb69781deeac97b2bb138054de3b2f35e9b49a0,/9.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
21044,1cb69781deeac97b2bb138054de3b2f35e9b49a0,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
21045,1cb69781deeac97b2bb138054de3b2f35e9b49a0,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
21046,1cb69781deeac97b2bb138054de3b2f35e9b49a0,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
21047,1cb69781deeac97b2bb138054de3b2f35e9b49a0,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
21048,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre9-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
21049,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre9-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
21050,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre9-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
21051,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre9-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
21052,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre9-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
21053,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre9-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
21054,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre9-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
21055,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre9-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
21056,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre9-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
21057,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre9-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
21058,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre9-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
21059,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre9-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
21060,ed98c30c1cd42c53831f64dffa78a0abf7db8e9a,/6-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
21061,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
21062,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
21063,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
21064,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
21065,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
21066,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
21067,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
21068,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
21069,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
21070,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
21071,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
21072,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
21073,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
21074,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
21075,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
21076,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
21077,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
21078,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
21079,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
21080,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
21081,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
21082,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/6/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
21083,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/6/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
21084,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/6/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
21085,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/6/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
21086,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/6/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
21087,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/6/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
21088,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/6/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
21089,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/6/jre8/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
21090,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
21091,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
21092,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
21093,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
21094,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
21095,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
21096,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
21097,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
21098,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
21099,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
21100,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
21101,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
21102,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
21103,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
21104,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
21105,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
21106,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk12/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
21107,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk12/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
21108,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk12/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
21109,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk12/openjdk-oracle/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
21110,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk12/openjdk-oracle/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
21111,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk12/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
21112,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk12/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
21113,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk12/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
21114,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk12/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
21115,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk12/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
21116,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk12/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
21117,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk12/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
21118,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk12/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
21119,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk12/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
21120,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
21121,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
21122,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
21123,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
21124,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
21125,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
21126,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
21127,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
21128,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
21129,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
21130,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
21131,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
21132,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
21133,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
21134,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
21135,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
21136,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
21137,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
21138,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
21139,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
21140,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
21141,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
21142,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
21143,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
